(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function Ua(n,t){const e=Object.create(null),i=n.split(",");for(let r=0;r<i.length;r++)e[i[r]]=!0;return t?r=>!!e[r.toLowerCase()]:r=>!!e[r]}const Tb="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",Mb=Ua(Tb);function Po(n){if(rt(n)){const t={};for(let e=0;e<n.length;e++){const i=n[e],r=ie(i)?Rb(i):Po(i);if(r)for(const o in r)t[o]=r[o]}return t}else{if(ie(n))return n;if(Yt(n))return n}}const Db=/;(?![^(]*\))/g,Pb=/:([^]+)/,Ib=/\/\*.*?\*\//gs;function Rb(n){const t={};return n.replace(Ib,"").split(Db).forEach(e=>{if(e){const i=e.split(Pb);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Pr(n){let t="";if(ie(n))t=n;else if(rt(n))for(let e=0;e<n.length;e++){const i=Pr(n[e]);i&&(t+=i+" ")}else if(Yt(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}function Lb(n){if(!n)return null;let{class:t,style:e}=n;return t&&!ie(t)&&(n.class=Pr(t)),e&&(n.style=Po(e)),n}const Nb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bb=Ua(Nb);function Rg(n){return!!n||n===""}function Fb(n,t){if(n.length!==t.length)return!1;let e=!0;for(let i=0;e&&i<n.length;i++)e=Vi(n[i],t[i]);return e}function Vi(n,t){if(n===t)return!0;let e=ju(n),i=ju(t);if(e||i)return e&&i?n.getTime()===t.getTime():!1;if(e=fo(n),i=fo(t),e||i)return n===t;if(e=rt(n),i=rt(t),e||i)return e&&i?Fb(n,t):!1;if(e=Yt(n),i=Yt(t),e||i){if(!e||!i)return!1;const r=Object.keys(n).length,o=Object.keys(t).length;if(r!==o)return!1;for(const s in n){const l=n.hasOwnProperty(s),a=t.hasOwnProperty(s);if(l&&!a||!l&&a||!Vi(n[s],t[s]))return!1}}return String(n)===String(t)}function za(n,t){return n.findIndex(e=>Vi(e,t))}const Sn=n=>ie(n)?n:n==null?"":rt(n)||Yt(n)&&(n.toString===Ng||!yt(n.toString))?JSON.stringify(n,Lg,2):String(n),Lg=(n,t)=>t&&t.__v_isRef?Lg(n,t.value):Jr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[i,r])=>(e[`${i} =>`]=r,e),{})}:Ir(t)?{[`Set(${t.size})`]:[...t.values()]}:Yt(t)&&!rt(t)&&!Bg(t)?String(t):t,Ut={},Xr=[],Fn=()=>{},Hb=()=>!1,jb=/^on[^a-z]/,Io=n=>jb.test(n),Pf=n=>n.startsWith("onUpdate:"),pe=Object.assign,If=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},Vb=Object.prototype.hasOwnProperty,Ht=(n,t)=>Vb.call(n,t),rt=Array.isArray,Jr=n=>bs(n)==="[object Map]",Ir=n=>bs(n)==="[object Set]",ju=n=>bs(n)==="[object Date]",$b=n=>bs(n)==="[object RegExp]",yt=n=>typeof n=="function",ie=n=>typeof n=="string",fo=n=>typeof n=="symbol",Yt=n=>n!==null&&typeof n=="object",Rf=n=>Yt(n)&&yt(n.then)&&yt(n.catch),Ng=Object.prototype.toString,bs=n=>Ng.call(n),Wb=n=>bs(n).slice(8,-1),Bg=n=>bs(n)==="[object Object]",Lf=n=>ie(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Xs=Ua(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ka=n=>{const t=Object.create(null);return e=>t[e]||(t[e]=n(e))},Ub=/-(\w)/g,on=Ka(n=>n.replace(Ub,(t,e)=>e?e.toUpperCase():"")),zb=/\B([A-Z])/g,Cn=Ka(n=>n.replace(zb,"-$1").toLowerCase()),Ro=Ka(n=>n.charAt(0).toUpperCase()+n.slice(1)),Js=Ka(n=>n?`on${Ro(n)}`:""),os=(n,t)=>!Object.is(n,t),Qr=(n,t)=>{for(let e=0;e<n.length;e++)n[e](t)},_l=(n,t,e)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value:e})},ta=n=>{const t=parseFloat(n);return isNaN(t)?n:t},ea=n=>{const t=ie(n)?Number(n):NaN;return isNaN(t)?n:t};let Vu;const Kb=()=>Vu||(Vu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let dn;class Nf{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=dn,!t&&dn&&(this.index=(dn.scopes||(dn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=dn;try{return dn=this,t()}finally{dn=e}}}on(){dn=this}off(){dn=this.parent}stop(t){if(this._active){let e,i;for(e=0,i=this.effects.length;e<i;e++)this.effects[e].stop();for(e=0,i=this.cleanups.length;e<i;e++)this.cleanups[e]();if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Gb(n){return new Nf(n)}function Fg(n,t=dn){t&&t.active&&t.effects.push(n)}function Hg(){return dn}function Yb(n){dn&&dn.cleanups.push(n)}const Bf=n=>{const t=new Set(n);return t.w=0,t.n=0,t},jg=n=>(n.w&$i)>0,Vg=n=>(n.n&$i)>0,Xb=({deps:n})=>{if(n.length)for(let t=0;t<n.length;t++)n[t].w|=$i},Jb=n=>{const{deps:t}=n;if(t.length){let e=0;for(let i=0;i<t.length;i++){const r=t[i];jg(r)&&!Vg(r)?r.delete(n):t[e++]=r,r.w&=~$i,r.n&=~$i}t.length=e}},na=new WeakMap;let Hs=0,$i=1;const ph=30;let Ln;const gr=Symbol(""),gh=Symbol("");class Lo{constructor(t,e=null,i){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,Fg(this,i)}run(){if(!this.active)return this.fn();let t=Ln,e=Ni;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ln,Ln=this,Ni=!0,$i=1<<++Hs,Hs<=ph?Xb(this):$u(this),this.fn()}finally{Hs<=ph&&Jb(this),$i=1<<--Hs,Ln=this.parent,Ni=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ln===this?this.deferStop=!0:this.active&&($u(this),this.onStop&&this.onStop(),this.active=!1)}}function $u(n){const{deps:t}=n;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(n);t.length=0}}function Qb(n,t){n.effect&&(n=n.effect.fn);const e=new Lo(n);t&&(pe(e,t),t.scope&&Fg(e,t.scope)),(!t||!t.lazy)&&e.run();const i=e.run.bind(e);return i.effect=e,i}function Zb(n){n.effect.stop()}let Ni=!0;const $g=[];function xs(){$g.push(Ni),Ni=!1}function Ss(){const n=$g.pop();Ni=n===void 0?!0:n}function ln(n,t,e){if(Ni&&Ln){let i=na.get(n);i||na.set(n,i=new Map);let r=i.get(e);r||i.set(e,r=Bf()),Wg(r)}}function Wg(n,t){let e=!1;Hs<=ph?Vg(n)||(n.n|=$i,e=!jg(n)):e=!n.has(Ln),e&&(n.add(Ln),Ln.deps.push(n))}function fi(n,t,e,i,r,o){const s=na.get(n);if(!s)return;let l=[];if(t==="clear")l=[...s.values()];else if(e==="length"&&rt(n)){const a=Number(i);s.forEach((c,h)=>{(h==="length"||h>=a)&&l.push(c)})}else switch(e!==void 0&&l.push(s.get(e)),t){case"add":rt(n)?Lf(e)&&l.push(s.get("length")):(l.push(s.get(gr)),Jr(n)&&l.push(s.get(gh)));break;case"delete":rt(n)||(l.push(s.get(gr)),Jr(n)&&l.push(s.get(gh)));break;case"set":Jr(n)&&l.push(s.get(gr));break}if(l.length===1)l[0]&&mh(l[0]);else{const a=[];for(const c of l)c&&a.push(...c);mh(Bf(a))}}function mh(n,t){const e=rt(n)?n:[...n];for(const i of e)i.computed&&Wu(i);for(const i of e)i.computed||Wu(i)}function Wu(n,t){(n!==Ln||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}function qb(n,t){var e;return(e=na.get(n))===null||e===void 0?void 0:e.get(t)}const _b=Ua("__proto__,__v_isRef,__isVue"),Ug=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(fo)),tx=Ga(),ex=Ga(!1,!0),nx=Ga(!0),ix=Ga(!0,!0),Uu=rx();function rx(){const n={};return["includes","indexOf","lastIndexOf"].forEach(t=>{n[t]=function(...e){const i=It(this);for(let o=0,s=this.length;o<s;o++)ln(i,"get",o+"");const r=i[t](...e);return r===-1||r===!1?i[t](...e.map(It)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{n[t]=function(...e){xs();const i=It(this)[t].apply(this,e);return Ss(),i}}),n}function sx(n){const t=It(this);return ln(t,"has",n),t.hasOwnProperty(n)}function Ga(n=!1,t=!1){return function(i,r,o){if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&o===(n?t?Qg:Jg:t?Xg:Yg).get(i))return i;const s=rt(i);if(!n){if(s&&Ht(Uu,r))return Reflect.get(Uu,r,o);if(r==="hasOwnProperty")return sx}const l=Reflect.get(i,r,o);return(fo(r)?Ug.has(r):_b(r))||(n||ln(i,"get",r),t)?l:we(l)?s&&Lf(r)?l:l.value:Yt(l)?n?Hf(l):No(l):l}}const ox=zg(),lx=zg(!0);function zg(n=!1){return function(e,i,r,o){let s=e[i];if(Cr(s)&&we(s)&&!we(r))return!1;if(!n&&(!uo(r)&&!Cr(r)&&(s=It(s),r=It(r)),!rt(e)&&we(s)&&!we(r)))return s.value=r,!0;const l=rt(e)&&Lf(i)?Number(i)<e.length:Ht(e,i),a=Reflect.set(e,i,r,o);return e===It(o)&&(l?os(r,s)&&fi(e,"set",i,r):fi(e,"add",i,r)),a}}function ax(n,t){const e=Ht(n,t);n[t];const i=Reflect.deleteProperty(n,t);return i&&e&&fi(n,"delete",t,void 0),i}function cx(n,t){const e=Reflect.has(n,t);return(!fo(t)||!Ug.has(t))&&ln(n,"has",t),e}function hx(n){return ln(n,"iterate",rt(n)?"length":gr),Reflect.ownKeys(n)}const Kg={get:tx,set:ox,deleteProperty:ax,has:cx,ownKeys:hx},Gg={get:nx,set(n,t){return!0},deleteProperty(n,t){return!0}},fx=pe({},Kg,{get:ex,set:lx}),ux=pe({},Gg,{get:ix}),Ff=n=>n,Ya=n=>Reflect.getPrototypeOf(n);function Zo(n,t,e=!1,i=!1){n=n.__v_raw;const r=It(n),o=It(t);e||(t!==o&&ln(r,"get",t),ln(r,"get",o));const{has:s}=Ya(r),l=i?Ff:e?$f:po;if(s.call(r,t))return l(n.get(t));if(s.call(r,o))return l(n.get(o));n!==r&&n.get(t)}function qo(n,t=!1){const e=this.__v_raw,i=It(e),r=It(n);return t||(n!==r&&ln(i,"has",n),ln(i,"has",r)),n===r?e.has(n):e.has(n)||e.has(r)}function _o(n,t=!1){return n=n.__v_raw,!t&&ln(It(n),"iterate",gr),Reflect.get(n,"size",n)}function zu(n){n=It(n);const t=It(this);return Ya(t).has.call(t,n)||(t.add(n),fi(t,"add",n,n)),this}function Ku(n,t){t=It(t);const e=It(this),{has:i,get:r}=Ya(e);let o=i.call(e,n);o||(n=It(n),o=i.call(e,n));const s=r.call(e,n);return e.set(n,t),o?os(t,s)&&fi(e,"set",n,t):fi(e,"add",n,t),this}function Gu(n){const t=It(this),{has:e,get:i}=Ya(t);let r=e.call(t,n);r||(n=It(n),r=e.call(t,n)),i&&i.call(t,n);const o=t.delete(n);return r&&fi(t,"delete",n,void 0),o}function Yu(){const n=It(this),t=n.size!==0,e=n.clear();return t&&fi(n,"clear",void 0,void 0),e}function tl(n,t){return function(i,r){const o=this,s=o.__v_raw,l=It(s),a=t?Ff:n?$f:po;return!n&&ln(l,"iterate",gr),s.forEach((c,h)=>i.call(r,a(c),a(h),o))}}function el(n,t,e){return function(...i){const r=this.__v_raw,o=It(r),s=Jr(o),l=n==="entries"||n===Symbol.iterator&&s,a=n==="keys"&&s,c=r[n](...i),h=e?Ff:t?$f:po;return!t&&ln(o,"iterate",a?gh:gr),{next(){const{value:f,done:u}=c.next();return u?{value:f,done:u}:{value:l?[h(f[0]),h(f[1])]:h(f),done:u}},[Symbol.iterator](){return this}}}}function yi(n){return function(...t){return n==="delete"?!1:this}}function dx(){const n={get(o){return Zo(this,o)},get size(){return _o(this)},has:qo,add:zu,set:Ku,delete:Gu,clear:Yu,forEach:tl(!1,!1)},t={get(o){return Zo(this,o,!1,!0)},get size(){return _o(this)},has:qo,add:zu,set:Ku,delete:Gu,clear:Yu,forEach:tl(!1,!0)},e={get(o){return Zo(this,o,!0)},get size(){return _o(this,!0)},has(o){return qo.call(this,o,!0)},add:yi("add"),set:yi("set"),delete:yi("delete"),clear:yi("clear"),forEach:tl(!0,!1)},i={get(o){return Zo(this,o,!0,!0)},get size(){return _o(this,!0)},has(o){return qo.call(this,o,!0)},add:yi("add"),set:yi("set"),delete:yi("delete"),clear:yi("clear"),forEach:tl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=el(o,!1,!1),e[o]=el(o,!0,!1),t[o]=el(o,!1,!0),i[o]=el(o,!0,!0)}),[n,e,t,i]}const[px,gx,mx,vx]=dx();function Xa(n,t){const e=t?n?vx:mx:n?gx:px;return(i,r,o)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?i:Reflect.get(Ht(e,r)&&r in i?e:i,r,o)}const yx={get:Xa(!1,!1)},bx={get:Xa(!1,!0)},xx={get:Xa(!0,!1)},Sx={get:Xa(!0,!0)},Yg=new WeakMap,Xg=new WeakMap,Jg=new WeakMap,Qg=new WeakMap;function wx(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Cx(n){return n.__v_skip||!Object.isExtensible(n)?0:wx(Wb(n))}function No(n){return Cr(n)?n:Ja(n,!1,Kg,yx,Yg)}function Zg(n){return Ja(n,!1,fx,bx,Xg)}function Hf(n){return Ja(n,!0,Gg,xx,Jg)}function Ox(n){return Ja(n,!0,ux,Sx,Qg)}function Ja(n,t,e,i,r){if(!Yt(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const o=r.get(n);if(o)return o;const s=Cx(n);if(s===0)return n;const l=new Proxy(n,s===2?i:e);return r.set(n,l),l}function mr(n){return Cr(n)?mr(n.__v_raw):!!(n&&n.__v_isReactive)}function Cr(n){return!!(n&&n.__v_isReadonly)}function uo(n){return!!(n&&n.__v_isShallow)}function jf(n){return mr(n)||Cr(n)}function It(n){const t=n&&n.__v_raw;return t?It(t):n}function Vf(n){return _l(n,"__v_skip",!0),n}const po=n=>Yt(n)?No(n):n,$f=n=>Yt(n)?Hf(n):n;function Wf(n){Ni&&Ln&&(n=It(n),Wg(n.dep||(n.dep=Bf())))}function Qa(n,t){n=It(n);const e=n.dep;e&&mh(e)}function we(n){return!!(n&&n.__v_isRef===!0)}function Ti(n){return qg(n,!1)}function Qs(n){return qg(n,!0)}function qg(n,t){return we(n)?n:new Ax(n,t)}class Ax{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:It(t),this._value=e?t:po(t)}get value(){return Wf(this),this._value}set value(t){const e=this.__v_isShallow||uo(t)||Cr(t);t=e?t:It(t),os(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:po(t),Qa(this))}}function kx(n){Qa(n)}function ze(n){return we(n)?n.value:n}const Ex={get:(n,t,e)=>ze(Reflect.get(n,t,e)),set:(n,t,e,i)=>{const r=n[t];return we(r)&&!we(e)?(r.value=e,!0):Reflect.set(n,t,e,i)}};function Uf(n){return mr(n)?n:new Proxy(n,Ex)}class Tx{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:e,set:i}=t(()=>Wf(this),()=>Qa(this));this._get=e,this._set=i}get value(){return this._get()}set value(t){this._set(t)}}function Mx(n){return new Tx(n)}function Dx(n){const t=rt(n)?new Array(n.length):{};for(const e in n)t[e]=_g(n,e);return t}class Px{constructor(t,e,i){this._object=t,this._key=e,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return qb(It(this._object),this._key)}}function _g(n,t,e){const i=n[t];return we(i)?i:new Px(n,t,e)}var tm;class Ix{constructor(t,e,i,r){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this[tm]=!1,this._dirty=!0,this.effect=new Lo(t,()=>{this._dirty||(this._dirty=!0,Qa(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const t=It(this);return Wf(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}tm="__v_isReadonly";function Rx(n,t,e=!1){let i,r;const o=yt(n);return o?(i=n,r=Fn):(i=n.get,r=n.set),new Ix(i,r,o||!r,e)}function Lx(n,...t){}function Nx(n,t){}function ai(n,t,e,i){let r;try{r=i?n(...i):n()}catch(o){Rr(o,t,e)}return r}function yn(n,t,e,i){if(yt(n)){const o=ai(n,t,e,i);return o&&Rf(o)&&o.catch(s=>{Rr(s,t,e)}),o}const r=[];for(let o=0;o<n.length;o++)r.push(yn(n[o],t,e,i));return r}function Rr(n,t,e,i=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,l=e;for(;o;){const c=o.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](n,s,l)===!1)return}o=o.parent}const a=t.appContext.config.errorHandler;if(a){ai(a,null,10,[n,s,l]);return}}Bx(n,e,r,i)}function Bx(n,t,e,i=!0){console.error(n)}let go=!1,vh=!1;const Fe=[];let Kn=0;const Zr=[];let ii=null,sr=0;const em=Promise.resolve();let zf=null;function Kf(n){const t=zf||em;return n?t.then(this?n.bind(this):n):t}function Fx(n){let t=Kn+1,e=Fe.length;for(;t<e;){const i=t+e>>>1;mo(Fe[i])<n?t=i+1:e=i}return t}function Za(n){(!Fe.length||!Fe.includes(n,go&&n.allowRecurse?Kn+1:Kn))&&(n.id==null?Fe.push(n):Fe.splice(Fx(n.id),0,n),nm())}function nm(){!go&&!vh&&(vh=!0,zf=em.then(im))}function Hx(n){const t=Fe.indexOf(n);t>Kn&&Fe.splice(t,1)}function Gf(n){rt(n)?Zr.push(...n):(!ii||!ii.includes(n,n.allowRecurse?sr+1:sr))&&Zr.push(n),nm()}function Xu(n,t=go?Kn+1:0){for(;t<Fe.length;t++){const e=Fe[t];e&&e.pre&&(Fe.splice(t,1),t--,e())}}function ia(n){if(Zr.length){const t=[...new Set(Zr)];if(Zr.length=0,ii){ii.push(...t);return}for(ii=t,ii.sort((e,i)=>mo(e)-mo(i)),sr=0;sr<ii.length;sr++)ii[sr]();ii=null,sr=0}}const mo=n=>n.id==null?1/0:n.id,jx=(n,t)=>{const e=mo(n)-mo(t);if(e===0){if(n.pre&&!t.pre)return-1;if(t.pre&&!n.pre)return 1}return e};function im(n){vh=!1,go=!0,Fe.sort(jx);const t=Fn;try{for(Kn=0;Kn<Fe.length;Kn++){const e=Fe[Kn];e&&e.active!==!1&&ai(e,null,14)}}finally{Kn=0,Fe.length=0,ia(),go=!1,zf=null,(Fe.length||Zr.length)&&im()}}let jr,nl=[];function rm(n,t){var e,i;jr=n,jr?(jr.enabled=!0,nl.forEach(({event:r,args:o})=>jr.emit(r,...o)),nl=[]):typeof window<"u"&&window.HTMLElement&&!(!((i=(e=window.navigator)===null||e===void 0?void 0:e.userAgent)===null||i===void 0)&&i.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{rm(o,t)}),setTimeout(()=>{jr||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,nl=[])},3e3)):nl=[]}function Vx(n,t,...e){if(n.isUnmounted)return;const i=n.vnode.props||Ut;let r=e;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in i){const h=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:u}=i[h]||Ut;u&&(r=e.map(d=>ie(d)?d.trim():d)),f&&(r=e.map(ta))}let l,a=i[l=Js(t)]||i[l=Js(on(t))];!a&&o&&(a=i[l=Js(Cn(t))]),a&&yn(a,n,6,r);const c=i[l+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[l])return;n.emitted[l]=!0,yn(c,n,6,r)}}function sm(n,t,e=!1){const i=t.emitsCache,r=i.get(n);if(r!==void 0)return r;const o=n.emits;let s={},l=!1;if(!yt(n)){const a=c=>{const h=sm(c,t,!0);h&&(l=!0,pe(s,h))};!e&&t.mixins.length&&t.mixins.forEach(a),n.extends&&a(n.extends),n.mixins&&n.mixins.forEach(a)}return!o&&!l?(Yt(n)&&i.set(n,null),null):(rt(o)?o.forEach(a=>s[a]=null):pe(s,o),Yt(n)&&i.set(n,s),s)}function qa(n,t){return!n||!Io(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ht(n,t[0].toLowerCase()+t.slice(1))||Ht(n,Cn(t))||Ht(n,t))}let De=null,_a=null;function vo(n){const t=De;return De=n,_a=n&&n.type.__scopeId||null,t}function $x(n){_a=n}function Wx(){_a=null}const Ux=n=>Oe;function Oe(n,t=De,e){if(!t||n._n)return n;const i=(...r)=>{i._d&&Oh(-1);const o=vo(t);let s;try{s=n(...r)}finally{vo(o),i._d&&Oh(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function Bl(n){const{type:t,vnode:e,proxy:i,withProxy:r,props:o,propsOptions:[s],slots:l,attrs:a,emit:c,render:h,renderCache:f,data:u,setupState:d,ctx:p,inheritAttrs:g}=n;let y,v;const m=vo(n);try{if(e.shapeFlag&4){const x=r||i;y=gn(h.call(x,x,f,o,d,u,p)),v=a}else{const x=t;y=gn(x.length>1?x(o,{attrs:a,slots:l,emit:c}):x(o,null)),v=t.props?a:Kx(a)}}catch(x){_s.length=0,Rr(x,n,1),y=Tt(je)}let b=y;if(v&&g!==!1){const x=Object.keys(v),{shapeFlag:S}=b;x.length&&S&7&&(s&&x.some(Pf)&&(v=Gx(v,s)),b=qn(b,v))}return e.dirs&&(b=qn(b),b.dirs=b.dirs?b.dirs.concat(e.dirs):e.dirs),e.transition&&(b.transition=e.transition),y=b,vo(m),y}function zx(n){let t;for(let e=0;e<n.length;e++){const i=n[e];if(Wi(i)){if(i.type!==je||i.children==="v-if"){if(t)return;t=i}}else return}return t}const Kx=n=>{let t;for(const e in n)(e==="class"||e==="style"||Io(e))&&((t||(t={}))[e]=n[e]);return t},Gx=(n,t)=>{const e={};for(const i in n)(!Pf(i)||!(i.slice(9)in t))&&(e[i]=n[i]);return e};function Yx(n,t,e){const{props:i,children:r,component:o}=n,{props:s,children:l,patchFlag:a}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&a>=0){if(a&1024)return!0;if(a&16)return i?Ju(i,s,c):!!s;if(a&8){const h=t.dynamicProps;for(let f=0;f<h.length;f++){const u=h[f];if(s[u]!==i[u]&&!qa(c,u))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:i===s?!1:i?s?Ju(i,s,c):!0:!!s;return!1}function Ju(n,t,e){const i=Object.keys(t);if(i.length!==Object.keys(n).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(t[o]!==n[o]&&!qa(e,o))return!0}return!1}function Yf({vnode:n,parent:t},e){for(;t&&t.subTree===n;)(n=t.vnode).el=e,t=t.parent}const om=n=>n.__isSuspense,Xx={name:"Suspense",__isSuspense:!0,process(n,t,e,i,r,o,s,l,a,c){n==null?Qx(t,e,i,r,o,s,l,a,c):Zx(n,t,e,i,r,s,l,a,c)},hydrate:qx,create:Xf,normalize:_x},Jx=Xx;function yo(n,t){const e=n.props&&n.props[t];yt(e)&&e()}function Qx(n,t,e,i,r,o,s,l,a){const{p:c,o:{createElement:h}}=a,f=h("div"),u=n.suspense=Xf(n,r,i,t,f,e,o,s,l,a);c(null,u.pendingBranch=n.ssContent,f,null,i,u,o,s),u.deps>0?(yo(n,"onPending"),yo(n,"onFallback"),c(null,n.ssFallback,t,e,i,null,o,s),qr(u,n.ssFallback)):u.resolve()}function Zx(n,t,e,i,r,o,s,l,{p:a,um:c,o:{createElement:h}}){const f=t.suspense=n.suspense;f.vnode=t,t.el=n.el;const u=t.ssContent,d=t.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:y,isHydrating:v}=f;if(g)f.pendingBranch=u,Nn(u,g)?(a(g,u,f.hiddenContainer,null,r,f,o,s,l),f.deps<=0?f.resolve():y&&(a(p,d,e,i,r,null,o,s,l),qr(f,d))):(f.pendingId++,v?(f.isHydrating=!1,f.activeBranch=g):c(g,r,f),f.deps=0,f.effects.length=0,f.hiddenContainer=h("div"),y?(a(null,u,f.hiddenContainer,null,r,f,o,s,l),f.deps<=0?f.resolve():(a(p,d,e,i,r,null,o,s,l),qr(f,d))):p&&Nn(u,p)?(a(p,u,e,i,r,f,o,s,l),f.resolve(!0)):(a(null,u,f.hiddenContainer,null,r,f,o,s,l),f.deps<=0&&f.resolve()));else if(p&&Nn(u,p))a(p,u,e,i,r,f,o,s,l),qr(f,u);else if(yo(t,"onPending"),f.pendingBranch=u,f.pendingId++,a(null,u,f.hiddenContainer,null,r,f,o,s,l),f.deps<=0)f.resolve();else{const{timeout:m,pendingId:b}=f;m>0?setTimeout(()=>{f.pendingId===b&&f.fallback(d)},m):m===0&&f.fallback(d)}}function Xf(n,t,e,i,r,o,s,l,a,c,h=!1){const{p:f,m:u,um:d,n:p,o:{parentNode:g,remove:y}}=c,v=n.props?ea(n.props.timeout):void 0,m={vnode:n,parent:t,parentComponent:e,isSVG:s,container:i,hiddenContainer:r,anchor:o,deps:0,pendingId:0,timeout:typeof v=="number"?v:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(b=!1){const{vnode:x,activeBranch:S,pendingBranch:w,pendingId:E,effects:k,parentComponent:O,container:M}=m;if(m.isHydrating)m.isHydrating=!1;else if(!b){const R=S&&w.transition&&w.transition.mode==="out-in";R&&(S.transition.afterLeave=()=>{E===m.pendingId&&u(w,M,P,0)});let{anchor:P}=m;S&&(P=p(S),d(S,O,m,!0)),R||u(w,M,P,0)}qr(m,w),m.pendingBranch=null,m.isInFallback=!1;let I=m.parent,B=!1;for(;I;){if(I.pendingBranch){I.effects.push(...k),B=!0;break}I=I.parent}B||Gf(k),m.effects=[],yo(x,"onResolve")},fallback(b){if(!m.pendingBranch)return;const{vnode:x,activeBranch:S,parentComponent:w,container:E,isSVG:k}=m;yo(x,"onFallback");const O=p(S),M=()=>{m.isInFallback&&(f(null,b,E,O,w,null,k,l,a),qr(m,b))},I=b.transition&&b.transition.mode==="out-in";I&&(S.transition.afterLeave=M),m.isInFallback=!0,d(S,w,null,!0),I||M()},move(b,x,S){m.activeBranch&&u(m.activeBranch,b,x,S),m.container=b},next(){return m.activeBranch&&p(m.activeBranch)},registerDep(b,x){const S=!!m.pendingBranch;S&&m.deps++;const w=b.vnode.el;b.asyncDep.catch(E=>{Rr(E,b,0)}).then(E=>{if(b.isUnmounted||m.isUnmounted||m.pendingId!==b.suspenseId)return;b.asyncResolved=!0;const{vnode:k}=b;Ah(b,E,!1),w&&(k.el=w);const O=!w&&b.subTree.el;x(b,k,g(w||b.subTree.el),w?null:p(b.subTree),m,s,a),O&&y(O),Yf(b,k.el),S&&--m.deps===0&&m.resolve()})},unmount(b,x){m.isUnmounted=!0,m.activeBranch&&d(m.activeBranch,e,b,x),m.pendingBranch&&d(m.pendingBranch,e,b,x)}};return m}function qx(n,t,e,i,r,o,s,l,a){const c=t.suspense=Xf(t,i,e,n.parentNode,document.createElement("div"),null,r,o,s,l,!0),h=a(n,c.pendingBranch=t.ssContent,e,c,o,s);return c.deps===0&&c.resolve(),h}function _x(n){const{shapeFlag:t,children:e}=n,i=t&32;n.ssContent=Qu(i?e.default:e),n.ssFallback=i?Qu(e.fallback):Tt(je)}function Qu(n){let t;if(yt(n)){const e=kr&&n._c;e&&(n._d=!1,Lt()),n=n(),e&&(n._d=!0,t=nn,Nm())}return rt(n)&&(n=zx(n)),n=gn(n),t&&!n.dynamicChildren&&(n.dynamicChildren=t.filter(e=>e!==n)),n}function lm(n,t){t&&t.pendingBranch?rt(n)?t.effects.push(...n):t.effects.push(n):Gf(n)}function qr(n,t){n.activeBranch=t;const{vnode:e,parentComponent:i}=n,r=e.el=t.el;i&&i.subTree===e&&(i.vnode.el=r,Yf(i,r))}function am(n,t){if(de){let e=de.provides;const i=de.parent&&de.parent.provides;i===e&&(e=de.provides=Object.create(i)),e[n]=t}}function _r(n,t,e=!1){const i=de||De;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&n in r)return r[n];if(arguments.length>1)return e&&yt(t)?t.call(i.proxy):t}}function t1(n,t){return Bo(n,null,t)}function cm(n,t){return Bo(n,null,{flush:"post"})}function e1(n,t){return Bo(n,null,{flush:"sync"})}const il={};function Ke(n,t,e){return Bo(n,t,e)}function Bo(n,t,{immediate:e,deep:i,flush:r,onTrack:o,onTrigger:s}=Ut){const l=Hg()===(de==null?void 0:de.scope)?de:null;let a,c=!1,h=!1;if(we(n)?(a=()=>n.value,c=uo(n)):mr(n)?(a=()=>n,i=!0):rt(n)?(h=!0,c=n.some(b=>mr(b)||uo(b)),a=()=>n.map(b=>{if(we(b))return b.value;if(mr(b))return fr(b);if(yt(b))return ai(b,l,2)})):yt(n)?t?a=()=>ai(n,l,2):a=()=>{if(!(l&&l.isUnmounted))return f&&f(),yn(n,l,3,[u])}:a=Fn,t&&i){const b=a;a=()=>fr(b())}let f,u=b=>{f=v.onStop=()=>{ai(b,l,4)}},d;if(as)if(u=Fn,t?e&&yn(t,l,3,[a(),h?[]:void 0,u]):a(),r==="sync"){const b=Gm();d=b.__watcherHandles||(b.__watcherHandles=[])}else return Fn;let p=h?new Array(n.length).fill(il):il;const g=()=>{if(v.active)if(t){const b=v.run();(i||c||(h?b.some((x,S)=>os(x,p[S])):os(b,p)))&&(f&&f(),yn(t,l,3,[b,p===il?void 0:h&&p[0]===il?[]:p,u]),p=b)}else v.run()};g.allowRecurse=!!t;let y;r==="sync"?y=g:r==="post"?y=()=>Ae(g,l&&l.suspense):(g.pre=!0,l&&(g.id=l.uid),y=()=>Za(g));const v=new Lo(a,y);t?e?g():p=v.run():r==="post"?Ae(v.run.bind(v),l&&l.suspense):v.run();const m=()=>{v.stop(),l&&l.scope&&If(l.scope.effects,v)};return d&&d.push(m),m}function n1(n,t,e){const i=this.proxy,r=ie(n)?n.includes(".")?hm(i,n):()=>i[n]:n.bind(i,i);let o;yt(t)?o=t:(o=t.handler,e=t);const s=de;Ui(this);const l=Bo(r,o.bind(i),e);return s?Ui(s):Bi(),l}function hm(n,t){const e=t.split(".");return()=>{let i=n;for(let r=0;r<e.length&&i;r++)i=i[e[r]];return i}}function fr(n,t){if(!Yt(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),we(n))fr(n.value,t);else if(rt(n))for(let e=0;e<n.length;e++)fr(n[e],t);else if(Ir(n)||Jr(n))n.forEach(e=>{fr(e,t)});else if(Bg(n))for(const e in n)fr(n[e],t);return n}function Jf(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ws(()=>{n.isMounted=!0}),Ho(()=>{n.isUnmounting=!0}),n}const bn=[Function,Array],i1={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:bn,onEnter:bn,onAfterEnter:bn,onEnterCancelled:bn,onBeforeLeave:bn,onLeave:bn,onAfterLeave:bn,onLeaveCancelled:bn,onBeforeAppear:bn,onAppear:bn,onAfterAppear:bn,onAppearCancelled:bn},setup(n,{slots:t}){const e=Qi(),i=Jf();let r;return()=>{const o=t.default&&tc(t.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const g of o)if(g.type!==je){s=g;break}}const l=It(n),{mode:a}=l;if(i.isLeaving)return Oc(s);const c=Zu(s);if(!c)return Oc(s);const h=ls(c,l,i,e);Or(c,h);const f=e.subTree,u=f&&Zu(f);let d=!1;const{getTransitionKey:p}=c.type;if(p){const g=p();r===void 0?r=g:g!==r&&(r=g,d=!0)}if(u&&u.type!==je&&(!Nn(c,u)||d)){const g=ls(u,l,i,e);if(Or(u,g),a==="out-in")return i.isLeaving=!0,g.afterLeave=()=>{i.isLeaving=!1,e.update.active!==!1&&e.update()},Oc(s);a==="in-out"&&c.type!==je&&(g.delayLeave=(y,v,m)=>{const b=fm(i,u);b[String(u.key)]=u,y._leaveCb=()=>{v(),y._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=m})}return s}}},Qf=i1;function fm(n,t){const{leavingVNodes:e}=n;let i=e.get(t.type);return i||(i=Object.create(null),e.set(t.type,i)),i}function ls(n,t,e,i){const{appear:r,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:f,onLeave:u,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:g,onAppear:y,onAfterAppear:v,onAppearCancelled:m}=t,b=String(n.key),x=fm(e,n),S=(k,O)=>{k&&yn(k,i,9,O)},w=(k,O)=>{const M=O[1];S(k,O),rt(k)?k.every(I=>I.length<=1)&&M():k.length<=1&&M()},E={mode:o,persisted:s,beforeEnter(k){let O=l;if(!e.isMounted)if(r)O=g||l;else return;k._leaveCb&&k._leaveCb(!0);const M=x[b];M&&Nn(n,M)&&M.el._leaveCb&&M.el._leaveCb(),S(O,[k])},enter(k){let O=a,M=c,I=h;if(!e.isMounted)if(r)O=y||a,M=v||c,I=m||h;else return;let B=!1;const R=k._enterCb=P=>{B||(B=!0,P?S(I,[k]):S(M,[k]),E.delayedLeave&&E.delayedLeave(),k._enterCb=void 0)};O?w(O,[k,R]):R()},leave(k,O){const M=String(n.key);if(k._enterCb&&k._enterCb(!0),e.isUnmounting)return O();S(f,[k]);let I=!1;const B=k._leaveCb=R=>{I||(I=!0,O(),R?S(p,[k]):S(d,[k]),k._leaveCb=void 0,x[M]===n&&delete x[M])};x[M]=n,u?w(u,[k,B]):B()},clone(k){return ls(k,t,e,i)}};return E}function Oc(n){if(Fo(n))return n=qn(n),n.children=null,n}function Zu(n){return Fo(n)?n.children?n.children[0]:void 0:n}function Or(n,t){n.shapeFlag&6&&n.component?Or(n.component.subTree,t):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}function tc(n,t=!1,e){let i=[],r=0;for(let o=0;o<n.length;o++){let s=n[o];const l=e==null?s.key:String(e)+String(s.key!=null?s.key:o);s.type===qt?(s.patchFlag&128&&r++,i=i.concat(tc(s.children,t,l))):(t||s.type!==je)&&i.push(l!=null?qn(s,{key:l}):s)}if(r>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}function Ji(n){return yt(n)?{setup:n,name:n.name}:n}const vr=n=>!!n.type.__asyncLoader;function r1(n){yt(n)&&(n={loader:n});const{loader:t,loadingComponent:e,errorComponent:i,delay:r=200,timeout:o,suspensible:s=!0,onError:l}=n;let a=null,c,h=0;const f=()=>(h++,a=null,u()),u=()=>{let d;return a||(d=a=t().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),l)return new Promise((g,y)=>{l(p,()=>g(f()),()=>y(p),h+1)});throw p}).then(p=>d!==a&&a?a:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),c=p,p)))};return Ji({name:"AsyncComponentWrapper",__asyncLoader:u,get __asyncResolved(){return c},setup(){const d=de;if(c)return()=>Ac(c,d);const p=m=>{a=null,Rr(m,d,13,!i)};if(s&&d.suspense||as)return u().then(m=>()=>Ac(m,d)).catch(m=>(p(m),()=>i?Tt(i,{error:m}):null));const g=Ti(!1),y=Ti(),v=Ti(!!r);return r&&setTimeout(()=>{v.value=!1},r),o!=null&&setTimeout(()=>{if(!g.value&&!y.value){const m=new Error(`Async component timed out after ${o}ms.`);p(m),y.value=m}},o),u().then(()=>{g.value=!0,d.parent&&Fo(d.parent.vnode)&&Za(d.parent.update)}).catch(m=>{p(m),y.value=m}),()=>{if(g.value&&c)return Ac(c,d);if(y.value&&i)return Tt(i,{error:y.value});if(e&&!v.value)return Tt(e)}}})}function Ac(n,t){const{ref:e,props:i,children:r,ce:o}=t.vnode,s=Tt(n,i,r);return s.ref=e,s.ce=o,delete t.vnode.ce,s}const Fo=n=>n.type.__isKeepAlive,s1={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:t}){const e=Qi(),i=e.ctx;if(!i.renderer)return()=>{const m=t.default&&t.default();return m&&m.length===1?m[0]:m};const r=new Map,o=new Set;let s=null;const l=e.suspense,{renderer:{p:a,m:c,um:h,o:{createElement:f}}}=i,u=f("div");i.activate=(m,b,x,S,w)=>{const E=m.component;c(m,b,x,0,l),a(E.vnode,m,b,x,E,l,S,m.slotScopeIds,w),Ae(()=>{E.isDeactivated=!1,E.a&&Qr(E.a);const k=m.props&&m.props.onVnodeMounted;k&&tn(k,E.parent,m)},l)},i.deactivate=m=>{const b=m.component;c(m,u,null,1,l),Ae(()=>{b.da&&Qr(b.da);const x=m.props&&m.props.onVnodeUnmounted;x&&tn(x,b.parent,m),b.isDeactivated=!0},l)};function d(m){kc(m),h(m,e,l,!0)}function p(m){r.forEach((b,x)=>{const S=Eh(b.type);S&&(!m||!m(S))&&g(x)})}function g(m){const b=r.get(m);!s||!Nn(b,s)?d(b):s&&kc(s),r.delete(m),o.delete(m)}Ke(()=>[n.include,n.exclude],([m,b])=>{m&&p(x=>js(m,x)),b&&p(x=>!js(b,x))},{flush:"post",deep:!0});let y=null;const v=()=>{y!=null&&r.set(y,Ec(e.subTree))};return ws(v),nc(v),Ho(()=>{r.forEach(m=>{const{subTree:b,suspense:x}=e,S=Ec(b);if(m.type===S.type&&m.key===S.key){kc(S);const w=S.component.da;w&&Ae(w,x);return}d(m)})}),()=>{if(y=null,!t.default)return null;const m=t.default(),b=m[0];if(m.length>1)return s=null,m;if(!Wi(b)||!(b.shapeFlag&4)&&!(b.shapeFlag&128))return s=null,b;let x=Ec(b);const S=x.type,w=Eh(vr(x)?x.type.__asyncResolved||{}:S),{include:E,exclude:k,max:O}=n;if(E&&(!w||!js(E,w))||k&&w&&js(k,w))return s=x,b;const M=x.key==null?S:x.key,I=r.get(M);return x.el&&(x=qn(x),b.shapeFlag&128&&(b.ssContent=x)),y=M,I?(x.el=I.el,x.component=I.component,x.transition&&Or(x,x.transition),x.shapeFlag|=512,o.delete(M),o.add(M)):(o.add(M),O&&o.size>parseInt(O,10)&&g(o.values().next().value)),x.shapeFlag|=256,s=x,om(b.type)?b:x}}},o1=s1;function js(n,t){return rt(n)?n.some(e=>js(e,t)):ie(n)?n.split(",").includes(t):$b(n)?n.test(t):!1}function um(n,t){pm(n,"a",t)}function dm(n,t){pm(n,"da",t)}function pm(n,t,e=de){const i=n.__wdc||(n.__wdc=()=>{let r=e;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(ec(t,i,e),e){let r=e.parent;for(;r&&r.parent;)Fo(r.parent.vnode)&&l1(i,t,e,r),r=r.parent}}function l1(n,t,e,i){const r=ec(t,n,i,!0);ic(()=>{If(i[t],r)},e)}function kc(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function Ec(n){return n.shapeFlag&128?n.ssContent:n}function ec(n,t,e=de,i=!1){if(e){const r=e[n]||(e[n]=[]),o=t.__weh||(t.__weh=(...s)=>{if(e.isUnmounted)return;xs(),Ui(e);const l=yn(t,e,n,s);return Bi(),Ss(),l});return i?r.unshift(o):r.push(o),o}}const pi=n=>(t,e=de)=>(!as||n==="sp")&&ec(n,(...i)=>t(...i),e),gm=pi("bm"),ws=pi("m"),mm=pi("bu"),nc=pi("u"),Ho=pi("bum"),ic=pi("um"),vm=pi("sp"),ym=pi("rtg"),bm=pi("rtc");function xm(n,t=de){ec("ec",n,t)}function or(n,t){const e=De;if(e===null)return n;const i=sc(e)||e.proxy,r=n.dirs||(n.dirs=[]);for(let o=0;o<t.length;o++){let[s,l,a,c=Ut]=t[o];s&&(yt(s)&&(s={mounted:s,updated:s}),s.deep&&fr(l),r.push({dir:s,instance:i,value:l,oldValue:void 0,arg:a,modifiers:c}))}return n}function Un(n,t,e,i){const r=n.dirs,o=t&&t.dirs;for(let s=0;s<r.length;s++){const l=r[s];o&&(l.oldValue=o[s].value);let a=l.dir[i];a&&(xs(),yn(a,e,8,[n.el,l,n,t]),Ss())}}const Zf="components",a1="directives";function Sm(n,t){return qf(Zf,n,!0,t)||n}const wm=Symbol();function c1(n){return ie(n)?qf(Zf,n,!1)||n:n||wm}function h1(n){return qf(a1,n)}function qf(n,t,e=!0,i=!1){const r=De||de;if(r){const o=r.type;if(n===Zf){const l=Eh(o,!1);if(l&&(l===t||l===on(t)||l===Ro(on(t))))return o}const s=qu(r[n]||o[n],t)||qu(r.appContext[n],t);return!s&&i?o:s}}function qu(n,t){return n&&(n[t]||n[on(t)]||n[Ro(on(t))])}function ri(n,t,e,i){let r;const o=e&&e[i];if(rt(n)||ie(n)){r=new Array(n.length);for(let s=0,l=n.length;s<l;s++)r[s]=t(n[s],s,void 0,o&&o[s])}else if(typeof n=="number"){r=new Array(n);for(let s=0;s<n;s++)r[s]=t(s+1,s,void 0,o&&o[s])}else if(Yt(n))if(n[Symbol.iterator])r=Array.from(n,(s,l)=>t(s,l,void 0,o&&o[l]));else{const s=Object.keys(n);r=new Array(s.length);for(let l=0,a=s.length;l<a;l++){const c=s[l];r[l]=t(n[c],c,l,o&&o[l])}}else r=[];return e&&(e[i]=r),r}function f1(n,t){for(let e=0;e<t.length;e++){const i=t[e];if(rt(i))for(let r=0;r<i.length;r++)n[i[r].name]=i[r].fn;else i&&(n[i.name]=i.key?(...r)=>{const o=i.fn(...r);return o&&(o.key=i.key),o}:i.fn)}return n}function jo(n,t,e={},i,r){if(De.isCE||De.parent&&vr(De.parent)&&De.parent.isCE)return t!=="default"&&(e.name=t),Tt("slot",e,i&&i());let o=n[t];o&&o._c&&(o._d=!1),Lt();const s=o&&Cm(o(e)),l=Mi(qt,{key:e.key||s&&s.key||`_${t}`},s||(i?i():[]),s&&n._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Cm(n){return n.some(t=>Wi(t)?!(t.type===je||t.type===qt&&!Cm(t.children)):!0)?n:null}function u1(n,t){const e={};for(const i in n)e[t&&/[A-Z]/.test(i)?`on:${i}`:Js(i)]=n[i];return e}const yh=n=>n?Vm(n)?sc(n)||n.proxy:yh(n.parent):null,Zs=pe(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>yh(n.parent),$root:n=>yh(n.root),$emit:n=>n.emit,$options:n=>_f(n),$forceUpdate:n=>n.f||(n.f=()=>Za(n.update)),$nextTick:n=>n.n||(n.n=Kf.bind(n.proxy)),$watch:n=>n1.bind(n)}),Tc=(n,t)=>n!==Ut&&!n.__isScriptSetup&&Ht(n,t),bh={get({_:n},t){const{ctx:e,setupState:i,data:r,props:o,accessCache:s,type:l,appContext:a}=n;let c;if(t[0]!=="$"){const d=s[t];if(d!==void 0)switch(d){case 1:return i[t];case 2:return r[t];case 4:return e[t];case 3:return o[t]}else{if(Tc(i,t))return s[t]=1,i[t];if(r!==Ut&&Ht(r,t))return s[t]=2,r[t];if((c=n.propsOptions[0])&&Ht(c,t))return s[t]=3,o[t];if(e!==Ut&&Ht(e,t))return s[t]=4,e[t];xh&&(s[t]=0)}}const h=Zs[t];let f,u;if(h)return t==="$attrs"&&ln(n,"get",t),h(n);if((f=l.__cssModules)&&(f=f[t]))return f;if(e!==Ut&&Ht(e,t))return s[t]=4,e[t];if(u=a.config.globalProperties,Ht(u,t))return u[t]},set({_:n},t,e){const{data:i,setupState:r,ctx:o}=n;return Tc(r,t)?(r[t]=e,!0):i!==Ut&&Ht(i,t)?(i[t]=e,!0):Ht(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(o[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:i,appContext:r,propsOptions:o}},s){let l;return!!e[s]||n!==Ut&&Ht(n,s)||Tc(t,s)||(l=o[0])&&Ht(l,s)||Ht(i,s)||Ht(Zs,s)||Ht(r.config.globalProperties,s)},defineProperty(n,t,e){return e.get!=null?n._.accessCache[t]=0:Ht(e,"value")&&this.set(n,t,e.value,null),Reflect.defineProperty(n,t,e)}},d1=pe({},bh,{get(n,t){if(t!==Symbol.unscopables)return bh.get(n,t,n)},has(n,t){return t[0]!=="_"&&!Mb(t)}});let xh=!0;function p1(n){const t=_f(n),e=n.proxy,i=n.ctx;xh=!1,t.beforeCreate&&_u(t.beforeCreate,n,"bc");const{data:r,computed:o,methods:s,watch:l,provide:a,inject:c,created:h,beforeMount:f,mounted:u,beforeUpdate:d,updated:p,activated:g,deactivated:y,beforeDestroy:v,beforeUnmount:m,destroyed:b,unmounted:x,render:S,renderTracked:w,renderTriggered:E,errorCaptured:k,serverPrefetch:O,expose:M,inheritAttrs:I,components:B,directives:R,filters:P}=t;if(c&&g1(c,i,null,n.appContext.config.unwrapInjectedRef),s)for(const Y in s){const q=s[Y];yt(q)&&(i[Y]=q.bind(e))}if(r){const Y=r.call(e,e);Yt(Y)&&(n.data=No(Y))}if(xh=!0,o)for(const Y in o){const q=o[Y],ft=yt(q)?q.bind(e,e):yt(q.get)?q.get.bind(e,e):Fn,xt=!yt(q)&&yt(q.set)?q.set.bind(e):Fn,kt=br({get:ft,set:xt});Object.defineProperty(i,Y,{enumerable:!0,configurable:!0,get:()=>kt.value,set:Ot=>kt.value=Ot})}if(l)for(const Y in l)Om(l[Y],i,e,Y);if(a){const Y=yt(a)?a.call(e):a;Reflect.ownKeys(Y).forEach(q=>{am(q,Y[q])})}h&&_u(h,n,"c");function H(Y,q){rt(q)?q.forEach(ft=>Y(ft.bind(e))):q&&Y(q.bind(e))}if(H(gm,f),H(ws,u),H(mm,d),H(nc,p),H(um,g),H(dm,y),H(xm,k),H(bm,w),H(ym,E),H(Ho,m),H(ic,x),H(vm,O),rt(M))if(M.length){const Y=n.exposed||(n.exposed={});M.forEach(q=>{Object.defineProperty(Y,q,{get:()=>e[q],set:ft=>e[q]=ft})})}else n.exposed||(n.exposed={});S&&n.render===Fn&&(n.render=S),I!=null&&(n.inheritAttrs=I),B&&(n.components=B),R&&(n.directives=R)}function g1(n,t,e=Fn,i=!1){rt(n)&&(n=Sh(n));for(const r in n){const o=n[r];let s;Yt(o)?"default"in o?s=_r(o.from||r,o.default,!0):s=_r(o.from||r):s=_r(o),we(s)&&i?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):t[r]=s}}function _u(n,t,e){yn(rt(n)?n.map(i=>i.bind(t.proxy)):n.bind(t.proxy),t,e)}function Om(n,t,e,i){const r=i.includes(".")?hm(e,i):()=>e[i];if(ie(n)){const o=t[n];yt(o)&&Ke(r,o)}else if(yt(n))Ke(r,n.bind(e));else if(Yt(n))if(rt(n))n.forEach(o=>Om(o,t,e,i));else{const o=yt(n.handler)?n.handler.bind(e):t[n.handler];yt(o)&&Ke(r,o,n)}}function _f(n){const t=n.type,{mixins:e,extends:i}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=n.appContext,l=o.get(t);let a;return l?a=l:!r.length&&!e&&!i?a=t:(a={},r.length&&r.forEach(c=>ra(a,c,s,!0)),ra(a,t,s)),Yt(t)&&o.set(t,a),a}function ra(n,t,e,i=!1){const{mixins:r,extends:o}=t;o&&ra(n,o,e,!0),r&&r.forEach(s=>ra(n,s,e,!0));for(const s in t)if(!(i&&s==="expose")){const l=m1[s]||e&&e[s];n[s]=l?l(n[s],t[s]):t[s]}return n}const m1={data:td,props:ir,emits:ir,methods:ir,computed:ir,beforeCreate:We,created:We,beforeMount:We,mounted:We,beforeUpdate:We,updated:We,beforeDestroy:We,beforeUnmount:We,destroyed:We,unmounted:We,activated:We,deactivated:We,errorCaptured:We,serverPrefetch:We,components:ir,directives:ir,watch:y1,provide:td,inject:v1};function td(n,t){return t?n?function(){return pe(yt(n)?n.call(this,this):n,yt(t)?t.call(this,this):t)}:t:n}function v1(n,t){return ir(Sh(n),Sh(t))}function Sh(n){if(rt(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function We(n,t){return n?[...new Set([].concat(n,t))]:t}function ir(n,t){return n?pe(pe(Object.create(null),n),t):t}function y1(n,t){if(!n)return t;if(!t)return n;const e=pe(Object.create(null),n);for(const i in t)e[i]=We(n[i],t[i]);return e}function b1(n,t,e,i=!1){const r={},o={};_l(o,rc,1),n.propsDefaults=Object.create(null),Am(n,t,r,o);for(const s in n.propsOptions[0])s in r||(r[s]=void 0);e?n.props=i?r:Zg(r):n.type.props?n.props=r:n.props=o,n.attrs=o}function x1(n,t,e,i){const{props:r,attrs:o,vnode:{patchFlag:s}}=n,l=It(r),[a]=n.propsOptions;let c=!1;if((i||s>0)&&!(s&16)){if(s&8){const h=n.vnode.dynamicProps;for(let f=0;f<h.length;f++){let u=h[f];if(qa(n.emitsOptions,u))continue;const d=t[u];if(a)if(Ht(o,u))d!==o[u]&&(o[u]=d,c=!0);else{const p=on(u);r[p]=wh(a,l,p,d,n,!1)}else d!==o[u]&&(o[u]=d,c=!0)}}}else{Am(n,t,r,o)&&(c=!0);let h;for(const f in l)(!t||!Ht(t,f)&&((h=Cn(f))===f||!Ht(t,h)))&&(a?e&&(e[f]!==void 0||e[h]!==void 0)&&(r[f]=wh(a,l,f,void 0,n,!0)):delete r[f]);if(o!==l)for(const f in o)(!t||!Ht(t,f))&&(delete o[f],c=!0)}c&&fi(n,"set","$attrs")}function Am(n,t,e,i){const[r,o]=n.propsOptions;let s=!1,l;if(t)for(let a in t){if(Xs(a))continue;const c=t[a];let h;r&&Ht(r,h=on(a))?!o||!o.includes(h)?e[h]=c:(l||(l={}))[h]=c:qa(n.emitsOptions,a)||(!(a in i)||c!==i[a])&&(i[a]=c,s=!0)}if(o){const a=It(e),c=l||Ut;for(let h=0;h<o.length;h++){const f=o[h];e[f]=wh(r,a,f,c[f],n,!Ht(c,f))}}return s}function wh(n,t,e,i,r,o){const s=n[e];if(s!=null){const l=Ht(s,"default");if(l&&i===void 0){const a=s.default;if(s.type!==Function&&yt(a)){const{propsDefaults:c}=r;e in c?i=c[e]:(Ui(r),i=c[e]=a.call(null,t),Bi())}else i=a}s[0]&&(o&&!l?i=!1:s[1]&&(i===""||i===Cn(e))&&(i=!0))}return i}function km(n,t,e=!1){const i=t.propsCache,r=i.get(n);if(r)return r;const o=n.props,s={},l=[];let a=!1;if(!yt(n)){const h=f=>{a=!0;const[u,d]=km(f,t,!0);pe(s,u),d&&l.push(...d)};!e&&t.mixins.length&&t.mixins.forEach(h),n.extends&&h(n.extends),n.mixins&&n.mixins.forEach(h)}if(!o&&!a)return Yt(n)&&i.set(n,Xr),Xr;if(rt(o))for(let h=0;h<o.length;h++){const f=on(o[h]);ed(f)&&(s[f]=Ut)}else if(o)for(const h in o){const f=on(h);if(ed(f)){const u=o[h],d=s[f]=rt(u)||yt(u)?{type:u}:Object.assign({},u);if(d){const p=rd(Boolean,d.type),g=rd(String,d.type);d[0]=p>-1,d[1]=g<0||p<g,(p>-1||Ht(d,"default"))&&l.push(f)}}}const c=[s,l];return Yt(n)&&i.set(n,c),c}function ed(n){return n[0]!=="$"}function nd(n){const t=n&&n.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:n===null?"null":""}function id(n,t){return nd(n)===nd(t)}function rd(n,t){return rt(t)?t.findIndex(e=>id(e,n)):yt(t)&&id(t,n)?0:-1}const Em=n=>n[0]==="_"||n==="$stable",tu=n=>rt(n)?n.map(gn):[gn(n)],S1=(n,t,e)=>{if(t._n)return t;const i=Oe((...r)=>tu(t(...r)),e);return i._c=!1,i},Tm=(n,t,e)=>{const i=n._ctx;for(const r in n){if(Em(r))continue;const o=n[r];if(yt(o))t[r]=S1(r,o,i);else if(o!=null){const s=tu(o);t[r]=()=>s}}},Mm=(n,t)=>{const e=tu(t);n.slots.default=()=>e},w1=(n,t)=>{if(n.vnode.shapeFlag&32){const e=t._;e?(n.slots=It(t),_l(t,"_",e)):Tm(t,n.slots={})}else n.slots={},t&&Mm(n,t);_l(n.slots,rc,1)},C1=(n,t,e)=>{const{vnode:i,slots:r}=n;let o=!0,s=Ut;if(i.shapeFlag&32){const l=t._;l?e&&l===1?o=!1:(pe(r,t),!e&&l===1&&delete r._):(o=!t.$stable,Tm(t,r)),s=t}else t&&(Mm(n,t),s={default:1});if(o)for(const l in r)!Em(l)&&!(l in s)&&delete r[l]};function Dm(){return{app:null,config:{isNativeTag:Hb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let O1=0;function A1(n,t){return function(i,r=null){yt(i)||(i=Object.assign({},i)),r!=null&&!Yt(r)&&(r=null);const o=Dm(),s=new Set;let l=!1;const a=o.app={_uid:O1++,_component:i,_props:r,_container:null,_context:o,_instance:null,version:Xm,get config(){return o.config},set config(c){},use(c,...h){return s.has(c)||(c&&yt(c.install)?(s.add(c),c.install(a,...h)):yt(c)&&(s.add(c),c(a,...h))),a},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),a},component(c,h){return h?(o.components[c]=h,a):o.components[c]},directive(c,h){return h?(o.directives[c]=h,a):o.directives[c]},mount(c,h,f){if(!l){const u=Tt(i,r);return u.appContext=o,h&&t?t(u,c):n(u,c,f),l=!0,a._container=c,c.__vue_app__=a,sc(u.component)||u.component.proxy}},unmount(){l&&(n(null,a._container),delete a._container.__vue_app__)},provide(c,h){return o.provides[c]=h,a}};return a}}function sa(n,t,e,i,r=!1){if(rt(n)){n.forEach((u,d)=>sa(u,t&&(rt(t)?t[d]:t),e,i,r));return}if(vr(i)&&!r)return;const o=i.shapeFlag&4?sc(i.component)||i.component.proxy:i.el,s=r?null:o,{i:l,r:a}=n,c=t&&t.r,h=l.refs===Ut?l.refs={}:l.refs,f=l.setupState;if(c!=null&&c!==a&&(ie(c)?(h[c]=null,Ht(f,c)&&(f[c]=null)):we(c)&&(c.value=null)),yt(a))ai(a,l,12,[s,h]);else{const u=ie(a),d=we(a);if(u||d){const p=()=>{if(n.f){const g=u?Ht(f,a)?f[a]:h[a]:a.value;r?rt(g)&&If(g,o):rt(g)?g.includes(o)||g.push(o):u?(h[a]=[o],Ht(f,a)&&(f[a]=h[a])):(a.value=[o],n.k&&(h[n.k]=a.value))}else u?(h[a]=s,Ht(f,a)&&(f[a]=s)):d&&(a.value=s,n.k&&(h[n.k]=s))};s?(p.id=-1,Ae(p,e)):p()}}}let bi=!1;const rl=n=>/svg/.test(n.namespaceURI)&&n.tagName!=="foreignObject",sl=n=>n.nodeType===8;function k1(n){const{mt:t,p:e,o:{patchProp:i,createText:r,nextSibling:o,parentNode:s,remove:l,insert:a,createComment:c}}=n,h=(v,m)=>{if(!m.hasChildNodes()){e(null,v,m),ia(),m._vnode=v;return}bi=!1,f(m.firstChild,v,null,null,null),ia(),m._vnode=v,bi&&console.error("Hydration completed but contains mismatches.")},f=(v,m,b,x,S,w=!1)=>{const E=sl(v)&&v.data==="[",k=()=>g(v,m,b,x,S,E),{type:O,ref:M,shapeFlag:I,patchFlag:B}=m;let R=v.nodeType;m.el=v,B===-2&&(w=!1,m.dynamicChildren=null);let P=null;switch(O){case Ar:R!==3?m.children===""?(a(m.el=r(""),s(v),v),P=v):P=k():(v.data!==m.children&&(bi=!0,v.data=m.children),P=o(v));break;case je:R!==8||E?P=k():P=o(v);break;case yr:if(E&&(v=o(v),R=v.nodeType),R===1||R===3){P=v;const Q=!m.children.length;for(let H=0;H<m.staticCount;H++)Q&&(m.children+=P.nodeType===1?P.outerHTML:P.data),H===m.staticCount-1&&(m.anchor=P),P=o(P);return E?o(P):P}else k();break;case qt:E?P=p(v,m,b,x,S,w):P=k();break;default:if(I&1)R!==1||m.type.toLowerCase()!==v.tagName.toLowerCase()?P=k():P=u(v,m,b,x,S,w);else if(I&6){m.slotScopeIds=S;const Q=s(v);if(t(m,Q,null,b,x,rl(Q),w),P=E?y(v):o(v),P&&sl(P)&&P.data==="teleport end"&&(P=o(P)),vr(m)){let H;E?(H=Tt(qt),H.anchor=P?P.previousSibling:Q.lastChild):H=v.nodeType===3?Ne(""):Tt("div"),H.el=v,m.component.subTree=H}}else I&64?R!==8?P=k():P=m.type.hydrate(v,m,b,x,S,w,n,d):I&128&&(P=m.type.hydrate(v,m,b,x,rl(s(v)),S,w,n,f))}return M!=null&&sa(M,null,x,m),P},u=(v,m,b,x,S,w)=>{w=w||!!m.dynamicChildren;const{type:E,props:k,patchFlag:O,shapeFlag:M,dirs:I}=m,B=E==="input"&&I||E==="option";if(B||O!==-1){if(I&&Un(m,null,b,"created"),k)if(B||!w||O&48)for(const P in k)(B&&P.endsWith("value")||Io(P)&&!Xs(P))&&i(v,P,null,k[P],!1,void 0,b);else k.onClick&&i(v,"onClick",null,k.onClick,!1,void 0,b);let R;if((R=k&&k.onVnodeBeforeMount)&&tn(R,b,m),I&&Un(m,null,b,"beforeMount"),((R=k&&k.onVnodeMounted)||I)&&lm(()=>{R&&tn(R,b,m),I&&Un(m,null,b,"mounted")},x),M&16&&!(k&&(k.innerHTML||k.textContent))){let P=d(v.firstChild,m,v,b,x,S,w);for(;P;){bi=!0;const Q=P;P=P.nextSibling,l(Q)}}else M&8&&v.textContent!==m.children&&(bi=!0,v.textContent=m.children)}return v.nextSibling},d=(v,m,b,x,S,w,E)=>{E=E||!!m.dynamicChildren;const k=m.children,O=k.length;for(let M=0;M<O;M++){const I=E?k[M]:k[M]=gn(k[M]);if(v)v=f(v,I,x,S,w,E);else{if(I.type===Ar&&!I.children)continue;bi=!0,e(null,I,b,null,x,S,rl(b),w)}}return v},p=(v,m,b,x,S,w)=>{const{slotScopeIds:E}=m;E&&(S=S?S.concat(E):E);const k=s(v),O=d(o(v),m,k,b,x,S,w);return O&&sl(O)&&O.data==="]"?o(m.anchor=O):(bi=!0,a(m.anchor=c("]"),k,O),O)},g=(v,m,b,x,S,w)=>{if(bi=!0,m.el=null,w){const O=y(v);for(;;){const M=o(v);if(M&&M!==O)l(M);else break}}const E=o(v),k=s(v);return l(v),e(null,m,k,E,b,x,rl(k),S),E},y=v=>{let m=0;for(;v;)if(v=o(v),v&&sl(v)&&(v.data==="["&&m++,v.data==="]")){if(m===0)return o(v);m--}return v};return[h,f]}const Ae=lm;function Pm(n){return Rm(n)}function Im(n){return Rm(n,k1)}function Rm(n,t){const e=Kb();e.__VUE__=!0;const{insert:i,remove:r,patchProp:o,createElement:s,createText:l,createComment:a,setText:c,setElementText:h,parentNode:f,nextSibling:u,setScopeId:d=Fn,insertStaticContent:p}=n,g=(C,A,L,$=null,j=null,z=null,Z=!1,G=null,K=!!A.dynamicChildren)=>{if(C===A)return;C&&!Nn(C,A)&&($=Wt(C),Ot(C,j,z,!0),C=null),A.patchFlag===-2&&(K=!1,A.dynamicChildren=null);const{type:W,ref:ot,shapeFlag:tt}=A;switch(W){case Ar:y(C,A,L,$);break;case je:v(C,A,L,$);break;case yr:C==null&&m(A,L,$,Z);break;case qt:B(C,A,L,$,j,z,Z,G,K);break;default:tt&1?S(C,A,L,$,j,z,Z,G,K):tt&6?R(C,A,L,$,j,z,Z,G,K):(tt&64||tt&128)&&W.process(C,A,L,$,j,z,Z,G,K,ce)}ot!=null&&j&&sa(ot,C&&C.ref,z,A||C,!A)},y=(C,A,L,$)=>{if(C==null)i(A.el=l(A.children),L,$);else{const j=A.el=C.el;A.children!==C.children&&c(j,A.children)}},v=(C,A,L,$)=>{C==null?i(A.el=a(A.children||""),L,$):A.el=C.el},m=(C,A,L,$)=>{[C.el,C.anchor]=p(C.children,A,L,$,C.el,C.anchor)},b=({el:C,anchor:A},L,$)=>{let j;for(;C&&C!==A;)j=u(C),i(C,L,$),C=j;i(A,L,$)},x=({el:C,anchor:A})=>{let L;for(;C&&C!==A;)L=u(C),r(C),C=L;r(A)},S=(C,A,L,$,j,z,Z,G,K)=>{Z=Z||A.type==="svg",C==null?w(A,L,$,j,z,Z,G,K):O(C,A,j,z,Z,G,K)},w=(C,A,L,$,j,z,Z,G)=>{let K,W;const{type:ot,props:tt,shapeFlag:lt,transition:dt,dirs:St}=C;if(K=C.el=s(C.type,z,tt&&tt.is,tt),lt&8?h(K,C.children):lt&16&&k(C.children,K,null,$,j,z&&ot!=="foreignObject",Z,G),St&&Un(C,null,$,"created"),E(K,C,C.scopeId,Z,$),tt){for(const Bt in tt)Bt!=="value"&&!Xs(Bt)&&o(K,Bt,null,tt[Bt],z,C.children,$,j,Nt);"value"in tt&&o(K,"value",null,tt.value),(W=tt.onVnodeBeforeMount)&&tn(W,$,C)}St&&Un(C,null,$,"beforeMount");const jt=(!j||j&&!j.pendingBranch)&&dt&&!dt.persisted;jt&&dt.beforeEnter(K),i(K,A,L),((W=tt&&tt.onVnodeMounted)||jt||St)&&Ae(()=>{W&&tn(W,$,C),jt&&dt.enter(K),St&&Un(C,null,$,"mounted")},j)},E=(C,A,L,$,j)=>{if(L&&d(C,L),$)for(let z=0;z<$.length;z++)d(C,$[z]);if(j){let z=j.subTree;if(A===z){const Z=j.vnode;E(C,Z,Z.scopeId,Z.slotScopeIds,j.parent)}}},k=(C,A,L,$,j,z,Z,G,K=0)=>{for(let W=K;W<C.length;W++){const ot=C[W]=G?wi(C[W]):gn(C[W]);g(null,ot,A,L,$,j,z,Z,G)}},O=(C,A,L,$,j,z,Z)=>{const G=A.el=C.el;let{patchFlag:K,dynamicChildren:W,dirs:ot}=A;K|=C.patchFlag&16;const tt=C.props||Ut,lt=A.props||Ut;let dt;L&&qi(L,!1),(dt=lt.onVnodeBeforeUpdate)&&tn(dt,L,A,C),ot&&Un(A,C,L,"beforeUpdate"),L&&qi(L,!0);const St=j&&A.type!=="foreignObject";if(W?M(C.dynamicChildren,W,G,L,$,St,z):Z||q(C,A,G,null,L,$,St,z,!1),K>0){if(K&16)I(G,A,tt,lt,L,$,j);else if(K&2&&tt.class!==lt.class&&o(G,"class",null,lt.class,j),K&4&&o(G,"style",tt.style,lt.style,j),K&8){const jt=A.dynamicProps;for(let Bt=0;Bt<jt.length;Bt++){const T=jt[Bt],D=tt[T],N=lt[T];(N!==D||T==="value")&&o(G,T,D,N,j,C.children,L,$,Nt)}}K&1&&C.children!==A.children&&h(G,A.children)}else!Z&&W==null&&I(G,A,tt,lt,L,$,j);((dt=lt.onVnodeUpdated)||ot)&&Ae(()=>{dt&&tn(dt,L,A,C),ot&&Un(A,C,L,"updated")},$)},M=(C,A,L,$,j,z,Z)=>{for(let G=0;G<A.length;G++){const K=C[G],W=A[G],ot=K.el&&(K.type===qt||!Nn(K,W)||K.shapeFlag&70)?f(K.el):L;g(K,W,ot,null,$,j,z,Z,!0)}},I=(C,A,L,$,j,z,Z)=>{if(L!==$){if(L!==Ut)for(const G in L)!Xs(G)&&!(G in $)&&o(C,G,L[G],null,Z,A.children,j,z,Nt);for(const G in $){if(Xs(G))continue;const K=$[G],W=L[G];K!==W&&G!=="value"&&o(C,G,W,K,Z,A.children,j,z,Nt)}"value"in $&&o(C,"value",L.value,$.value)}},B=(C,A,L,$,j,z,Z,G,K)=>{const W=A.el=C?C.el:l(""),ot=A.anchor=C?C.anchor:l("");let{patchFlag:tt,dynamicChildren:lt,slotScopeIds:dt}=A;dt&&(G=G?G.concat(dt):dt),C==null?(i(W,L,$),i(ot,L,$),k(A.children,L,ot,j,z,Z,G,K)):tt>0&&tt&64&&lt&&C.dynamicChildren?(M(C.dynamicChildren,lt,L,j,z,Z,G),(A.key!=null||j&&A===j.subTree)&&eu(C,A,!0)):q(C,A,L,ot,j,z,Z,G,K)},R=(C,A,L,$,j,z,Z,G,K)=>{A.slotScopeIds=G,C==null?A.shapeFlag&512?j.ctx.activate(A,L,$,Z,K):P(A,L,$,j,z,Z,K):Q(C,A,K)},P=(C,A,L,$,j,z,Z)=>{const G=C.component=jm(C,$,j);if(Fo(C)&&(G.ctx.renderer=ce),$m(G),G.asyncDep){if(j&&j.registerDep(G,H),!C.el){const K=G.subTree=Tt(je);v(null,K,A,L)}return}H(G,C,A,L,j,z,Z)},Q=(C,A,L)=>{const $=A.component=C.component;if(Yx(C,A,L))if($.asyncDep&&!$.asyncResolved){Y($,A,L);return}else $.next=A,Hx($.update),$.update();else A.el=C.el,$.vnode=A},H=(C,A,L,$,j,z,Z)=>{const G=()=>{if(C.isMounted){let{next:ot,bu:tt,u:lt,parent:dt,vnode:St}=C,jt=ot,Bt;qi(C,!1),ot?(ot.el=St.el,Y(C,ot,Z)):ot=St,tt&&Qr(tt),(Bt=ot.props&&ot.props.onVnodeBeforeUpdate)&&tn(Bt,dt,ot,St),qi(C,!0);const T=Bl(C),D=C.subTree;C.subTree=T,g(D,T,f(D.el),Wt(D),C,j,z),ot.el=T.el,jt===null&&Yf(C,T.el),lt&&Ae(lt,j),(Bt=ot.props&&ot.props.onVnodeUpdated)&&Ae(()=>tn(Bt,dt,ot,St),j)}else{let ot;const{el:tt,props:lt}=A,{bm:dt,m:St,parent:jt}=C,Bt=vr(A);if(qi(C,!1),dt&&Qr(dt),!Bt&&(ot=lt&&lt.onVnodeBeforeMount)&&tn(ot,jt,A),qi(C,!0),tt&&Mn){const T=()=>{C.subTree=Bl(C),Mn(tt,C.subTree,C,j,null)};Bt?A.type.__asyncLoader().then(()=>!C.isUnmounted&&T()):T()}else{const T=C.subTree=Bl(C);g(null,T,L,$,C,j,z),A.el=T.el}if(St&&Ae(St,j),!Bt&&(ot=lt&&lt.onVnodeMounted)){const T=A;Ae(()=>tn(ot,jt,T),j)}(A.shapeFlag&256||jt&&vr(jt.vnode)&&jt.vnode.shapeFlag&256)&&C.a&&Ae(C.a,j),C.isMounted=!0,A=L=$=null}},K=C.effect=new Lo(G,()=>Za(W),C.scope),W=C.update=()=>K.run();W.id=C.uid,qi(C,!0),W()},Y=(C,A,L)=>{A.component=C;const $=C.vnode.props;C.vnode=A,C.next=null,x1(C,A.props,$,L),C1(C,A.children,L),xs(),Xu(),Ss()},q=(C,A,L,$,j,z,Z,G,K=!1)=>{const W=C&&C.children,ot=C?C.shapeFlag:0,tt=A.children,{patchFlag:lt,shapeFlag:dt}=A;if(lt>0){if(lt&128){xt(W,tt,L,$,j,z,Z,G,K);return}else if(lt&256){ft(W,tt,L,$,j,z,Z,G,K);return}}dt&8?(ot&16&&Nt(W,j,z),tt!==W&&h(L,tt)):ot&16?dt&16?xt(W,tt,L,$,j,z,Z,G,K):Nt(W,j,z,!0):(ot&8&&h(L,""),dt&16&&k(tt,L,$,j,z,Z,G,K))},ft=(C,A,L,$,j,z,Z,G,K)=>{C=C||Xr,A=A||Xr;const W=C.length,ot=A.length,tt=Math.min(W,ot);let lt;for(lt=0;lt<tt;lt++){const dt=A[lt]=K?wi(A[lt]):gn(A[lt]);g(C[lt],dt,L,null,j,z,Z,G,K)}W>ot?Nt(C,j,z,!0,!1,tt):k(A,L,$,j,z,Z,G,K,tt)},xt=(C,A,L,$,j,z,Z,G,K)=>{let W=0;const ot=A.length;let tt=C.length-1,lt=ot-1;for(;W<=tt&&W<=lt;){const dt=C[W],St=A[W]=K?wi(A[W]):gn(A[W]);if(Nn(dt,St))g(dt,St,L,null,j,z,Z,G,K);else break;W++}for(;W<=tt&&W<=lt;){const dt=C[tt],St=A[lt]=K?wi(A[lt]):gn(A[lt]);if(Nn(dt,St))g(dt,St,L,null,j,z,Z,G,K);else break;tt--,lt--}if(W>tt){if(W<=lt){const dt=lt+1,St=dt<ot?A[dt].el:$;for(;W<=lt;)g(null,A[W]=K?wi(A[W]):gn(A[W]),L,St,j,z,Z,G,K),W++}}else if(W>lt)for(;W<=tt;)Ot(C[W],j,z,!0),W++;else{const dt=W,St=W,jt=new Map;for(W=St;W<=lt;W++){const ct=A[W]=K?wi(A[W]):gn(A[W]);ct.key!=null&&jt.set(ct.key,W)}let Bt,T=0;const D=lt-St+1;let N=!1,U=0;const _=new Array(D);for(W=0;W<D;W++)_[W]=0;for(W=dt;W<=tt;W++){const ct=C[W];if(T>=D){Ot(ct,j,z,!0);continue}let wt;if(ct.key!=null)wt=jt.get(ct.key);else for(Bt=St;Bt<=lt;Bt++)if(_[Bt-St]===0&&Nn(ct,A[Bt])){wt=Bt;break}wt===void 0?Ot(ct,j,z,!0):(_[wt-St]=W+1,wt>=U?U=wt:N=!0,g(ct,A[wt],L,null,j,z,Z,G,K),T++)}const pt=N?E1(_):Xr;for(Bt=pt.length-1,W=D-1;W>=0;W--){const ct=St+W,wt=A[ct],_t=ct+1<ot?A[ct+1].el:$;_[W]===0?g(null,wt,L,_t,j,z,Z,G,K):N&&(Bt<0||W!==pt[Bt]?kt(wt,L,_t,2):Bt--)}}},kt=(C,A,L,$,j=null)=>{const{el:z,type:Z,transition:G,children:K,shapeFlag:W}=C;if(W&6){kt(C.component.subTree,A,L,$);return}if(W&128){C.suspense.move(A,L,$);return}if(W&64){Z.move(C,A,L,ce);return}if(Z===qt){i(z,A,L);for(let tt=0;tt<K.length;tt++)kt(K[tt],A,L,$);i(C.anchor,A,L);return}if(Z===yr){b(C,A,L);return}if($!==2&&W&1&&G)if($===0)G.beforeEnter(z),i(z,A,L),Ae(()=>G.enter(z),j);else{const{leave:tt,delayLeave:lt,afterLeave:dt}=G,St=()=>i(z,A,L),jt=()=>{tt(z,()=>{St(),dt&&dt()})};lt?lt(z,St,jt):jt()}else i(z,A,L)},Ot=(C,A,L,$=!1,j=!1)=>{const{type:z,props:Z,ref:G,children:K,dynamicChildren:W,shapeFlag:ot,patchFlag:tt,dirs:lt}=C;if(G!=null&&sa(G,null,L,C,!0),ot&256){A.ctx.deactivate(C);return}const dt=ot&1&&lt,St=!vr(C);let jt;if(St&&(jt=Z&&Z.onVnodeBeforeUnmount)&&tn(jt,A,C),ot&6)ae(C.component,L,$);else{if(ot&128){C.suspense.unmount(L,$);return}dt&&Un(C,null,A,"beforeUnmount"),ot&64?C.type.remove(C,A,L,j,ce,$):W&&(z!==qt||tt>0&&tt&64)?Nt(W,A,L,!1,!0):(z===qt&&tt&384||!j&&ot&16)&&Nt(K,A,L),$&&zt(C)}(St&&(jt=Z&&Z.onVnodeUnmounted)||dt)&&Ae(()=>{jt&&tn(jt,A,C),dt&&Un(C,null,A,"unmounted")},L)},zt=C=>{const{type:A,el:L,anchor:$,transition:j}=C;if(A===qt){re(L,$);return}if(A===yr){x(C);return}const z=()=>{r(L),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(C.shapeFlag&1&&j&&!j.persisted){const{leave:Z,delayLeave:G}=j,K=()=>Z(L,z);G?G(C.el,z,K):K()}else z()},re=(C,A)=>{let L;for(;C!==A;)L=u(C),r(C),C=L;r(A)},ae=(C,A,L)=>{const{bum:$,scope:j,update:z,subTree:Z,um:G}=C;$&&Qr($),j.stop(),z&&(z.active=!1,Ot(Z,C,A,L)),G&&Ae(G,A),Ae(()=>{C.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},Nt=(C,A,L,$=!1,j=!1,z=0)=>{for(let Z=z;Z<C.length;Z++)Ot(C[Z],A,L,$,j)},Wt=C=>C.shapeFlag&6?Wt(C.component.subTree):C.shapeFlag&128?C.suspense.next():u(C.anchor||C.el),Re=(C,A,L)=>{C==null?A._vnode&&Ot(A._vnode,null,null,!0):g(A._vnode||null,C,A,null,null,null,L),Xu(),ia(),A._vnode=C},ce={p:g,um:Ot,m:kt,r:zt,mt:P,mc:k,pc:q,pbc:M,n:Wt,o:n};let cn,Mn;return t&&([cn,Mn]=t(ce)),{render:Re,hydrate:cn,createApp:A1(Re,cn)}}function qi({effect:n,update:t},e){n.allowRecurse=t.allowRecurse=e}function eu(n,t,e=!1){const i=n.children,r=t.children;if(rt(i)&&rt(r))for(let o=0;o<i.length;o++){const s=i[o];let l=r[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[o]=wi(r[o]),l.el=s.el),e||eu(s,l)),l.type===Ar&&(l.el=s.el)}}function E1(n){const t=n.slice(),e=[0];let i,r,o,s,l;const a=n.length;for(i=0;i<a;i++){const c=n[i];if(c!==0){if(r=e[e.length-1],n[r]<c){t[i]=r,e.push(i);continue}for(o=0,s=e.length-1;o<s;)l=o+s>>1,n[e[l]]<c?o=l+1:s=l;c<n[e[o]]&&(o>0&&(t[i]=e[o-1]),e[o]=i)}}for(o=e.length,s=e[o-1];o-- >0;)e[o]=s,s=t[s];return e}const T1=n=>n.__isTeleport,qs=n=>n&&(n.disabled||n.disabled===""),sd=n=>typeof SVGElement<"u"&&n instanceof SVGElement,Ch=(n,t)=>{const e=n&&n.to;return ie(e)?t?t(e):null:e},M1={__isTeleport:!0,process(n,t,e,i,r,o,s,l,a,c){const{mc:h,pc:f,pbc:u,o:{insert:d,querySelector:p,createText:g,createComment:y}}=c,v=qs(t.props);let{shapeFlag:m,children:b,dynamicChildren:x}=t;if(n==null){const S=t.el=g(""),w=t.anchor=g("");d(S,e,i),d(w,e,i);const E=t.target=Ch(t.props,p),k=t.targetAnchor=g("");E&&(d(k,E),s=s||sd(E));const O=(M,I)=>{m&16&&h(b,M,I,r,o,s,l,a)};v?O(e,w):E&&O(E,k)}else{t.el=n.el;const S=t.anchor=n.anchor,w=t.target=n.target,E=t.targetAnchor=n.targetAnchor,k=qs(n.props),O=k?e:w,M=k?S:E;if(s=s||sd(w),x?(u(n.dynamicChildren,x,O,r,o,s,l),eu(n,t,!0)):a||f(n,t,O,M,r,o,s,l,!1),v)k||ol(t,e,S,c,1);else if((t.props&&t.props.to)!==(n.props&&n.props.to)){const I=t.target=Ch(t.props,p);I&&ol(t,I,null,c,0)}else k&&ol(t,w,E,c,1)}Lm(t)},remove(n,t,e,i,{um:r,o:{remove:o}},s){const{shapeFlag:l,children:a,anchor:c,targetAnchor:h,target:f,props:u}=n;if(f&&o(h),(s||!qs(u))&&(o(c),l&16))for(let d=0;d<a.length;d++){const p=a[d];r(p,t,e,!0,!!p.dynamicChildren)}},move:ol,hydrate:D1};function ol(n,t,e,{o:{insert:i},m:r},o=2){o===0&&i(n.targetAnchor,t,e);const{el:s,anchor:l,shapeFlag:a,children:c,props:h}=n,f=o===2;if(f&&i(s,t,e),(!f||qs(h))&&a&16)for(let u=0;u<c.length;u++)r(c[u],t,e,2);f&&i(l,t,e)}function D1(n,t,e,i,r,o,{o:{nextSibling:s,parentNode:l,querySelector:a}},c){const h=t.target=Ch(t.props,a);if(h){const f=h._lpa||h.firstChild;if(t.shapeFlag&16)if(qs(t.props))t.anchor=c(s(n),t,l(n),e,i,r,o),t.targetAnchor=f;else{t.anchor=s(n);let u=f;for(;u;)if(u=s(u),u&&u.nodeType===8&&u.data==="teleport anchor"){t.targetAnchor=u,h._lpa=t.targetAnchor&&s(t.targetAnchor);break}c(f,t,h,e,i,r,o)}Lm(t)}return t.anchor&&s(t.anchor)}const P1=M1;function Lm(n){const t=n.ctx;if(t&&t.ut){let e=n.children[0].el;for(;e!==n.targetAnchor;)e.nodeType===1&&e.setAttribute("data-v-owner",t.uid),e=e.nextSibling;t.ut()}}const qt=Symbol(void 0),Ar=Symbol(void 0),je=Symbol(void 0),yr=Symbol(void 0),_s=[];let nn=null;function Lt(n=!1){_s.push(nn=n?null:[])}function Nm(){_s.pop(),nn=_s[_s.length-1]||null}let kr=1;function Oh(n){kr+=n}function Bm(n){return n.dynamicChildren=kr>0?nn||Xr:null,Nm(),kr>0&&nn&&nn.push(n),n}function Kt(n,t,e,i,r,o){return Bm(ht(n,t,e,i,r,o,!0))}function Mi(n,t,e,i,r){return Bm(Tt(n,t,e,i,r,!0))}function Wi(n){return n?n.__v_isVNode===!0:!1}function Nn(n,t){return n.type===t.type&&n.key===t.key}function I1(n){}const rc="__vInternal",Fm=({key:n})=>n??null,Fl=({ref:n,ref_key:t,ref_for:e})=>n!=null?ie(n)||we(n)||yt(n)?{i:De,r:n,k:t,f:!!e}:n:null;function ht(n,t=null,e=null,i=0,r=null,o=n===qt?0:1,s=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&Fm(t),ref:t&&Fl(t),scopeId:_a,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:De};return l?(nu(a,e),o&128&&n.normalize(a)):e&&(a.shapeFlag|=ie(e)?8:16),kr>0&&!s&&nn&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&nn.push(a),a}const Tt=R1;function R1(n,t=null,e=null,i=0,r=null,o=!1){if((!n||n===wm)&&(n=je),Wi(n)){const l=qn(n,t,!0);return e&&nu(l,e),kr>0&&!o&&nn&&(l.shapeFlag&6?nn[nn.indexOf(n)]=l:nn.push(l)),l.patchFlag|=-2,l}if($1(n)&&(n=n.__vccOpts),t){t=Hm(t);let{class:l,style:a}=t;l&&!ie(l)&&(t.class=Pr(l)),Yt(a)&&(jf(a)&&!rt(a)&&(a=pe({},a)),t.style=Po(a))}const s=ie(n)?1:om(n)?128:T1(n)?64:Yt(n)?4:yt(n)?2:0;return ht(n,t,e,i,r,s,o,!0)}function Hm(n){return n?jf(n)||rc in n?pe({},n):n:null}function qn(n,t,e=!1){const{props:i,ref:r,patchFlag:o,children:s}=n,l=t?iu(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:l,key:l&&Fm(l),ref:t&&t.ref?e&&r?rt(r)?r.concat(Fl(t)):[r,Fl(t)]:Fl(t):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:s,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==qt?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&qn(n.ssContent),ssFallback:n.ssFallback&&qn(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function Ne(n=" ",t=0){return Tt(Ar,null,n,t)}function L1(n,t){const e=Tt(yr,null,n);return e.staticCount=t,e}function ur(n="",t=!1){return t?(Lt(),Mi(je,null,n)):Tt(je,null,n)}function gn(n){return n==null||typeof n=="boolean"?Tt(je):rt(n)?Tt(qt,null,n.slice()):typeof n=="object"?wi(n):Tt(Ar,null,String(n))}function wi(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:qn(n)}function nu(n,t){let e=0;const{shapeFlag:i}=n;if(t==null)t=null;else if(rt(t))e=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),nu(n,r()),r._c&&(r._d=!0));return}else{e=32;const r=t._;!r&&!(rc in t)?t._ctx=De:r===3&&De&&(De.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else yt(t)?(t={default:t,_ctx:De},e=32):(t=String(t),i&64?(e=16,t=[Ne(t)]):e=8);n.children=t,n.shapeFlag|=e}function iu(...n){const t={};for(let e=0;e<n.length;e++){const i=n[e];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=Pr([t.class,i.class]));else if(r==="style")t.style=Po([t.style,i.style]);else if(Io(r)){const o=t[r],s=i[r];s&&o!==s&&!(rt(o)&&o.includes(s))&&(t[r]=o?[].concat(o,s):s)}else r!==""&&(t[r]=i[r])}return t}function tn(n,t,e,i=null){yn(n,t,7,[e,i])}const N1=Dm();let B1=0;function jm(n,t,e){const i=n.type,r=(t?t.appContext:n.appContext)||N1,o={uid:B1++,vnode:n,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Nf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:km(i,r),emitsOptions:sm(i,r),emit:null,emitted:null,propsDefaults:Ut,inheritAttrs:i.inheritAttrs,ctx:Ut,data:Ut,props:Ut,attrs:Ut,slots:Ut,refs:Ut,setupState:Ut,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Vx.bind(null,o),n.ce&&n.ce(o),o}let de=null;const Qi=()=>de||De,Ui=n=>{de=n,n.scope.on()},Bi=()=>{de&&de.scope.off(),de=null};function Vm(n){return n.vnode.shapeFlag&4}let as=!1;function $m(n,t=!1){as=t;const{props:e,children:i}=n.vnode,r=Vm(n);b1(n,e,r,t),w1(n,i);const o=r?F1(n,t):void 0;return as=!1,o}function F1(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=Vf(new Proxy(n.ctx,bh));const{setup:i}=e;if(i){const r=n.setupContext=i.length>1?Um(n):null;Ui(n),xs();const o=ai(i,n,0,[n.props,r]);if(Ss(),Bi(),Rf(o)){if(o.then(Bi,Bi),t)return o.then(s=>{Ah(n,s,t)}).catch(s=>{Rr(s,n,0)});n.asyncDep=o}else Ah(n,o,t)}else Wm(n,t)}function Ah(n,t,e){yt(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:Yt(t)&&(n.setupState=Uf(t)),Wm(n,e)}let oa,kh;function H1(n){oa=n,kh=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,d1))}}const j1=()=>!oa;function Wm(n,t,e){const i=n.type;if(!n.render){if(!t&&oa&&!i.render){const r=i.template||_f(n).template;if(r){const{isCustomElement:o,compilerOptions:s}=n.appContext.config,{delimiters:l,compilerOptions:a}=i,c=pe(pe({isCustomElement:o,delimiters:l},s),a);i.render=oa(r,c)}}n.render=i.render||Fn,kh&&kh(n)}Ui(n),xs(),p1(n),Ss(),Bi()}function V1(n){return new Proxy(n.attrs,{get(t,e){return ln(n,"get","$attrs"),t[e]}})}function Um(n){const t=i=>{n.exposed=i||{}};let e;return{get attrs(){return e||(e=V1(n))},slots:n.slots,emit:n.emit,expose:t}}function sc(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(Uf(Vf(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in Zs)return Zs[e](n)},has(t,e){return e in t||e in Zs}}))}function Eh(n,t=!0){return yt(n)?n.displayName||n.name:n.name||t&&n.__name}function $1(n){return yt(n)&&"__vccOpts"in n}const br=(n,t)=>Rx(n,t,as);function W1(){return null}function U1(){return null}function z1(n){}function K1(n,t){return null}function G1(){return zm().slots}function Y1(){return zm().attrs}function zm(){const n=Qi();return n.setupContext||(n.setupContext=Um(n))}function X1(n,t){const e=rt(n)?n.reduce((i,r)=>(i[r]={},i),{}):n;for(const i in t){const r=e[i];r?rt(r)||yt(r)?e[i]={type:r,default:t[i]}:r.default=t[i]:r===null&&(e[i]={default:t[i]})}return e}function J1(n,t){const e={};for(const i in n)t.includes(i)||Object.defineProperty(e,i,{enumerable:!0,get:()=>n[i]});return e}function Q1(n){const t=Qi();let e=n();return Bi(),Rf(e)&&(e=e.catch(i=>{throw Ui(t),i})),[e,()=>Ui(t)]}function ru(n,t,e){const i=arguments.length;return i===2?Yt(t)&&!rt(t)?Wi(t)?Tt(n,null,[t]):Tt(n,t):Tt(n,null,t):(i>3?e=Array.prototype.slice.call(arguments,2):i===3&&Wi(e)&&(e=[e]),Tt(n,t,e))}const Km=Symbol(""),Gm=()=>_r(Km);function Z1(){}function q1(n,t,e,i){const r=e[i];if(r&&Ym(r,n))return r;const o=t();return o.memo=n.slice(),e[i]=o}function Ym(n,t){const e=n.memo;if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(os(e[i],t[i]))return!1;return kr>0&&nn&&nn.push(n),!0}const Xm="3.2.47",_1={createComponentInstance:jm,setupComponent:$m,renderComponentRoot:Bl,setCurrentRenderingInstance:vo,isVNode:Wi,normalizeVNode:gn},tS=_1,eS=null,nS=null,iS="http://www.w3.org/2000/svg",lr=typeof document<"u"?document:null,od=lr&&lr.createElement("template"),rS={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,i)=>{const r=t?lr.createElementNS(iS,n):lr.createElement(n,e?{is:e}:void 0);return n==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:n=>lr.createTextNode(n),createComment:n=>lr.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>lr.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,e,i,r,o){const s=e?e.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),e),!(r===o||!(r=r.nextSibling)););else{od.innerHTML=i?`<svg>${n}</svg>`:n;const l=od.content;if(i){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,e)}return[s?s.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}};function sS(n,t,e){const i=n._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}function oS(n,t,e){const i=n.style,r=ie(e);if(e&&!r){if(t&&!ie(t))for(const o in t)e[o]==null&&Th(i,o,"");for(const o in e)Th(i,o,e[o])}else{const o=i.display;r?t!==e&&(i.cssText=e):t&&n.removeAttribute("style"),"_vod"in n&&(i.display=o)}}const ld=/\s*!important$/;function Th(n,t,e){if(rt(e))e.forEach(i=>Th(n,t,i));else if(e==null&&(e=""),t.startsWith("--"))n.setProperty(t,e);else{const i=lS(n,t);ld.test(e)?n.setProperty(Cn(i),e.replace(ld,""),"important"):n[i]=e}}const ad=["Webkit","Moz","ms"],Mc={};function lS(n,t){const e=Mc[t];if(e)return e;let i=on(t);if(i!=="filter"&&i in n)return Mc[t]=i;i=Ro(i);for(let r=0;r<ad.length;r++){const o=ad[r]+i;if(o in n)return Mc[t]=o}return t}const cd="http://www.w3.org/1999/xlink";function aS(n,t,e,i,r){if(i&&t.startsWith("xlink:"))e==null?n.removeAttributeNS(cd,t.slice(6,t.length)):n.setAttributeNS(cd,t,e);else{const o=Bb(t);e==null||o&&!Rg(e)?n.removeAttribute(t):n.setAttribute(t,o?"":e)}}function cS(n,t,e,i,r,o,s){if(t==="innerHTML"||t==="textContent"){i&&s(i,r,o),n[t]=e??"";return}if(t==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=e;const a=e??"";(n.value!==a||n.tagName==="OPTION")&&(n.value=a),e==null&&n.removeAttribute(t);return}let l=!1;if(e===""||e==null){const a=typeof n[t];a==="boolean"?e=Rg(e):e==null&&a==="string"?(e="",l=!0):a==="number"&&(e=0,l=!0)}try{n[t]=e}catch{}l&&n.removeAttribute(t)}function oi(n,t,e,i){n.addEventListener(t,e,i)}function hS(n,t,e,i){n.removeEventListener(t,e,i)}function fS(n,t,e,i,r=null){const o=n._vei||(n._vei={}),s=o[t];if(i&&s)s.value=i;else{const[l,a]=uS(t);if(i){const c=o[t]=gS(i,r);oi(n,l,c,a)}else s&&(hS(n,l,s,a),o[t]=void 0)}}const hd=/(?:Once|Passive|Capture)$/;function uS(n){let t;if(hd.test(n)){t={};let i;for(;i=n.match(hd);)n=n.slice(0,n.length-i[0].length),t[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Cn(n.slice(2)),t]}let Dc=0;const dS=Promise.resolve(),pS=()=>Dc||(dS.then(()=>Dc=0),Dc=Date.now());function gS(n,t){const e=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=e.attached)return;yn(mS(i,e.value),t,5,[i])};return e.value=n,e.attached=pS(),e}function mS(n,t){if(rt(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const fd=/^on[a-z]/,vS=(n,t,e,i,r=!1,o,s,l,a)=>{t==="class"?sS(n,i,r):t==="style"?oS(n,e,i):Io(t)?Pf(t)||fS(n,t,e,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):yS(n,t,i,r))?cS(n,t,i,o,s,l,a):(t==="true-value"?n._trueValue=i:t==="false-value"&&(n._falseValue=i),aS(n,t,i,r))};function yS(n,t,e,i){return i?!!(t==="innerHTML"||t==="textContent"||t in n&&fd.test(t)&&yt(e)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA"||fd.test(t)&&ie(e)?!1:t in n}function Jm(n,t){const e=Ji(n);class i extends oc{constructor(o){super(e,o,t)}}return i.def=e,i}const bS=n=>Jm(n,f0),xS=typeof HTMLElement<"u"?HTMLElement:class{};class oc extends xS{constructor(t,e={},i){super(),this._def=t,this._props=e,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Kf(()=>{this._connected||(Ph(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(const r of i)this._setAttr(r.attributeName)}).observe(this,{attributes:!0});const t=(i,r=!1)=>{const{props:o,styles:s}=i;let l;if(o&&!rt(o))for(const a in o){const c=o[a];(c===Number||c&&c.type===Number)&&(a in this._props&&(this._props[a]=ea(this._props[a])),(l||(l=Object.create(null)))[on(a)]=!0)}this._numberProps=l,r&&this._resolveProps(i),this._applyStyles(s),this._update()},e=this._def.__asyncLoader;e?e().then(i=>t(i,!0)):t(this._def)}_resolveProps(t){const{props:e}=t,i=rt(e)?e:Object.keys(e||{});for(const r of Object.keys(this))r[0]!=="_"&&i.includes(r)&&this._setProp(r,this[r],!0,!1);for(const r of i.map(on))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(o){this._setProp(r,o)}})}_setAttr(t){let e=this.getAttribute(t);const i=on(t);this._numberProps&&this._numberProps[i]&&(e=ea(e)),this._setProp(i,e,!1)}_getProp(t){return this._props[t]}_setProp(t,e,i=!0,r=!0){e!==this._props[t]&&(this._props[t]=e,r&&this._instance&&this._update(),i&&(e===!0?this.setAttribute(Cn(t),""):typeof e=="string"||typeof e=="number"?this.setAttribute(Cn(t),e+""):e||this.removeAttribute(Cn(t))))}_update(){Ph(this._createVNode(),this.shadowRoot)}_createVNode(){const t=Tt(this._def,pe({},this._props));return this._instance||(t.ce=e=>{this._instance=e,e.isCE=!0;const i=(o,s)=>{this.dispatchEvent(new CustomEvent(o,{detail:s}))};e.emit=(o,...s)=>{i(o,s),Cn(o)!==o&&i(Cn(o),s)};let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof oc){e.parent=r._instance,e.provides=r._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(e=>{const i=document.createElement("style");i.textContent=e,this.shadowRoot.appendChild(i)})}}function SS(n="$style"){{const t=Qi();if(!t)return Ut;const e=t.type.__cssModules;if(!e)return Ut;const i=e[n];return i||Ut}}function wS(n){const t=Qi();if(!t)return;const e=t.ut=(r=n(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(o=>Dh(o,r))},i=()=>{const r=n(t.proxy);Mh(t.subTree,r),e(r)};cm(i),ws(()=>{const r=new MutationObserver(i);r.observe(t.subTree.el.parentNode,{childList:!0}),ic(()=>r.disconnect())})}function Mh(n,t){if(n.shapeFlag&128){const e=n.suspense;n=e.activeBranch,e.pendingBranch&&!e.isHydrating&&e.effects.push(()=>{Mh(e.activeBranch,t)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)Dh(n.el,t);else if(n.type===qt)n.children.forEach(e=>Mh(e,t));else if(n.type===yr){let{el:e,anchor:i}=n;for(;e&&(Dh(e,t),e!==i);)e=e.nextSibling}}function Dh(n,t){if(n.nodeType===1){const e=n.style;for(const i in t)e.setProperty(`--${i}`,t[i])}}const xi="transition",ks="animation",su=(n,{slots:t})=>ru(Qf,Zm(n),t);su.displayName="Transition";const Qm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},CS=su.props=pe({},Qf.props,Qm),_i=(n,t=[])=>{rt(n)?n.forEach(e=>e(...t)):n&&n(...t)},ud=n=>n?rt(n)?n.some(t=>t.length>1):n.length>1:!1;function Zm(n){const t={};for(const B in n)B in Qm||(t[B]=n[B]);if(n.css===!1)return t;const{name:e="v",type:i,duration:r,enterFromClass:o=`${e}-enter-from`,enterActiveClass:s=`${e}-enter-active`,enterToClass:l=`${e}-enter-to`,appearFromClass:a=o,appearActiveClass:c=s,appearToClass:h=l,leaveFromClass:f=`${e}-leave-from`,leaveActiveClass:u=`${e}-leave-active`,leaveToClass:d=`${e}-leave-to`}=n,p=OS(r),g=p&&p[0],y=p&&p[1],{onBeforeEnter:v,onEnter:m,onEnterCancelled:b,onLeave:x,onLeaveCancelled:S,onBeforeAppear:w=v,onAppear:E=m,onAppearCancelled:k=b}=t,O=(B,R,P)=>{Si(B,R?h:l),Si(B,R?c:s),P&&P()},M=(B,R)=>{B._isLeaving=!1,Si(B,f),Si(B,d),Si(B,u),R&&R()},I=B=>(R,P)=>{const Q=B?E:m,H=()=>O(R,B,P);_i(Q,[R,H]),dd(()=>{Si(R,B?a:o),ni(R,B?h:l),ud(Q)||pd(R,i,g,H)})};return pe(t,{onBeforeEnter(B){_i(v,[B]),ni(B,o),ni(B,s)},onBeforeAppear(B){_i(w,[B]),ni(B,a),ni(B,c)},onEnter:I(!1),onAppear:I(!0),onLeave(B,R){B._isLeaving=!0;const P=()=>M(B,R);ni(B,f),_m(),ni(B,u),dd(()=>{B._isLeaving&&(Si(B,f),ni(B,d),ud(x)||pd(B,i,y,P))}),_i(x,[B,P])},onEnterCancelled(B){O(B,!1),_i(b,[B])},onAppearCancelled(B){O(B,!0),_i(k,[B])},onLeaveCancelled(B){M(B),_i(S,[B])}})}function OS(n){if(n==null)return null;if(Yt(n))return[Pc(n.enter),Pc(n.leave)];{const t=Pc(n);return[t,t]}}function Pc(n){return ea(n)}function ni(n,t){t.split(/\s+/).forEach(e=>e&&n.classList.add(e)),(n._vtc||(n._vtc=new Set)).add(t)}function Si(n,t){t.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const{_vtc:e}=n;e&&(e.delete(t),e.size||(n._vtc=void 0))}function dd(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let AS=0;function pd(n,t,e,i){const r=n._endId=++AS,o=()=>{r===n._endId&&i()};if(e)return setTimeout(o,e);const{type:s,timeout:l,propCount:a}=qm(n,t);if(!s)return i();const c=s+"end";let h=0;const f=()=>{n.removeEventListener(c,u),o()},u=d=>{d.target===n&&++h>=a&&f()};setTimeout(()=>{h<a&&f()},l+1),n.addEventListener(c,u)}function qm(n,t){const e=window.getComputedStyle(n),i=p=>(e[p]||"").split(", "),r=i(`${xi}Delay`),o=i(`${xi}Duration`),s=gd(r,o),l=i(`${ks}Delay`),a=i(`${ks}Duration`),c=gd(l,a);let h=null,f=0,u=0;t===xi?s>0&&(h=xi,f=s,u=o.length):t===ks?c>0&&(h=ks,f=c,u=a.length):(f=Math.max(s,c),h=f>0?s>c?xi:ks:null,u=h?h===xi?o.length:a.length:0);const d=h===xi&&/\b(transform|all)(,|$)/.test(i(`${xi}Property`).toString());return{type:h,timeout:f,propCount:u,hasTransform:d}}function gd(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max(...t.map((e,i)=>md(e)+md(n[i])))}function md(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function _m(){return document.body.offsetHeight}const t0=new WeakMap,e0=new WeakMap,n0={name:"TransitionGroup",props:pe({},CS,{tag:String,moveClass:String}),setup(n,{slots:t}){const e=Qi(),i=Jf();let r,o;return nc(()=>{if(!r.length)return;const s=n.moveClass||`${n.name||"v"}-move`;if(!PS(r[0].el,e.vnode.el,s))return;r.forEach(TS),r.forEach(MS);const l=r.filter(DS);_m(),l.forEach(a=>{const c=a.el,h=c.style;ni(c,s),h.transform=h.webkitTransform=h.transitionDuration="";const f=c._moveCb=u=>{u&&u.target!==c||(!u||/transform$/.test(u.propertyName))&&(c.removeEventListener("transitionend",f),c._moveCb=null,Si(c,s))};c.addEventListener("transitionend",f)})}),()=>{const s=It(n),l=Zm(s);let a=s.tag||qt;r=o,o=t.default?tc(t.default()):[];for(let c=0;c<o.length;c++){const h=o[c];h.key!=null&&Or(h,ls(h,l,i,e))}if(r)for(let c=0;c<r.length;c++){const h=r[c];Or(h,ls(h,l,i,e)),t0.set(h,h.el.getBoundingClientRect())}return Tt(a,null,o)}}},kS=n=>delete n.mode;n0.props;const ES=n0;function TS(n){const t=n.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function MS(n){e0.set(n,n.el.getBoundingClientRect())}function DS(n){const t=t0.get(n),e=e0.get(n),i=t.left-e.left,r=t.top-e.top;if(i||r){const o=n.el.style;return o.transform=o.webkitTransform=`translate(${i}px,${r}px)`,o.transitionDuration="0s",n}}function PS(n,t,e){const i=n.cloneNode();n._vtc&&n._vtc.forEach(s=>{s.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),e.split(/\s+/).forEach(s=>s&&i.classList.add(s)),i.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(i);const{hasTransform:o}=qm(i);return r.removeChild(i),o}const zi=n=>{const t=n.props["onUpdate:modelValue"]||!1;return rt(t)?e=>Qr(t,e):t};function IS(n){n.target.composing=!0}function vd(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Fi={created(n,{modifiers:{lazy:t,trim:e,number:i}},r){n._assign=zi(r);const o=i||r.props&&r.props.type==="number";oi(n,t?"change":"input",s=>{if(s.target.composing)return;let l=n.value;e&&(l=l.trim()),o&&(l=ta(l)),n._assign(l)}),e&&oi(n,"change",()=>{n.value=n.value.trim()}),t||(oi(n,"compositionstart",IS),oi(n,"compositionend",vd),oi(n,"change",vd))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,modifiers:{lazy:e,trim:i,number:r}},o){if(n._assign=zi(o),n.composing||document.activeElement===n&&n.type!=="range"&&(e||i&&n.value.trim()===t||(r||n.type==="number")&&ta(n.value)===t))return;const s=t??"";n.value!==s&&(n.value=s)}},ou={deep:!0,created(n,t,e){n._assign=zi(e),oi(n,"change",()=>{const i=n._modelValue,r=cs(n),o=n.checked,s=n._assign;if(rt(i)){const l=za(i,r),a=l!==-1;if(o&&!a)s(i.concat(r));else if(!o&&a){const c=[...i];c.splice(l,1),s(c)}}else if(Ir(i)){const l=new Set(i);o?l.add(r):l.delete(r),s(l)}else s(i0(n,o))})},mounted:yd,beforeUpdate(n,t,e){n._assign=zi(e),yd(n,t,e)}};function yd(n,{value:t,oldValue:e},i){n._modelValue=t,rt(t)?n.checked=za(t,i.props.value)>-1:Ir(t)?n.checked=t.has(i.props.value):t!==e&&(n.checked=Vi(t,i0(n,!0)))}const lu={created(n,{value:t},e){n.checked=Vi(t,e.props.value),n._assign=zi(e),oi(n,"change",()=>{n._assign(cs(n))})},beforeUpdate(n,{value:t,oldValue:e},i){n._assign=zi(i),t!==e&&(n.checked=Vi(t,i.props.value))}},la={deep:!0,created(n,{value:t,modifiers:{number:e}},i){const r=Ir(t);oi(n,"change",()=>{const o=Array.prototype.filter.call(n.options,s=>s.selected).map(s=>e?ta(cs(s)):cs(s));n._assign(n.multiple?r?new Set(o):o:o[0])}),n._assign=zi(i)},mounted(n,{value:t}){bd(n,t)},beforeUpdate(n,t,e){n._assign=zi(e)},updated(n,{value:t}){bd(n,t)}};function bd(n,t){const e=n.multiple;if(!(e&&!rt(t)&&!Ir(t))){for(let i=0,r=n.options.length;i<r;i++){const o=n.options[i],s=cs(o);if(e)rt(t)?o.selected=za(t,s)>-1:o.selected=t.has(s);else if(Vi(cs(o),t)){n.selectedIndex!==i&&(n.selectedIndex=i);return}}!e&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function cs(n){return"_value"in n?n._value:n.value}function i0(n,t){const e=t?"_trueValue":"_falseValue";return e in n?n[e]:t}const r0={created(n,t,e){ll(n,t,e,null,"created")},mounted(n,t,e){ll(n,t,e,null,"mounted")},beforeUpdate(n,t,e,i){ll(n,t,e,i,"beforeUpdate")},updated(n,t,e,i){ll(n,t,e,i,"updated")}};function s0(n,t){switch(n){case"SELECT":return la;case"TEXTAREA":return Fi;default:switch(t){case"checkbox":return ou;case"radio":return lu;default:return Fi}}}function ll(n,t,e,i,r){const s=s0(n.tagName,e.props&&e.props.type)[r];s&&s(n,t,e,i)}function RS(){Fi.getSSRProps=({value:n})=>({value:n}),lu.getSSRProps=({value:n},t)=>{if(t.props&&Vi(t.props.value,n))return{checked:!0}},ou.getSSRProps=({value:n},t)=>{if(rt(n)){if(t.props&&za(n,t.props.value)>-1)return{checked:!0}}else if(Ir(n)){if(t.props&&n.has(t.props.value))return{checked:!0}}else if(n)return{checked:!0}},r0.getSSRProps=(n,t)=>{if(typeof t.type!="string")return;const e=s0(t.type.toUpperCase(),t.props&&t.props.type);if(e.getSSRProps)return e.getSSRProps(n,t)}}const LS=["ctrl","shift","alt","meta"],NS={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>LS.some(e=>n[`${e}Key`]&&!t.includes(e))},o0=(n,t)=>(e,...i)=>{for(let r=0;r<t.length;r++){const o=NS[t[r]];if(o&&o(e,t))return}return n(e,...i)},BS={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},FS=(n,t)=>e=>{if(!("key"in e))return;const i=Cn(e.key);if(t.some(r=>r===i||BS[r]===i))return n(e)},l0={beforeMount(n,{value:t},{transition:e}){n._vod=n.style.display==="none"?"":n.style.display,e&&t?e.beforeEnter(n):Es(n,t)},mounted(n,{value:t},{transition:e}){e&&t&&e.enter(n)},updated(n,{value:t,oldValue:e},{transition:i}){!t!=!e&&(i?t?(i.beforeEnter(n),Es(n,!0),i.enter(n)):i.leave(n,()=>{Es(n,!1)}):Es(n,t))},beforeUnmount(n,{value:t}){Es(n,t)}};function Es(n,t){n.style.display=t?n._vod:"none"}function HS(){l0.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}const a0=pe({patchProp:vS},rS);let to,xd=!1;function c0(){return to||(to=Pm(a0))}function h0(){return to=xd?to:Im(a0),xd=!0,to}const Ph=(...n)=>{c0().render(...n)},f0=(...n)=>{h0().hydrate(...n)},u0=(...n)=>{const t=c0().createApp(...n),{mount:e}=t;return t.mount=i=>{const r=d0(i);if(!r)return;const o=t._component;!yt(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const s=e(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},t},jS=(...n)=>{const t=h0().createApp(...n),{mount:e}=t;return t.mount=i=>{const r=d0(i);if(r)return e(r,!0,r instanceof SVGElement)},t};function d0(n){return ie(n)?document.querySelector(n):n}let Sd=!1;const VS=()=>{Sd||(Sd=!0,RS(),HS())},$S=()=>{},WS=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Qf,Comment:je,EffectScope:Nf,Fragment:qt,KeepAlive:o1,ReactiveEffect:Lo,Static:yr,Suspense:Jx,Teleport:P1,Text:Ar,Transition:su,TransitionGroup:ES,VueElement:oc,assertNumber:Nx,callWithAsyncErrorHandling:yn,callWithErrorHandling:ai,camelize:on,capitalize:Ro,cloneVNode:qn,compatUtils:nS,compile:$S,computed:br,createApp:u0,createBlock:Mi,createCommentVNode:ur,createElementBlock:Kt,createElementVNode:ht,createHydrationRenderer:Im,createPropsRestProxy:J1,createRenderer:Pm,createSSRApp:jS,createSlots:f1,createStaticVNode:L1,createTextVNode:Ne,createVNode:Tt,customRef:Mx,defineAsyncComponent:r1,defineComponent:Ji,defineCustomElement:Jm,defineEmits:U1,defineExpose:z1,defineProps:W1,defineSSRCustomElement:bS,get devtools(){return jr},effect:Qb,effectScope:Gb,getCurrentInstance:Qi,getCurrentScope:Hg,getTransitionRawChildren:tc,guardReactiveProps:Hm,h:ru,handleError:Rr,hydrate:f0,initCustomFormatter:Z1,initDirectivesForSSR:VS,inject:_r,isMemoSame:Ym,isProxy:jf,isReactive:mr,isReadonly:Cr,isRef:we,isRuntimeOnly:j1,isShallow:uo,isVNode:Wi,markRaw:Vf,mergeDefaults:X1,mergeProps:iu,nextTick:Kf,normalizeClass:Pr,normalizeProps:Lb,normalizeStyle:Po,onActivated:um,onBeforeMount:gm,onBeforeUnmount:Ho,onBeforeUpdate:mm,onDeactivated:dm,onErrorCaptured:xm,onMounted:ws,onRenderTracked:bm,onRenderTriggered:ym,onScopeDispose:Yb,onServerPrefetch:vm,onUnmounted:ic,onUpdated:nc,openBlock:Lt,popScopeId:Wx,provide:am,proxyRefs:Uf,pushScopeId:$x,queuePostFlushCb:Gf,reactive:No,readonly:Hf,ref:Ti,registerRuntimeCompiler:H1,render:Ph,renderList:ri,renderSlot:jo,resolveComponent:Sm,resolveDirective:h1,resolveDynamicComponent:c1,resolveFilter:eS,resolveTransitionHooks:ls,setBlockTracking:Oh,setDevtoolsHook:rm,setTransitionHooks:Or,shallowReactive:Zg,shallowReadonly:Ox,shallowRef:Qs,ssrContextKey:Km,ssrUtils:tS,stop:Zb,toDisplayString:Sn,toHandlerKey:Js,toHandlers:u1,toRaw:It,toRef:_g,toRefs:Dx,transformVNodeArgs:I1,triggerRef:kx,unref:ze,useAttrs:Y1,useCssModule:SS,useCssVars:wS,useSSRContext:Gm,useSlots:G1,useTransitionState:Jf,vModelCheckbox:ou,vModelDynamic:r0,vModelRadio:lu,vModelSelect:la,vModelText:Fi,vShow:l0,version:Xm,warn:Lx,watch:Ke,watchEffect:t1,watchPostEffect:cm,watchSyncEffect:e1,withAsyncContext:Q1,withCtx:Oe,withDefaults:K1,withDirectives:or,withKeys:FS,withMemo:q1,withModifiers:o0,withScopeId:Ux},Symbol.toStringTag,{value:"Module"}));var US=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function p0(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var e=function i(){if(this instanceof i){var r=[null];r.push.apply(r,arguments);var o=Function.bind.apply(t,r);return new o}return t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),e}var Ih={},KS={get exports(){return Ih},set exports(n){Ih=n}};const GS=p0(WS);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function wd(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function _n(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?wd(Object(e),!0).forEach(function(i){YS(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):wd(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Hl(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hl=function(t){return typeof t}:Hl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(n)}function YS(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function En(){return En=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},En.apply(this,arguments)}function XS(n,t){if(n==null)return{};var e={},i=Object.keys(n),r,o;for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&(e[r]=n[r]);return e}function JS(n,t){if(n==null)return{};var e=XS(n,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function QS(n){return ZS(n)||qS(n)||_S(n)||tw()}function ZS(n){if(Array.isArray(n))return Rh(n)}function qS(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function _S(n,t){if(n){if(typeof n=="string")return Rh(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Rh(n,t)}}function Rh(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function tw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ew="1.14.0";function ci(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var gi=ci(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Vo=ci(/Edge/i),Cd=ci(/firefox/i),eo=ci(/safari/i)&&!ci(/chrome/i)&&!ci(/android/i),g0=ci(/iP(ad|od|hone)/i),nw=ci(/chrome/i)&&ci(/android/i),m0={capture:!1,passive:!1};function Dt(n,t,e){n.addEventListener(t,e,!gi&&m0)}function Et(n,t,e){n.removeEventListener(t,e,!gi&&m0)}function aa(n,t){if(t){if(t[0]===">"&&(t=t.substring(1)),n)try{if(n.matches)return n.matches(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t)}catch{return!1}return!1}}function iw(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function Rn(n,t,e,i){if(n){e=e||document;do{if(t!=null&&(t[0]===">"?n.parentNode===e&&aa(n,t):aa(n,t))||i&&n===e)return n;if(n===e)break}while(n=iw(n))}return null}var Od=/\s+/g;function oe(n,t,e){if(n&&t)if(n.classList)n.classList[e?"add":"remove"](t);else{var i=(" "+n.className+" ").replace(Od," ").replace(" "+t+" "," ");n.className=(i+(e?" "+t:"")).replace(Od," ")}}function nt(n,t,e){var i=n&&n.style;if(i){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(e=n.currentStyle),t===void 0?e:e[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=e+(typeof e=="string"?"":"px")}}function xr(n,t){var e="";if(typeof n=="string")e=n;else do{var i=nt(n,"transform");i&&i!=="none"&&(e=i+" "+e)}while(!t&&(n=n.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(e)}function v0(n,t,e){if(n){var i=n.getElementsByTagName(t),r=0,o=i.length;if(e)for(;r<o;r++)e(i[r],r);return i}return[]}function Jn(){var n=document.scrollingElement;return n||document.documentElement}function ee(n,t,e,i,r){if(!(!n.getBoundingClientRect&&n!==window)){var o,s,l,a,c,h,f;if(n!==window&&n.parentNode&&n!==Jn()?(o=n.getBoundingClientRect(),s=o.top,l=o.left,a=o.bottom,c=o.right,h=o.height,f=o.width):(s=0,l=0,a=window.innerHeight,c=window.innerWidth,h=window.innerHeight,f=window.innerWidth),(t||e)&&n!==window&&(r=r||n.parentNode,!gi))do if(r&&r.getBoundingClientRect&&(nt(r,"transform")!=="none"||e&&nt(r,"position")!=="static")){var u=r.getBoundingClientRect();s-=u.top+parseInt(nt(r,"border-top-width")),l-=u.left+parseInt(nt(r,"border-left-width")),a=s+o.height,c=l+o.width;break}while(r=r.parentNode);if(i&&n!==window){var d=xr(r||n),p=d&&d.a,g=d&&d.d;d&&(s/=g,l/=p,f/=p,h/=g,a=s+h,c=l+f)}return{top:s,left:l,bottom:a,right:c,width:f,height:h}}}function Ad(n,t,e){for(var i=Di(n,!0),r=ee(n)[t];i;){var o=ee(i)[e],s=void 0;if(e==="top"||e==="left"?s=r>=o:s=r<=o,!s)return i;if(i===Jn())break;i=Di(i,!1)}return!1}function hs(n,t,e,i){for(var r=0,o=0,s=n.children;o<s.length;){if(s[o].style.display!=="none"&&s[o]!==mt.ghost&&(i||s[o]!==mt.dragged)&&Rn(s[o],e.draggable,n,!1)){if(r===t)return s[o];r++}o++}return null}function au(n,t){for(var e=n.lastElementChild;e&&(e===mt.ghost||nt(e,"display")==="none"||t&&!aa(e,t));)e=e.previousElementSibling;return e||null}function ue(n,t){var e=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==mt.clone&&(!t||aa(n,t))&&e++;return e}function kd(n){var t=0,e=0,i=Jn();if(n)do{var r=xr(n),o=r.a,s=r.d;t+=n.scrollLeft*o,e+=n.scrollTop*s}while(n!==i&&(n=n.parentNode));return[t,e]}function rw(n,t){for(var e in n)if(n.hasOwnProperty(e)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===n[e][i])return Number(e)}return-1}function Di(n,t){if(!n||!n.getBoundingClientRect)return Jn();var e=n,i=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var r=nt(e);if(e.clientWidth<e.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return Jn();if(i||t)return e;i=!0}}while(e=e.parentNode);return Jn()}function sw(n,t){if(n&&t)for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Ic(n,t){return Math.round(n.top)===Math.round(t.top)&&Math.round(n.left)===Math.round(t.left)&&Math.round(n.height)===Math.round(t.height)&&Math.round(n.width)===Math.round(t.width)}var no;function y0(n,t){return function(){if(!no){var e=arguments,i=this;e.length===1?n.call(i,e[0]):n.apply(i,e),no=setTimeout(function(){no=void 0},t)}}}function ow(){clearTimeout(no),no=void 0}function b0(n,t,e){n.scrollLeft+=t,n.scrollTop+=e}function cu(n){var t=window.Polymer,e=window.jQuery||window.Zepto;return t&&t.dom?t.dom(n).cloneNode(!0):e?e(n).clone(!0)[0]:n.cloneNode(!0)}function Ed(n,t){nt(n,"position","absolute"),nt(n,"top",t.top),nt(n,"left",t.left),nt(n,"width",t.width),nt(n,"height",t.height)}function Rc(n){nt(n,"position",""),nt(n,"top",""),nt(n,"left",""),nt(n,"width",""),nt(n,"height","")}var He="Sortable"+new Date().getTime();function lw(){var n=[],t;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(r){if(!(nt(r,"display")==="none"||r===mt.ghost)){n.push({target:r,rect:ee(r)});var o=_n({},n[n.length-1].rect);if(r.thisAnimationDuration){var s=xr(r,!0);s&&(o.top-=s.f,o.left-=s.e)}r.fromRect=o}})}},addAnimationState:function(i){n.push(i)},removeAnimationState:function(i){n.splice(rw(n,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var o=!1,s=0;n.forEach(function(l){var a=0,c=l.target,h=c.fromRect,f=ee(c),u=c.prevFromRect,d=c.prevToRect,p=l.rect,g=xr(c,!0);g&&(f.top-=g.f,f.left-=g.e),c.toRect=f,c.thisAnimationDuration&&Ic(u,f)&&!Ic(h,f)&&(p.top-f.top)/(p.left-f.left)===(h.top-f.top)/(h.left-f.left)&&(a=cw(p,u,d,r.options)),Ic(f,h)||(c.prevFromRect=h,c.prevToRect=f,a||(a=r.options.animation),r.animate(c,p,f,a)),a&&(o=!0,s=Math.max(s,a),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},a),c.thisAnimationDuration=a)}),clearTimeout(t),o?t=setTimeout(function(){typeof i=="function"&&i()},s):typeof i=="function"&&i(),n=[]},animate:function(i,r,o,s){if(s){nt(i,"transition",""),nt(i,"transform","");var l=xr(this.el),a=l&&l.a,c=l&&l.d,h=(r.left-o.left)/(a||1),f=(r.top-o.top)/(c||1);i.animatingX=!!h,i.animatingY=!!f,nt(i,"transform","translate3d("+h+"px,"+f+"px,0)"),this.forRepaintDummy=aw(i),nt(i,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),nt(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){nt(i,"transition",""),nt(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},s)}}}}function aw(n){return n.offsetWidth}function cw(n,t,e,i){return Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))/Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))*i.animation}var Nr=[],Lc={initializeByDefault:!0},$o={mount:function(t){for(var e in Lc)Lc.hasOwnProperty(e)&&!(e in t)&&(t[e]=Lc[e]);Nr.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Nr.push(t)},pluginEvent:function(t,e,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var o=t+"Global";Nr.forEach(function(s){e[s.pluginName]&&(e[s.pluginName][o]&&e[s.pluginName][o](_n({sortable:e},i)),e.options[s.pluginName]&&e[s.pluginName][t]&&e[s.pluginName][t](_n({sortable:e},i)))})},initializePlugins:function(t,e,i,r){Nr.forEach(function(l){var a=l.pluginName;if(!(!t.options[a]&&!l.initializeByDefault)){var c=new l(t,e,t.options);c.sortable=t,c.options=t.options,t[a]=c,En(i,c.defaults)}});for(var o in t.options)if(t.options.hasOwnProperty(o)){var s=this.modifyOption(t,o,t.options[o]);typeof s<"u"&&(t.options[o]=s)}},getEventProperties:function(t,e){var i={};return Nr.forEach(function(r){typeof r.eventProperties=="function"&&En(i,r.eventProperties.call(e[r.pluginName],t))}),i},modifyOption:function(t,e,i){var r;return Nr.forEach(function(o){t[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[e]=="function"&&(r=o.optionListeners[e].call(t[o.pluginName],i))}),r}};function Vs(n){var t=n.sortable,e=n.rootEl,i=n.name,r=n.targetEl,o=n.cloneEl,s=n.toEl,l=n.fromEl,a=n.oldIndex,c=n.newIndex,h=n.oldDraggableIndex,f=n.newDraggableIndex,u=n.originalEvent,d=n.putSortable,p=n.extraEventProperties;if(t=t||e&&e[He],!!t){var g,y=t.options,v="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!gi&&!Vo?g=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(i,!0,!0)),g.to=s||e,g.from=l||e,g.item=r||e,g.clone=o,g.oldIndex=a,g.newIndex=c,g.oldDraggableIndex=h,g.newDraggableIndex=f,g.originalEvent=u,g.pullMode=d?d.lastPutMode:void 0;var m=_n(_n({},p),$o.getEventProperties(i,t));for(var b in m)g[b]=m[b];e&&e.dispatchEvent(g),y[v]&&y[v].call(t,g)}}var hw=["evt"],qe=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=i.evt,o=JS(i,hw);$o.pluginEvent.bind(mt)(t,e,_n({dragEl:X,parentEl:he,ghostEl:Ct,rootEl:te,nextEl:rr,lastDownEl:jl,cloneEl:fe,cloneHidden:ki,dragStarted:$s,putSortable:Ce,activeSortable:mt.active,originalEvent:r,oldIndex:zr,oldDraggableIndex:io,newIndex:un,newDraggableIndex:Ci,hideGhostForTarget:C0,unhideGhostForTarget:O0,cloneNowHidden:function(){ki=!0},cloneNowShown:function(){ki=!1},dispatchSortableEvent:function(l){Ue({sortable:e,name:l,originalEvent:r})}},o))};function Ue(n){Vs(_n({putSortable:Ce,cloneEl:fe,targetEl:X,rootEl:te,oldIndex:zr,oldDraggableIndex:io,newIndex:un,newDraggableIndex:Ci},n))}var X,he,Ct,te,rr,jl,fe,ki,zr,un,io,Ci,al,Ce,Vr=!1,ca=!1,ha=[],tr,Dn,Nc,Bc,Td,Md,$s,Br,ro,so=!1,cl=!1,Vl,Le,Fc=[],Lh=!1,fa=[],lc=typeof document<"u",hl=g0,Dd=Vo||gi?"cssFloat":"float",fw=lc&&!nw&&!g0&&"draggable"in document.createElement("div"),x0=function(){if(lc){if(gi)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),S0=function(t,e){var i=nt(t),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),o=hs(t,0,e),s=hs(t,1,e),l=o&&nt(o),a=s&&nt(s),c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+ee(o).width,h=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+ee(s).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&l.float&&l.float!=="none"){var f=l.float==="left"?"left":"right";return s&&(a.clear==="both"||a.clear===f)?"vertical":"horizontal"}return o&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||c>=r&&i[Dd]==="none"||s&&i[Dd]==="none"&&c+h>r)?"vertical":"horizontal"},uw=function(t,e,i){var r=i?t.left:t.top,o=i?t.right:t.bottom,s=i?t.width:t.height,l=i?e.left:e.top,a=i?e.right:e.bottom,c=i?e.width:e.height;return r===l||o===a||r+s/2===l+c/2},dw=function(t,e){var i;return ha.some(function(r){var o=r[He].options.emptyInsertThreshold;if(!(!o||au(r))){var s=ee(r),l=t>=s.left-o&&t<=s.right+o,a=e>=s.top-o&&e<=s.bottom+o;if(l&&a)return i=r}}),i},w0=function(t){function e(o,s){return function(l,a,c,h){var f=l.options.group.name&&a.options.group.name&&l.options.group.name===a.options.group.name;if(o==null&&(s||f))return!0;if(o==null||o===!1)return!1;if(s&&o==="clone")return o;if(typeof o=="function")return e(o(l,a,c,h),s)(l,a,c,h);var u=(s?l:a).options.group.name;return o===!0||typeof o=="string"&&o===u||o.join&&o.indexOf(u)>-1}}var i={},r=t.group;(!r||Hl(r)!="object")&&(r={name:r}),i.name=r.name,i.checkPull=e(r.pull,!0),i.checkPut=e(r.put),i.revertClone=r.revertClone,t.group=i},C0=function(){!x0&&Ct&&nt(Ct,"display","none")},O0=function(){!x0&&Ct&&nt(Ct,"display","")};lc&&document.addEventListener("click",function(n){if(ca)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),ca=!1,!1},!0);var er=function(t){if(X){t=t.touches?t.touches[0]:t;var e=dw(t.clientX,t.clientY);if(e){var i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);i.target=i.rootEl=e,i.preventDefault=void 0,i.stopPropagation=void 0,e[He]._onDragOver(i)}}},pw=function(t){X&&X.parentNode[He]._isOutsideThisEl(t.target)};function mt(n,t){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=t=En({},t),n[He]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return S0(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,l){s.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:mt.supportPointer!==!1&&"PointerEvent"in window&&!eo,emptyInsertThreshold:5};$o.initializePlugins(this,n,e);for(var i in e)!(i in t)&&(t[i]=e[i]);w0(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:fw,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Dt(n,"pointerdown",this._onTapStart):(Dt(n,"mousedown",this._onTapStart),Dt(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(Dt(n,"dragover",this),Dt(n,"dragenter",this)),ha.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),En(this,lw())}mt.prototype={constructor:mt,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Br=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,X):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,i=this.el,r=this.options,o=r.preventOnFilter,s=t.type,l=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,a=(l||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,h=r.filter;if(ww(i),!X&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||r.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&eo&&a&&a.tagName.toUpperCase()==="SELECT")&&(a=Rn(a,r.draggable,i,!1),!(a&&a.animated)&&jl!==a)){if(zr=ue(a),io=ue(a,r.draggable),typeof h=="function"){if(h.call(this,t,a,this)){Ue({sortable:e,rootEl:c,name:"filter",targetEl:a,toEl:i,fromEl:i}),qe("filter",e,{evt:t}),o&&t.cancelable&&t.preventDefault();return}}else if(h&&(h=h.split(",").some(function(f){if(f=Rn(c,f.trim(),i,!1),f)return Ue({sortable:e,rootEl:f,name:"filter",targetEl:a,fromEl:i,toEl:i}),qe("filter",e,{evt:t}),!0}),h)){o&&t.cancelable&&t.preventDefault();return}r.handle&&!Rn(c,r.handle,i,!1)||this._prepareDragStart(t,l,a)}}},_prepareDragStart:function(t,e,i){var r=this,o=r.el,s=r.options,l=o.ownerDocument,a;if(i&&!X&&i.parentNode===o){var c=ee(i);if(te=o,X=i,he=X.parentNode,rr=X.nextSibling,jl=i,al=s.group,mt.dragged=X,tr={target:X,clientX:(e||t).clientX,clientY:(e||t).clientY},Td=tr.clientX-c.left,Md=tr.clientY-c.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,X.style["will-change"]="all",a=function(){if(qe("delayEnded",r,{evt:t}),mt.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Cd&&r.nativeDraggable&&(X.draggable=!0),r._triggerDragStart(t,e),Ue({sortable:r,name:"choose",originalEvent:t}),oe(X,s.chosenClass,!0)},s.ignore.split(",").forEach(function(h){v0(X,h.trim(),Hc)}),Dt(l,"dragover",er),Dt(l,"mousemove",er),Dt(l,"touchmove",er),Dt(l,"mouseup",r._onDrop),Dt(l,"touchend",r._onDrop),Dt(l,"touchcancel",r._onDrop),Cd&&this.nativeDraggable&&(this.options.touchStartThreshold=4,X.draggable=!0),qe("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(Vo||gi))){if(mt.eventCanceled){this._onDrop();return}Dt(l,"mouseup",r._disableDelayedDrag),Dt(l,"touchend",r._disableDelayedDrag),Dt(l,"touchcancel",r._disableDelayedDrag),Dt(l,"mousemove",r._delayedDragTouchMoveHandler),Dt(l,"touchmove",r._delayedDragTouchMoveHandler),s.supportPointer&&Dt(l,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(a,s.delay)}else a()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){X&&Hc(X),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Et(t,"mouseup",this._disableDelayedDrag),Et(t,"touchend",this._disableDelayedDrag),Et(t,"touchcancel",this._disableDelayedDrag),Et(t,"mousemove",this._delayedDragTouchMoveHandler),Et(t,"touchmove",this._delayedDragTouchMoveHandler),Et(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?Dt(document,"pointermove",this._onTouchMove):e?Dt(document,"touchmove",this._onTouchMove):Dt(document,"mousemove",this._onTouchMove):(Dt(X,"dragend",this),Dt(te,"dragstart",this._onDragStart));try{document.selection?$l(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,e){if(Vr=!1,te&&X){qe("dragStarted",this,{evt:e}),this.nativeDraggable&&Dt(document,"dragover",pw);var i=this.options;!t&&oe(X,i.dragClass,!1),oe(X,i.ghostClass,!0),mt.active=this,t&&this._appendGhost(),Ue({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(Dn){this._lastX=Dn.clientX,this._lastY=Dn.clientY,C0();for(var t=document.elementFromPoint(Dn.clientX,Dn.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Dn.clientX,Dn.clientY),t!==e);)e=t;if(X.parentNode[He]._isOutsideThisEl(t),e)do{if(e[He]){var i=void 0;if(i=e[He]._onDragOver({clientX:Dn.clientX,clientY:Dn.clientY,target:t,rootEl:e}),i&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);O0()}},_onTouchMove:function(t){if(tr){var e=this.options,i=e.fallbackTolerance,r=e.fallbackOffset,o=t.touches?t.touches[0]:t,s=Ct&&xr(Ct,!0),l=Ct&&s&&s.a,a=Ct&&s&&s.d,c=hl&&Le&&kd(Le),h=(o.clientX-tr.clientX+r.x)/(l||1)+(c?c[0]-Fc[0]:0)/(l||1),f=(o.clientY-tr.clientY+r.y)/(a||1)+(c?c[1]-Fc[1]:0)/(a||1);if(!mt.active&&!Vr){if(i&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(Ct){s?(s.e+=h-(Nc||0),s.f+=f-(Bc||0)):s={a:1,b:0,c:0,d:1,e:h,f};var u="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");nt(Ct,"webkitTransform",u),nt(Ct,"mozTransform",u),nt(Ct,"msTransform",u),nt(Ct,"transform",u),Nc=h,Bc=f,Dn=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Ct){var t=this.options.fallbackOnBody?document.body:te,e=ee(X,!0,hl,!0,t),i=this.options;if(hl){for(Le=t;nt(Le,"position")==="static"&&nt(Le,"transform")==="none"&&Le!==document;)Le=Le.parentNode;Le!==document.body&&Le!==document.documentElement?(Le===document&&(Le=Jn()),e.top+=Le.scrollTop,e.left+=Le.scrollLeft):Le=Jn(),Fc=kd(Le)}Ct=X.cloneNode(!0),oe(Ct,i.ghostClass,!1),oe(Ct,i.fallbackClass,!0),oe(Ct,i.dragClass,!0),nt(Ct,"transition",""),nt(Ct,"transform",""),nt(Ct,"box-sizing","border-box"),nt(Ct,"margin",0),nt(Ct,"top",e.top),nt(Ct,"left",e.left),nt(Ct,"width",e.width),nt(Ct,"height",e.height),nt(Ct,"opacity","0.8"),nt(Ct,"position",hl?"absolute":"fixed"),nt(Ct,"zIndex","100000"),nt(Ct,"pointerEvents","none"),mt.ghost=Ct,t.appendChild(Ct),nt(Ct,"transform-origin",Td/parseInt(Ct.style.width)*100+"% "+Md/parseInt(Ct.style.height)*100+"%")}},_onDragStart:function(t,e){var i=this,r=t.dataTransfer,o=i.options;if(qe("dragStart",this,{evt:t}),mt.eventCanceled){this._onDrop();return}qe("setupClone",this),mt.eventCanceled||(fe=cu(X),fe.draggable=!1,fe.style["will-change"]="",this._hideClone(),oe(fe,this.options.chosenClass,!1),mt.clone=fe),i.cloneId=$l(function(){qe("clone",i),!mt.eventCanceled&&(i.options.removeCloneOnHide||te.insertBefore(fe,X),i._hideClone(),Ue({sortable:i,name:"clone"}))}),!e&&oe(X,o.dragClass,!0),e?(ca=!0,i._loopId=setInterval(i._emulateDragOver,50)):(Et(document,"mouseup",i._onDrop),Et(document,"touchend",i._onDrop),Et(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(i,r,X)),Dt(document,"drop",i),nt(X,"transform","translateZ(0)")),Vr=!0,i._dragStartId=$l(i._dragStarted.bind(i,e,t)),Dt(document,"selectstart",i),$s=!0,eo&&nt(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,i=t.target,r,o,s,l=this.options,a=l.group,c=mt.active,h=al===a,f=l.sort,u=Ce||c,d,p=this,g=!1;if(Lh)return;function y(q,ft){qe(q,p,_n({evt:t,isOwner:h,axis:d?"vertical":"horizontal",revert:s,dragRect:r,targetRect:o,canSort:f,fromSortable:u,target:i,completed:m,onMove:function(kt,Ot){return fl(te,e,X,r,kt,ee(kt),t,Ot)},changed:b},ft))}function v(){y("dragOverAnimationCapture"),p.captureAnimationState(),p!==u&&u.captureAnimationState()}function m(q){return y("dragOverCompleted",{insertion:q}),q&&(h?c._hideClone():c._showClone(p),p!==u&&(oe(X,Ce?Ce.options.ghostClass:c.options.ghostClass,!1),oe(X,l.ghostClass,!0)),Ce!==p&&p!==mt.active?Ce=p:p===mt.active&&Ce&&(Ce=null),u===p&&(p._ignoreWhileAnimating=i),p.animateAll(function(){y("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==u&&(u.animateAll(),u._ignoreWhileAnimating=null)),(i===X&&!X.animated||i===e&&!i.animated)&&(Br=null),!l.dragoverBubble&&!t.rootEl&&i!==document&&(X.parentNode[He]._isOutsideThisEl(t.target),!q&&er(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),g=!0}function b(){un=ue(X),Ci=ue(X,l.draggable),Ue({sortable:p,name:"change",toEl:e,newIndex:un,newDraggableIndex:Ci,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=Rn(i,l.draggable,e,!0),y("dragOver"),mt.eventCanceled)return g;if(X.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||p._ignoreWhileAnimating===i)return m(!1);if(ca=!1,c&&!l.disabled&&(h?f||(s=he!==te):Ce===this||(this.lastPutMode=al.checkPull(this,c,X,t))&&a.checkPut(this,c,X,t))){if(d=this._getDirection(t,i)==="vertical",r=ee(X),y("dragOverValid"),mt.eventCanceled)return g;if(s)return he=te,v(),this._hideClone(),y("revert"),mt.eventCanceled||(rr?te.insertBefore(X,rr):te.appendChild(X)),m(!0);var x=au(e,l.draggable);if(!x||yw(t,d,this)&&!x.animated){if(x===X)return m(!1);if(x&&e===t.target&&(i=x),i&&(o=ee(i)),fl(te,e,X,r,i,o,t,!!i)!==!1)return v(),e.appendChild(X),he=e,b(),m(!0)}else if(x&&vw(t,d,this)){var S=hs(e,0,l,!0);if(S===X)return m(!1);if(i=S,o=ee(i),fl(te,e,X,r,i,o,t,!1)!==!1)return v(),e.insertBefore(X,S),he=e,b(),m(!0)}else if(i.parentNode===e){o=ee(i);var w=0,E,k=X.parentNode!==e,O=!uw(X.animated&&X.toRect||r,i.animated&&i.toRect||o,d),M=d?"top":"left",I=Ad(i,"top","top")||Ad(X,"top","top"),B=I?I.scrollTop:void 0;Br!==i&&(E=o[M],so=!1,cl=!O&&l.invertSwap||k),w=bw(t,i,o,d,O?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,cl,Br===i);var R;if(w!==0){var P=ue(X);do P-=w,R=he.children[P];while(R&&(nt(R,"display")==="none"||R===Ct))}if(w===0||R===i)return m(!1);Br=i,ro=w;var Q=i.nextElementSibling,H=!1;H=w===1;var Y=fl(te,e,X,r,i,o,t,H);if(Y!==!1)return(Y===1||Y===-1)&&(H=Y===1),Lh=!0,setTimeout(mw,30),v(),H&&!Q?e.appendChild(X):i.parentNode.insertBefore(X,H?Q:i),I&&b0(I,0,B-I.scrollTop),he=X.parentNode,E!==void 0&&!cl&&(Vl=Math.abs(E-ee(i)[M])),b(),m(!0)}if(e.contains(X))return m(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Et(document,"mousemove",this._onTouchMove),Et(document,"touchmove",this._onTouchMove),Et(document,"pointermove",this._onTouchMove),Et(document,"dragover",er),Et(document,"mousemove",er),Et(document,"touchmove",er)},_offUpEvents:function(){var t=this.el.ownerDocument;Et(t,"mouseup",this._onDrop),Et(t,"touchend",this._onDrop),Et(t,"pointerup",this._onDrop),Et(t,"touchcancel",this._onDrop),Et(document,"selectstart",this)},_onDrop:function(t){var e=this.el,i=this.options;if(un=ue(X),Ci=ue(X,i.draggable),qe("drop",this,{evt:t}),he=X&&X.parentNode,un=ue(X),Ci=ue(X,i.draggable),mt.eventCanceled){this._nulling();return}Vr=!1,cl=!1,so=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Nh(this.cloneId),Nh(this._dragStartId),this.nativeDraggable&&(Et(document,"drop",this),Et(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),eo&&nt(document.body,"user-select",""),nt(X,"transform",""),t&&($s&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),Ct&&Ct.parentNode&&Ct.parentNode.removeChild(Ct),(te===he||Ce&&Ce.lastPutMode!=="clone")&&fe&&fe.parentNode&&fe.parentNode.removeChild(fe),X&&(this.nativeDraggable&&Et(X,"dragend",this),Hc(X),X.style["will-change"]="",$s&&!Vr&&oe(X,Ce?Ce.options.ghostClass:this.options.ghostClass,!1),oe(X,this.options.chosenClass,!1),Ue({sortable:this,name:"unchoose",toEl:he,newIndex:null,newDraggableIndex:null,originalEvent:t}),te!==he?(un>=0&&(Ue({rootEl:he,name:"add",toEl:he,fromEl:te,originalEvent:t}),Ue({sortable:this,name:"remove",toEl:he,originalEvent:t}),Ue({rootEl:he,name:"sort",toEl:he,fromEl:te,originalEvent:t}),Ue({sortable:this,name:"sort",toEl:he,originalEvent:t})),Ce&&Ce.save()):un!==zr&&un>=0&&(Ue({sortable:this,name:"update",toEl:he,originalEvent:t}),Ue({sortable:this,name:"sort",toEl:he,originalEvent:t})),mt.active&&((un==null||un===-1)&&(un=zr,Ci=io),Ue({sortable:this,name:"end",toEl:he,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){qe("nulling",this),te=X=he=Ct=rr=fe=jl=ki=tr=Dn=$s=un=Ci=zr=io=Br=ro=Ce=al=mt.dragged=mt.ghost=mt.clone=mt.active=null,fa.forEach(function(t){t.checked=!0}),fa.length=Nc=Bc=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":X&&(this._onDragOver(t),gw(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,i=this.el.children,r=0,o=i.length,s=this.options;r<o;r++)e=i[r],Rn(e,s.draggable,this.el,!1)&&t.push(e.getAttribute(s.dataIdAttr)||Sw(e));return t},sort:function(t,e){var i={},r=this.el;this.toArray().forEach(function(o,s){var l=r.children[s];Rn(l,this.options.draggable,r,!1)&&(i[o]=l)},this),e&&this.captureAnimationState(),t.forEach(function(o){i[o]&&(r.removeChild(i[o]),r.appendChild(i[o]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return Rn(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var i=this.options;if(e===void 0)return i[t];var r=$o.modifyOption(this,t,e);typeof r<"u"?i[t]=r:i[t]=e,t==="group"&&w0(i)},destroy:function(){qe("destroy",this);var t=this.el;t[He]=null,Et(t,"mousedown",this._onTapStart),Et(t,"touchstart",this._onTapStart),Et(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Et(t,"dragover",this),Et(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ha.splice(ha.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ki){if(qe("hideClone",this),mt.eventCanceled)return;nt(fe,"display","none"),this.options.removeCloneOnHide&&fe.parentNode&&fe.parentNode.removeChild(fe),ki=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ki){if(qe("showClone",this),mt.eventCanceled)return;X.parentNode==te&&!this.options.group.revertClone?te.insertBefore(fe,X):rr?te.insertBefore(fe,rr):te.appendChild(fe),this.options.group.revertClone&&this.animate(X,fe),nt(fe,"display",""),ki=!1}}};function gw(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function fl(n,t,e,i,r,o,s,l){var a,c=n[He],h=c.options.onMove,f;return window.CustomEvent&&!gi&&!Vo?a=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(a=document.createEvent("Event"),a.initEvent("move",!0,!0)),a.to=t,a.from=n,a.dragged=e,a.draggedRect=i,a.related=r||t,a.relatedRect=o||ee(t),a.willInsertAfter=l,a.originalEvent=s,n.dispatchEvent(a),h&&(f=h.call(c,a,s)),f}function Hc(n){n.draggable=!1}function mw(){Lh=!1}function vw(n,t,e){var i=ee(hs(e.el,0,e.options,!0)),r=10;return t?n.clientX<i.left-r||n.clientY<i.top&&n.clientX<i.right:n.clientY<i.top-r||n.clientY<i.bottom&&n.clientX<i.left}function yw(n,t,e){var i=ee(au(e.el,e.options.draggable)),r=10;return t?n.clientX>i.right+r||n.clientX<=i.right&&n.clientY>i.bottom&&n.clientX>=i.left:n.clientX>i.right&&n.clientY>i.top||n.clientX<=i.right&&n.clientY>i.bottom+r}function bw(n,t,e,i,r,o,s,l){var a=i?n.clientY:n.clientX,c=i?e.height:e.width,h=i?e.top:e.left,f=i?e.bottom:e.right,u=!1;if(!s){if(l&&Vl<c*r){if(!so&&(ro===1?a>h+c*o/2:a<f-c*o/2)&&(so=!0),so)u=!0;else if(ro===1?a<h+Vl:a>f-Vl)return-ro}else if(a>h+c*(1-r)/2&&a<f-c*(1-r)/2)return xw(t)}return u=u||s,u&&(a<h+c*o/2||a>f-c*o/2)?a>h+c/2?1:-1:0}function xw(n){return ue(X)<ue(n)?1:-1}function Sw(n){for(var t=n.tagName+n.className+n.src+n.href+n.textContent,e=t.length,i=0;e--;)i+=t.charCodeAt(e);return i.toString(36)}function ww(n){fa.length=0;for(var t=n.getElementsByTagName("input"),e=t.length;e--;){var i=t[e];i.checked&&fa.push(i)}}function $l(n){return setTimeout(n,0)}function Nh(n){return clearTimeout(n)}lc&&Dt(document,"touchmove",function(n){(mt.active||Vr)&&n.cancelable&&n.preventDefault()});mt.utils={on:Dt,off:Et,css:nt,find:v0,is:function(t,e){return!!Rn(t,e,t,!1)},extend:sw,throttle:y0,closest:Rn,toggleClass:oe,clone:cu,index:ue,nextTick:$l,cancelNextTick:Nh,detectDirection:S0,getChild:hs};mt.get=function(n){return n[He]};mt.mount=function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(mt.utils=_n(_n({},mt.utils),i.utils)),$o.mount(i)})};mt.create=function(n,t){return new mt(n,t)};mt.version=ew;var me=[],Ws,Bh,Fh=!1,jc,Vc,ua,Us;function Cw(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return n.prototype={dragStarted:function(e){var i=e.originalEvent;this.sortable.nativeDraggable?Dt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Dt(document,"pointermove",this._handleFallbackAutoScroll):i.touches?Dt(document,"touchmove",this._handleFallbackAutoScroll):Dt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var i=e.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?Et(document,"dragover",this._handleAutoScroll):(Et(document,"pointermove",this._handleFallbackAutoScroll),Et(document,"touchmove",this._handleFallbackAutoScroll),Et(document,"mousemove",this._handleFallbackAutoScroll)),Pd(),Wl(),ow()},nulling:function(){ua=Bh=Ws=Fh=Us=jc=Vc=null,me.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,i){var r=this,o=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,l=document.elementFromPoint(o,s);if(ua=e,i||this.options.forceAutoScrollFallback||Vo||gi||eo){$c(e,this.options,l,i);var a=Di(l,!0);Fh&&(!Us||o!==jc||s!==Vc)&&(Us&&Pd(),Us=setInterval(function(){var c=Di(document.elementFromPoint(o,s),!0);c!==a&&(a=c,Wl()),$c(e,r.options,c,i)},10),jc=o,Vc=s)}else{if(!this.options.bubbleScroll||Di(l,!0)===Jn()){Wl();return}$c(e,this.options,Di(l,!1),!1)}}},En(n,{pluginName:"scroll",initializeByDefault:!0})}function Wl(){me.forEach(function(n){clearInterval(n.pid)}),me=[]}function Pd(){clearInterval(Us)}var $c=y0(function(n,t,e,i){if(t.scroll){var r=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,a=Jn(),c=!1,h;Bh!==e&&(Bh=e,Wl(),Ws=t.scroll,h=t.scrollFn,Ws===!0&&(Ws=Di(e,!0)));var f=0,u=Ws;do{var d=u,p=ee(d),g=p.top,y=p.bottom,v=p.left,m=p.right,b=p.width,x=p.height,S=void 0,w=void 0,E=d.scrollWidth,k=d.scrollHeight,O=nt(d),M=d.scrollLeft,I=d.scrollTop;d===a?(S=b<E&&(O.overflowX==="auto"||O.overflowX==="scroll"||O.overflowX==="visible"),w=x<k&&(O.overflowY==="auto"||O.overflowY==="scroll"||O.overflowY==="visible")):(S=b<E&&(O.overflowX==="auto"||O.overflowX==="scroll"),w=x<k&&(O.overflowY==="auto"||O.overflowY==="scroll"));var B=S&&(Math.abs(m-r)<=s&&M+b<E)-(Math.abs(v-r)<=s&&!!M),R=w&&(Math.abs(y-o)<=s&&I+x<k)-(Math.abs(g-o)<=s&&!!I);if(!me[f])for(var P=0;P<=f;P++)me[P]||(me[P]={});(me[f].vx!=B||me[f].vy!=R||me[f].el!==d)&&(me[f].el=d,me[f].vx=B,me[f].vy=R,clearInterval(me[f].pid),(B!=0||R!=0)&&(c=!0,me[f].pid=setInterval(function(){i&&this.layer===0&&mt.active._onTouchMove(ua);var Q=me[this.layer].vy?me[this.layer].vy*l:0,H=me[this.layer].vx?me[this.layer].vx*l:0;typeof h=="function"&&h.call(mt.dragged.parentNode[He],H,Q,n,ua,me[this.layer].el)!=="continue"||b0(me[this.layer].el,H,Q)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&u!==a&&(u=Di(u,!1)));Fh=c}},30),A0=function(t){var e=t.originalEvent,i=t.putSortable,r=t.dragEl,o=t.activeSortable,s=t.dispatchSortableEvent,l=t.hideGhostForTarget,a=t.unhideGhostForTarget;if(e){var c=i||o;l();var h=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,f=document.elementFromPoint(h.clientX,h.clientY);a(),c&&!c.el.contains(f)&&(s("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function hu(){}hu.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=hs(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),i&&i.animateAll()},drop:A0};En(hu,{pluginName:"revertOnSpill"});function fu(){}fu.prototype={onSpill:function(t){var e=t.dragEl,i=t.putSortable,r=i||this.sortable;r.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),r.animateAll()},drop:A0};En(fu,{pluginName:"removeOnSpill"});var xn;function Ow(){function n(){this.defaults={swapClass:"sortable-swap-highlight"}}return n.prototype={dragStart:function(e){var i=e.dragEl;xn=i},dragOverValid:function(e){var i=e.completed,r=e.target,o=e.onMove,s=e.activeSortable,l=e.changed,a=e.cancel;if(s.options.swap){var c=this.sortable.el,h=this.options;if(r&&r!==c){var f=xn;o(r)!==!1?(oe(r,h.swapClass,!0),xn=r):xn=null,f&&f!==xn&&oe(f,h.swapClass,!1)}l(),i(!0),a()}},drop:function(e){var i=e.activeSortable,r=e.putSortable,o=e.dragEl,s=r||this.sortable,l=this.options;xn&&oe(xn,l.swapClass,!1),xn&&(l.swap||r&&r.options.swap)&&o!==xn&&(s.captureAnimationState(),s!==i&&i.captureAnimationState(),Aw(o,xn),s.animateAll(),s!==i&&i.animateAll())},nulling:function(){xn=null}},En(n,{pluginName:"swap",eventProperties:function(){return{swapItem:xn}}})}function Aw(n,t){var e=n.parentNode,i=t.parentNode,r,o;!e||!i||e.isEqualNode(t)||i.isEqualNode(n)||(r=ue(n),o=ue(t),e.isEqualNode(i)&&r<o&&o++,e.insertBefore(t,e.children[r]),i.insertBefore(n,i.children[o]))}var bt=[],fn=[],Ts,Pn,Ms=!1,_e=!1,Fr=!1,Xt,Ds,ul;function kw(){function n(t){for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this));t.options.supportPointer?Dt(document,"pointerup",this._deselectMultiDrag):(Dt(document,"mouseup",this._deselectMultiDrag),Dt(document,"touchend",this._deselectMultiDrag)),Dt(document,"keydown",this._checkKeyDown),Dt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(r,o){var s="";bt.length&&Pn===t?bt.forEach(function(l,a){s+=(a?", ":"")+l.textContent}):s=o.textContent,r.setData("Text",s)}}}return n.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var i=e.dragEl;Xt=i},delayEnded:function(){this.isMultiDrag=~bt.indexOf(Xt)},setupClone:function(e){var i=e.sortable,r=e.cancel;if(this.isMultiDrag){for(var o=0;o<bt.length;o++)fn.push(cu(bt[o])),fn[o].sortableIndex=bt[o].sortableIndex,fn[o].draggable=!1,fn[o].style["will-change"]="",oe(fn[o],this.options.selectedClass,!1),bt[o]===Xt&&oe(fn[o],this.options.chosenClass,!1);i._hideClone(),r()}},clone:function(e){var i=e.sortable,r=e.rootEl,o=e.dispatchSortableEvent,s=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||bt.length&&Pn===i&&(Id(!0,r),o("clone"),s()))},showClone:function(e){var i=e.cloneNowShown,r=e.rootEl,o=e.cancel;this.isMultiDrag&&(Id(!1,r),fn.forEach(function(s){nt(s,"display","")}),i(),ul=!1,o())},hideClone:function(e){var i=this;e.sortable;var r=e.cloneNowHidden,o=e.cancel;this.isMultiDrag&&(fn.forEach(function(s){nt(s,"display","none"),i.options.removeCloneOnHide&&s.parentNode&&s.parentNode.removeChild(s)}),r(),ul=!0,o())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&Pn&&Pn.multiDrag._deselectMultiDrag(),bt.forEach(function(i){i.sortableIndex=ue(i)}),bt=bt.sort(function(i,r){return i.sortableIndex-r.sortableIndex}),Fr=!0},dragStarted:function(e){var i=this,r=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(r.captureAnimationState(),this.options.animation)){bt.forEach(function(s){s!==Xt&&nt(s,"position","absolute")});var o=ee(Xt,!1,!0,!0);bt.forEach(function(s){s!==Xt&&Ed(s,o)}),_e=!0,Ms=!0}r.animateAll(function(){_e=!1,Ms=!1,i.options.animation&&bt.forEach(function(s){Rc(s)}),i.options.sort&&dl()})}},dragOver:function(e){var i=e.target,r=e.completed,o=e.cancel;_e&&~bt.indexOf(i)&&(r(!1),o())},revert:function(e){var i=e.fromSortable,r=e.rootEl,o=e.sortable,s=e.dragRect;bt.length>1&&(bt.forEach(function(l){o.addAnimationState({target:l,rect:_e?ee(l):s}),Rc(l),l.fromRect=s,i.removeAnimationState(l)}),_e=!1,Ew(!this.options.removeCloneOnHide,r))},dragOverCompleted:function(e){var i=e.sortable,r=e.isOwner,o=e.insertion,s=e.activeSortable,l=e.parentEl,a=e.putSortable,c=this.options;if(o){if(r&&s._hideClone(),Ms=!1,c.animation&&bt.length>1&&(_e||!r&&!s.options.sort&&!a)){var h=ee(Xt,!1,!0,!0);bt.forEach(function(u){u!==Xt&&(Ed(u,h),l.appendChild(u))}),_e=!0}if(!r)if(_e||dl(),bt.length>1){var f=ul;s._showClone(i),s.options.animation&&!ul&&f&&fn.forEach(function(u){s.addAnimationState({target:u,rect:Ds}),u.fromRect=Ds,u.thisAnimationDuration=null})}else s._showClone(i)}},dragOverAnimationCapture:function(e){var i=e.dragRect,r=e.isOwner,o=e.activeSortable;if(bt.forEach(function(l){l.thisAnimationDuration=null}),o.options.animation&&!r&&o.multiDrag.isMultiDrag){Ds=En({},i);var s=xr(Xt,!0);Ds.top-=s.f,Ds.left-=s.e}},dragOverAnimationComplete:function(){_e&&(_e=!1,dl())},drop:function(e){var i=e.originalEvent,r=e.rootEl,o=e.parentEl,s=e.sortable,l=e.dispatchSortableEvent,a=e.oldIndex,c=e.putSortable,h=c||this.sortable;if(i){var f=this.options,u=o.children;if(!Fr)if(f.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),oe(Xt,f.selectedClass,!~bt.indexOf(Xt)),~bt.indexOf(Xt))bt.splice(bt.indexOf(Xt),1),Ts=null,Vs({sortable:s,rootEl:r,name:"deselect",targetEl:Xt,originalEvt:i});else{if(bt.push(Xt),Vs({sortable:s,rootEl:r,name:"select",targetEl:Xt,originalEvt:i}),i.shiftKey&&Ts&&s.el.contains(Ts)){var d=ue(Ts),p=ue(Xt);if(~d&&~p&&d!==p){var g,y;for(p>d?(y=d,g=p):(y=p,g=d+1);y<g;y++)~bt.indexOf(u[y])||(oe(u[y],f.selectedClass,!0),bt.push(u[y]),Vs({sortable:s,rootEl:r,name:"select",targetEl:u[y],originalEvt:i}))}}else Ts=Xt;Pn=h}if(Fr&&this.isMultiDrag){if(_e=!1,(o[He].options.sort||o!==r)&&bt.length>1){var v=ee(Xt),m=ue(Xt,":not(."+this.options.selectedClass+")");if(!Ms&&f.animation&&(Xt.thisAnimationDuration=null),h.captureAnimationState(),!Ms&&(f.animation&&(Xt.fromRect=v,bt.forEach(function(x){if(x.thisAnimationDuration=null,x!==Xt){var S=_e?ee(x):v;x.fromRect=S,h.addAnimationState({target:x,rect:S})}})),dl(),bt.forEach(function(x){u[m]?o.insertBefore(x,u[m]):o.appendChild(x),m++}),a===ue(Xt))){var b=!1;bt.forEach(function(x){if(x.sortableIndex!==ue(x)){b=!0;return}}),b&&l("update")}bt.forEach(function(x){Rc(x)}),h.animateAll()}Pn=h}(r===o||c&&c.lastPutMode!=="clone")&&fn.forEach(function(x){x.parentNode&&x.parentNode.removeChild(x)})}},nullingGlobal:function(){this.isMultiDrag=Fr=!1,fn.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Et(document,"pointerup",this._deselectMultiDrag),Et(document,"mouseup",this._deselectMultiDrag),Et(document,"touchend",this._deselectMultiDrag),Et(document,"keydown",this._checkKeyDown),Et(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(typeof Fr<"u"&&Fr)&&Pn===this.sortable&&!(e&&Rn(e.target,this.options.draggable,this.sortable.el,!1))&&!(e&&e.button!==0))for(;bt.length;){var i=bt[0];oe(i,this.options.selectedClass,!1),bt.shift(),Vs({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:i,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},En(n,{pluginName:"multiDrag",utils:{select:function(e){var i=e.parentNode[He];!i||!i.options.multiDrag||~bt.indexOf(e)||(Pn&&Pn!==i&&(Pn.multiDrag._deselectMultiDrag(),Pn=i),oe(e,i.options.selectedClass,!0),bt.push(e))},deselect:function(e){var i=e.parentNode[He],r=bt.indexOf(e);!i||!i.options.multiDrag||!~r||(oe(e,i.options.selectedClass,!1),bt.splice(r,1))}},eventProperties:function(){var e=this,i=[],r=[];return bt.forEach(function(o){i.push({multiDragElement:o,index:o.sortableIndex});var s;_e&&o!==Xt?s=-1:_e?s=ue(o,":not(."+e.options.selectedClass+")"):s=ue(o),r.push({multiDragElement:o,index:s})}),{items:QS(bt),clones:[].concat(fn),oldIndicies:i,newIndicies:r}},optionListeners:{multiDragKey:function(e){return e=e.toLowerCase(),e==="ctrl"?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function Ew(n,t){bt.forEach(function(e,i){var r=t.children[e.sortableIndex+(n?Number(i):0)];r?t.insertBefore(e,r):t.appendChild(e)})}function Id(n,t){fn.forEach(function(e,i){var r=t.children[e.sortableIndex+(n?Number(i):0)];r?t.insertBefore(e,r):t.appendChild(e)})}function dl(){bt.forEach(function(n){n!==Xt&&n.parentNode&&n.parentNode.removeChild(n)})}mt.mount(new Cw);mt.mount(fu,hu);const Tw=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:kw,Sortable:mt,Swap:Ow,default:mt},Symbol.toStringTag,{value:"Module"})),Mw=p0(Tw);(function(n,t){(function(i,r){n.exports=r(GS,Mw)})(typeof self<"u"?self:US,function(e,i){return function(r){var o={};function s(l){if(o[l])return o[l].exports;var a=o[l]={i:l,l:!1,exports:{}};return r[l].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=o,s.d=function(l,a,c){s.o(l,a)||Object.defineProperty(l,a,{enumerable:!0,get:c})},s.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},s.t=function(l,a){if(a&1&&(l=s(l)),a&8||a&4&&typeof l=="object"&&l&&l.__esModule)return l;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:l}),a&2&&typeof l!="string")for(var h in l)s.d(c,h,function(f){return l[f]}.bind(null,h));return c},s.n=function(l){var a=l&&l.__esModule?function(){return l.default}:function(){return l};return s.d(a,"a",a),a},s.o=function(l,a){return Object.prototype.hasOwnProperty.call(l,a)},s.p="",s(s.s="fb15")}({"00ee":function(r,o,s){var l=s("b622"),a=l("toStringTag"),c={};c[a]="z",r.exports=String(c)==="[object z]"},"0366":function(r,o,s){var l=s("1c0b");r.exports=function(a,c,h){if(l(a),c===void 0)return a;switch(h){case 0:return function(){return a.call(c)};case 1:return function(f){return a.call(c,f)};case 2:return function(f,u){return a.call(c,f,u)};case 3:return function(f,u,d){return a.call(c,f,u,d)}}return function(){return a.apply(c,arguments)}}},"057f":function(r,o,s){var l=s("fc6a"),a=s("241c").f,c={}.toString,h=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(u){try{return a(u)}catch{return h.slice()}};r.exports.f=function(d){return h&&c.call(d)=="[object Window]"?f(d):a(l(d))}},"06cf":function(r,o,s){var l=s("83ab"),a=s("d1e7"),c=s("5c6c"),h=s("fc6a"),f=s("c04e"),u=s("5135"),d=s("0cfb"),p=Object.getOwnPropertyDescriptor;o.f=l?p:function(y,v){if(y=h(y),v=f(v,!0),d)try{return p(y,v)}catch{}if(u(y,v))return c(!a.f.call(y,v),y[v])}},"0cfb":function(r,o,s){var l=s("83ab"),a=s("d039"),c=s("cc12");r.exports=!l&&!a(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(r,o,s){var l=s("23e7"),a=s("d58f").left,c=s("a640"),h=s("ae40"),f=c("reduce"),u=h("reduce",{1:0});l({target:"Array",proto:!0,forced:!f||!u},{reduce:function(p){return a(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(r,o,s){var l=s("c6b6"),a=s("9263");r.exports=function(c,h){var f=c.exec;if(typeof f=="function"){var u=f.call(c,h);if(typeof u!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return u}if(l(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return a.call(c,h)}},"159b":function(r,o,s){var l=s("da84"),a=s("fdbc"),c=s("17c2"),h=s("9112");for(var f in a){var u=l[f],d=u&&u.prototype;if(d&&d.forEach!==c)try{h(d,"forEach",c)}catch{d.forEach=c}}},"17c2":function(r,o,s){var l=s("b727").forEach,a=s("a640"),c=s("ae40"),h=a("forEach"),f=c("forEach");r.exports=!h||!f?function(d){return l(this,d,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(r,o,s){var l=s("d066");r.exports=l("document","documentElement")},"1c0b":function(r,o){r.exports=function(s){if(typeof s!="function")throw TypeError(String(s)+" is not a function");return s}},"1c7e":function(r,o,s){var l=s("b622"),a=l("iterator"),c=!1;try{var h=0,f={next:function(){return{done:!!h++}},return:function(){c=!0}};f[a]=function(){return this},Array.from(f,function(){throw 2})}catch{}r.exports=function(u,d){if(!d&&!c)return!1;var p=!1;try{var g={};g[a]=function(){return{next:function(){return{done:p=!0}}}},u(g)}catch{}return p}},"1d80":function(r,o){r.exports=function(s){if(s==null)throw TypeError("Can't call method on "+s);return s}},"1dde":function(r,o,s){var l=s("d039"),a=s("b622"),c=s("2d00"),h=a("species");r.exports=function(f){return c>=51||!l(function(){var u=[],d=u.constructor={};return d[h]=function(){return{foo:1}},u[f](Boolean).foo!==1})}},"23cb":function(r,o,s){var l=s("a691"),a=Math.max,c=Math.min;r.exports=function(h,f){var u=l(h);return u<0?a(u+f,0):c(u,f)}},"23e7":function(r,o,s){var l=s("da84"),a=s("06cf").f,c=s("9112"),h=s("6eeb"),f=s("ce4e"),u=s("e893"),d=s("94ca");r.exports=function(p,g){var y=p.target,v=p.global,m=p.stat,b,x,S,w,E,k;if(v?x=l:m?x=l[y]||f(y,{}):x=(l[y]||{}).prototype,x)for(S in g){if(E=g[S],p.noTargetGet?(k=a(x,S),w=k&&k.value):w=x[S],b=d(v?S:y+(m?".":"#")+S,p.forced),!b&&w!==void 0){if(typeof E==typeof w)continue;u(E,w)}(p.sham||w&&w.sham)&&c(E,"sham",!0),h(x,S,E,p)}}},"241c":function(r,o,s){var l=s("ca84"),a=s("7839"),c=a.concat("length","prototype");o.f=Object.getOwnPropertyNames||function(f){return l(f,c)}},"25f0":function(r,o,s){var l=s("6eeb"),a=s("825a"),c=s("d039"),h=s("ad6d"),f="toString",u=RegExp.prototype,d=u[f],p=c(function(){return d.call({source:"a",flags:"b"})!="/a/b"}),g=d.name!=f;(p||g)&&l(RegExp.prototype,f,function(){var v=a(this),m=String(v.source),b=v.flags,x=String(b===void 0&&v instanceof RegExp&&!("flags"in u)?h.call(v):b);return"/"+m+"/"+x},{unsafe:!0})},"2ca0":function(r,o,s){var l=s("23e7"),a=s("06cf").f,c=s("50c4"),h=s("5a34"),f=s("1d80"),u=s("ab13"),d=s("c430"),p="".startsWith,g=Math.min,y=u("startsWith"),v=!d&&!y&&!!function(){var m=a(String.prototype,"startsWith");return m&&!m.writable}();l({target:"String",proto:!0,forced:!v&&!y},{startsWith:function(b){var x=String(f(this));h(b);var S=c(g(arguments.length>1?arguments[1]:void 0,x.length)),w=String(b);return p?p.call(x,w,S):x.slice(S,S+w.length)===w}})},"2d00":function(r,o,s){var l=s("da84"),a=s("342f"),c=l.process,h=c&&c.versions,f=h&&h.v8,u,d;f?(u=f.split("."),d=u[0]+u[1]):a&&(u=a.match(/Edge\/(\d+)/),(!u||u[1]>=74)&&(u=a.match(/Chrome\/(\d+)/),u&&(d=u[1]))),r.exports=d&&+d},"342f":function(r,o,s){var l=s("d066");r.exports=l("navigator","userAgent")||""},"35a1":function(r,o,s){var l=s("f5df"),a=s("3f8c"),c=s("b622"),h=c("iterator");r.exports=function(f){if(f!=null)return f[h]||f["@@iterator"]||a[l(f)]}},"37e8":function(r,o,s){var l=s("83ab"),a=s("9bf2"),c=s("825a"),h=s("df75");r.exports=l?Object.defineProperties:function(u,d){c(u);for(var p=h(d),g=p.length,y=0,v;g>y;)a.f(u,v=p[y++],d[v]);return u}},"3bbe":function(r,o,s){var l=s("861d");r.exports=function(a){if(!l(a)&&a!==null)throw TypeError("Can't set "+String(a)+" as a prototype");return a}},"3ca3":function(r,o,s){var l=s("6547").charAt,a=s("69f3"),c=s("7dd0"),h="String Iterator",f=a.set,u=a.getterFor(h);c(String,"String",function(d){f(this,{type:h,string:String(d),index:0})},function(){var p=u(this),g=p.string,y=p.index,v;return y>=g.length?{value:void 0,done:!0}:(v=l(g,y),p.index+=v.length,{value:v,done:!1})})},"3f8c":function(r,o){r.exports={}},4160:function(r,o,s){var l=s("23e7"),a=s("17c2");l({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"428f":function(r,o,s){var l=s("da84");r.exports=l},"44ad":function(r,o,s){var l=s("d039"),a=s("c6b6"),c="".split;r.exports=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(h){return a(h)=="String"?c.call(h,""):Object(h)}:Object},"44d2":function(r,o,s){var l=s("b622"),a=s("7c73"),c=s("9bf2"),h=l("unscopables"),f=Array.prototype;f[h]==null&&c.f(f,h,{configurable:!0,value:a(null)}),r.exports=function(u){f[h][u]=!0}},"44e7":function(r,o,s){var l=s("861d"),a=s("c6b6"),c=s("b622"),h=c("match");r.exports=function(f){var u;return l(f)&&((u=f[h])!==void 0?!!u:a(f)=="RegExp")}},4930:function(r,o,s){var l=s("d039");r.exports=!!Object.getOwnPropertySymbols&&!l(function(){return!String(Symbol())})},"4d64":function(r,o,s){var l=s("fc6a"),a=s("50c4"),c=s("23cb"),h=function(f){return function(u,d,p){var g=l(u),y=a(g.length),v=c(p,y),m;if(f&&d!=d){for(;y>v;)if(m=g[v++],m!=m)return!0}else for(;y>v;v++)if((f||v in g)&&g[v]===d)return f||v||0;return!f&&-1}};r.exports={includes:h(!0),indexOf:h(!1)}},"4de4":function(r,o,s){var l=s("23e7"),a=s("b727").filter,c=s("1dde"),h=s("ae40"),f=c("filter"),u=h("filter");l({target:"Array",proto:!0,forced:!f||!u},{filter:function(p){return a(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(r,o,s){var l=s("0366"),a=s("7b0b"),c=s("9bdd"),h=s("e95a"),f=s("50c4"),u=s("8418"),d=s("35a1");r.exports=function(g){var y=a(g),v=typeof this=="function"?this:Array,m=arguments.length,b=m>1?arguments[1]:void 0,x=b!==void 0,S=d(y),w=0,E,k,O,M,I,B;if(x&&(b=l(b,m>2?arguments[2]:void 0,2)),S!=null&&!(v==Array&&h(S)))for(M=S.call(y),I=M.next,k=new v;!(O=I.call(M)).done;w++)B=x?c(M,b,[O.value,w],!0):O.value,u(k,w,B);else for(E=f(y.length),k=new v(E);E>w;w++)B=x?b(y[w],w):y[w],u(k,w,B);return k.length=w,k}},"4fad":function(r,o,s){var l=s("23e7"),a=s("6f53").entries;l({target:"Object",stat:!0},{entries:function(h){return a(h)}})},"50c4":function(r,o,s){var l=s("a691"),a=Math.min;r.exports=function(c){return c>0?a(l(c),9007199254740991):0}},5135:function(r,o){var s={}.hasOwnProperty;r.exports=function(l,a){return s.call(l,a)}},5319:function(r,o,s){var l=s("d784"),a=s("825a"),c=s("7b0b"),h=s("50c4"),f=s("a691"),u=s("1d80"),d=s("8aa5"),p=s("14c3"),g=Math.max,y=Math.min,v=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g,x=function(S){return S===void 0?S:String(S)};l("replace",2,function(S,w,E,k){var O=k.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,M=k.REPLACE_KEEPS_$0,I=O?"$":"$0";return[function(P,Q){var H=u(this),Y=P==null?void 0:P[S];return Y!==void 0?Y.call(P,H,Q):w.call(String(H),P,Q)},function(R,P){if(!O&&M||typeof P=="string"&&P.indexOf(I)===-1){var Q=E(w,R,this,P);if(Q.done)return Q.value}var H=a(R),Y=String(this),q=typeof P=="function";q||(P=String(P));var ft=H.global;if(ft){var xt=H.unicode;H.lastIndex=0}for(var kt=[];;){var Ot=p(H,Y);if(Ot===null||(kt.push(Ot),!ft))break;var zt=String(Ot[0]);zt===""&&(H.lastIndex=d(Y,h(H.lastIndex),xt))}for(var re="",ae=0,Nt=0;Nt<kt.length;Nt++){Ot=kt[Nt];for(var Wt=String(Ot[0]),Re=g(y(f(Ot.index),Y.length),0),ce=[],cn=1;cn<Ot.length;cn++)ce.push(x(Ot[cn]));var Mn=Ot.groups;if(q){var C=[Wt].concat(ce,Re,Y);Mn!==void 0&&C.push(Mn);var A=String(P.apply(void 0,C))}else A=B(Wt,Y,Re,ce,Mn,P);Re>=ae&&(re+=Y.slice(ae,Re)+A,ae=Re+Wt.length)}return re+Y.slice(ae)}];function B(R,P,Q,H,Y,q){var ft=Q+R.length,xt=H.length,kt=b;return Y!==void 0&&(Y=c(Y),kt=m),w.call(q,kt,function(Ot,zt){var re;switch(zt.charAt(0)){case"$":return"$";case"&":return R;case"`":return P.slice(0,Q);case"'":return P.slice(ft);case"<":re=Y[zt.slice(1,-1)];break;default:var ae=+zt;if(ae===0)return Ot;if(ae>xt){var Nt=v(ae/10);return Nt===0?Ot:Nt<=xt?H[Nt-1]===void 0?zt.charAt(1):H[Nt-1]+zt.charAt(1):Ot}re=H[ae-1]}return re===void 0?"":re})}})},5692:function(r,o,s){var l=s("c430"),a=s("c6cd");(r.exports=function(c,h){return a[c]||(a[c]=h!==void 0?h:{})})("versions",[]).push({version:"3.6.5",mode:l?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(r,o,s){var l=s("d066"),a=s("241c"),c=s("7418"),h=s("825a");r.exports=l("Reflect","ownKeys")||function(u){var d=a.f(h(u)),p=c.f;return p?d.concat(p(u)):d}},"5a34":function(r,o,s){var l=s("44e7");r.exports=function(a){if(l(a))throw TypeError("The method doesn't accept regular expressions");return a}},"5c6c":function(r,o){r.exports=function(s,l){return{enumerable:!(s&1),configurable:!(s&2),writable:!(s&4),value:l}}},"5db7":function(r,o,s){var l=s("23e7"),a=s("a2bf"),c=s("7b0b"),h=s("50c4"),f=s("1c0b"),u=s("65f0");l({target:"Array",proto:!0},{flatMap:function(p){var g=c(this),y=h(g.length),v;return f(p),v=u(g,0),v.length=a(v,g,g,y,0,1,p,arguments.length>1?arguments[1]:void 0),v}})},6547:function(r,o,s){var l=s("a691"),a=s("1d80"),c=function(h){return function(f,u){var d=String(a(f)),p=l(u),g=d.length,y,v;return p<0||p>=g?h?"":void 0:(y=d.charCodeAt(p),y<55296||y>56319||p+1===g||(v=d.charCodeAt(p+1))<56320||v>57343?h?d.charAt(p):y:h?d.slice(p,p+2):(y-55296<<10)+(v-56320)+65536)}};r.exports={codeAt:c(!1),charAt:c(!0)}},"65f0":function(r,o,s){var l=s("861d"),a=s("e8b5"),c=s("b622"),h=c("species");r.exports=function(f,u){var d;return a(f)&&(d=f.constructor,typeof d=="function"&&(d===Array||a(d.prototype))?d=void 0:l(d)&&(d=d[h],d===null&&(d=void 0))),new(d===void 0?Array:d)(u===0?0:u)}},"69f3":function(r,o,s){var l=s("7f9a"),a=s("da84"),c=s("861d"),h=s("9112"),f=s("5135"),u=s("f772"),d=s("d012"),p=a.WeakMap,g,y,v,m=function(O){return v(O)?y(O):g(O,{})},b=function(O){return function(M){var I;if(!c(M)||(I=y(M)).type!==O)throw TypeError("Incompatible receiver, "+O+" required");return I}};if(l){var x=new p,S=x.get,w=x.has,E=x.set;g=function(O,M){return E.call(x,O,M),M},y=function(O){return S.call(x,O)||{}},v=function(O){return w.call(x,O)}}else{var k=u("state");d[k]=!0,g=function(O,M){return h(O,k,M),M},y=function(O){return f(O,k)?O[k]:{}},v=function(O){return f(O,k)}}r.exports={set:g,get:y,has:v,enforce:m,getterFor:b}},"6eeb":function(r,o,s){var l=s("da84"),a=s("9112"),c=s("5135"),h=s("ce4e"),f=s("8925"),u=s("69f3"),d=u.get,p=u.enforce,g=String(String).split("String");(r.exports=function(y,v,m,b){var x=b?!!b.unsafe:!1,S=b?!!b.enumerable:!1,w=b?!!b.noTargetGet:!1;if(typeof m=="function"&&(typeof v=="string"&&!c(m,"name")&&a(m,"name",v),p(m).source=g.join(typeof v=="string"?v:"")),y===l){S?y[v]=m:h(v,m);return}else x?!w&&y[v]&&(S=!0):delete y[v];S?y[v]=m:a(y,v,m)})(Function.prototype,"toString",function(){return typeof this=="function"&&d(this).source||f(this)})},"6f53":function(r,o,s){var l=s("83ab"),a=s("df75"),c=s("fc6a"),h=s("d1e7").f,f=function(u){return function(d){for(var p=c(d),g=a(p),y=g.length,v=0,m=[],b;y>v;)b=g[v++],(!l||h.call(p,b))&&m.push(u?[b,p[b]]:p[b]);return m}};r.exports={entries:f(!0),values:f(!1)}},"73d9":function(r,o,s){var l=s("44d2");l("flatMap")},7418:function(r,o){o.f=Object.getOwnPropertySymbols},"746f":function(r,o,s){var l=s("428f"),a=s("5135"),c=s("e538"),h=s("9bf2").f;r.exports=function(f){var u=l.Symbol||(l.Symbol={});a(u,f)||h(u,f,{value:c.f(f)})}},7839:function(r,o){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(r,o,s){var l=s("1d80");r.exports=function(a){return Object(l(a))}},"7c73":function(r,o,s){var l=s("825a"),a=s("37e8"),c=s("7839"),h=s("d012"),f=s("1be4"),u=s("cc12"),d=s("f772"),p=">",g="<",y="prototype",v="script",m=d("IE_PROTO"),b=function(){},x=function(O){return g+v+p+O+g+"/"+v+p},S=function(O){O.write(x("")),O.close();var M=O.parentWindow.Object;return O=null,M},w=function(){var O=u("iframe"),M="java"+v+":",I;return O.style.display="none",f.appendChild(O),O.src=String(M),I=O.contentWindow.document,I.open(),I.write(x("document.F=Object")),I.close(),I.F},E,k=function(){try{E=document.domain&&new ActiveXObject("htmlfile")}catch{}k=E?S(E):w();for(var O=c.length;O--;)delete k[y][c[O]];return k()};h[m]=!0,r.exports=Object.create||function(M,I){var B;return M!==null?(b[y]=l(M),B=new b,b[y]=null,B[m]=M):B=k(),I===void 0?B:a(B,I)}},"7dd0":function(r,o,s){var l=s("23e7"),a=s("9ed3"),c=s("e163"),h=s("d2bb"),f=s("d44e"),u=s("9112"),d=s("6eeb"),p=s("b622"),g=s("c430"),y=s("3f8c"),v=s("ae93"),m=v.IteratorPrototype,b=v.BUGGY_SAFARI_ITERATORS,x=p("iterator"),S="keys",w="values",E="entries",k=function(){return this};r.exports=function(O,M,I,B,R,P,Q){a(I,M,B);var H=function(Nt){if(Nt===R&&kt)return kt;if(!b&&Nt in ft)return ft[Nt];switch(Nt){case S:return function(){return new I(this,Nt)};case w:return function(){return new I(this,Nt)};case E:return function(){return new I(this,Nt)}}return function(){return new I(this)}},Y=M+" Iterator",q=!1,ft=O.prototype,xt=ft[x]||ft["@@iterator"]||R&&ft[R],kt=!b&&xt||H(R),Ot=M=="Array"&&ft.entries||xt,zt,re,ae;if(Ot&&(zt=c(Ot.call(new O)),m!==Object.prototype&&zt.next&&(!g&&c(zt)!==m&&(h?h(zt,m):typeof zt[x]!="function"&&u(zt,x,k)),f(zt,Y,!0,!0),g&&(y[Y]=k))),R==w&&xt&&xt.name!==w&&(q=!0,kt=function(){return xt.call(this)}),(!g||Q)&&ft[x]!==kt&&u(ft,x,kt),y[M]=kt,R)if(re={values:H(w),keys:P?kt:H(S),entries:H(E)},Q)for(ae in re)(b||q||!(ae in ft))&&d(ft,ae,re[ae]);else l({target:M,proto:!0,forced:b||q},re);return re}},"7f9a":function(r,o,s){var l=s("da84"),a=s("8925"),c=l.WeakMap;r.exports=typeof c=="function"&&/native code/.test(a(c))},"825a":function(r,o,s){var l=s("861d");r.exports=function(a){if(!l(a))throw TypeError(String(a)+" is not an object");return a}},"83ab":function(r,o,s){var l=s("d039");r.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(r,o,s){var l=s("c04e"),a=s("9bf2"),c=s("5c6c");r.exports=function(h,f,u){var d=l(f);d in h?a.f(h,d,c(0,u)):h[d]=u}},"861d":function(r,o){r.exports=function(s){return typeof s=="object"?s!==null:typeof s=="function"}},8875:function(r,o,s){var l,a,c;(function(h,f){a=[],l=f,c=typeof l=="function"?l.apply(o,a):l,c!==void 0&&(r.exports=c)})(typeof self<"u"?self:this,function(){function h(){var f=Object.getOwnPropertyDescriptor(document,"currentScript");if(!f&&"currentScript"in document&&document.currentScript||f&&f.get!==h&&document.currentScript)return document.currentScript;try{throw new Error}catch(E){var u=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,d=/@([^@]*):(\d+):(\d+)\s*$/ig,p=u.exec(E.stack)||d.exec(E.stack),g=p&&p[1]||!1,y=p&&p[2]||!1,v=document.location.href.replace(document.location.hash,""),m,b,x,S=document.getElementsByTagName("script");g===v&&(m=document.documentElement.outerHTML,b=new RegExp("(?:[^\\n]+?\\n){0,"+(y-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),x=m.replace(b,"$1").trim());for(var w=0;w<S.length;w++)if(S[w].readyState==="interactive"||S[w].src===g||g===v&&S[w].innerHTML&&S[w].innerHTML.trim()===x)return S[w];return null}}return h})},8925:function(r,o,s){var l=s("c6cd"),a=Function.toString;typeof l.inspectSource!="function"&&(l.inspectSource=function(c){return a.call(c)}),r.exports=l.inspectSource},"8aa5":function(r,o,s){var l=s("6547").charAt;r.exports=function(a,c,h){return c+(h?l(a,c).length:1)}},"8bbf":function(r,o){r.exports=e},"90e3":function(r,o){var s=0,l=Math.random();r.exports=function(a){return"Symbol("+String(a===void 0?"":a)+")_"+(++s+l).toString(36)}},9112:function(r,o,s){var l=s("83ab"),a=s("9bf2"),c=s("5c6c");r.exports=l?function(h,f,u){return a.f(h,f,c(1,u))}:function(h,f,u){return h[f]=u,h}},9263:function(r,o,s){var l=s("ad6d"),a=s("9f7f"),c=RegExp.prototype.exec,h=String.prototype.replace,f=c,u=function(){var y=/a/,v=/b*/g;return c.call(y,"a"),c.call(v,"a"),y.lastIndex!==0||v.lastIndex!==0}(),d=a.UNSUPPORTED_Y||a.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,g=u||p||d;g&&(f=function(v){var m=this,b,x,S,w,E=d&&m.sticky,k=l.call(m),O=m.source,M=0,I=v;return E&&(k=k.replace("y",""),k.indexOf("g")===-1&&(k+="g"),I=String(v).slice(m.lastIndex),m.lastIndex>0&&(!m.multiline||m.multiline&&v[m.lastIndex-1]!==`
`)&&(O="(?: "+O+")",I=" "+I,M++),x=new RegExp("^(?:"+O+")",k)),p&&(x=new RegExp("^"+O+"$(?!\\s)",k)),u&&(b=m.lastIndex),S=c.call(E?x:m,I),E?S?(S.input=S.input.slice(M),S[0]=S[0].slice(M),S.index=m.lastIndex,m.lastIndex+=S[0].length):m.lastIndex=0:u&&S&&(m.lastIndex=m.global?S.index+S[0].length:b),p&&S&&S.length>1&&h.call(S[0],x,function(){for(w=1;w<arguments.length-2;w++)arguments[w]===void 0&&(S[w]=void 0)}),S}),r.exports=f},"94ca":function(r,o,s){var l=s("d039"),a=/#|\.prototype\./,c=function(p,g){var y=f[h(p)];return y==d?!0:y==u?!1:typeof g=="function"?l(g):!!g},h=c.normalize=function(p){return String(p).replace(a,".").toLowerCase()},f=c.data={},u=c.NATIVE="N",d=c.POLYFILL="P";r.exports=c},"99af":function(r,o,s){var l=s("23e7"),a=s("d039"),c=s("e8b5"),h=s("861d"),f=s("7b0b"),u=s("50c4"),d=s("8418"),p=s("65f0"),g=s("1dde"),y=s("b622"),v=s("2d00"),m=y("isConcatSpreadable"),b=9007199254740991,x="Maximum allowed index exceeded",S=v>=51||!a(function(){var O=[];return O[m]=!1,O.concat()[0]!==O}),w=g("concat"),E=function(O){if(!h(O))return!1;var M=O[m];return M!==void 0?!!M:c(O)},k=!S||!w;l({target:"Array",proto:!0,forced:k},{concat:function(M){var I=f(this),B=p(I,0),R=0,P,Q,H,Y,q;for(P=-1,H=arguments.length;P<H;P++)if(q=P===-1?I:arguments[P],E(q)){if(Y=u(q.length),R+Y>b)throw TypeError(x);for(Q=0;Q<Y;Q++,R++)Q in q&&d(B,R,q[Q])}else{if(R>=b)throw TypeError(x);d(B,R++,q)}return B.length=R,B}})},"9bdd":function(r,o,s){var l=s("825a");r.exports=function(a,c,h,f){try{return f?c(l(h)[0],h[1]):c(h)}catch(d){var u=a.return;throw u!==void 0&&l(u.call(a)),d}}},"9bf2":function(r,o,s){var l=s("83ab"),a=s("0cfb"),c=s("825a"),h=s("c04e"),f=Object.defineProperty;o.f=l?f:function(d,p,g){if(c(d),p=h(p,!0),c(g),a)try{return f(d,p,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(d[p]=g.value),d}},"9ed3":function(r,o,s){var l=s("ae93").IteratorPrototype,a=s("7c73"),c=s("5c6c"),h=s("d44e"),f=s("3f8c"),u=function(){return this};r.exports=function(d,p,g){var y=p+" Iterator";return d.prototype=a(l,{next:c(1,g)}),h(d,y,!1,!0),f[y]=u,d}},"9f7f":function(r,o,s){var l=s("d039");function a(c,h){return RegExp(c,h)}o.UNSUPPORTED_Y=l(function(){var c=a("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),o.BROKEN_CARET=l(function(){var c=a("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},a2bf:function(r,o,s){var l=s("e8b5"),a=s("50c4"),c=s("0366"),h=function(f,u,d,p,g,y,v,m){for(var b=g,x=0,S=v?c(v,m,3):!1,w;x<p;){if(x in d){if(w=S?S(d[x],x,u):d[x],y>0&&l(w))b=h(f,u,w,a(w.length),b,y-1)-1;else{if(b>=9007199254740991)throw TypeError("Exceed the acceptable array length");f[b]=w}b++}x++}return b};r.exports=h},a352:function(r,o){r.exports=i},a434:function(r,o,s){var l=s("23e7"),a=s("23cb"),c=s("a691"),h=s("50c4"),f=s("7b0b"),u=s("65f0"),d=s("8418"),p=s("1dde"),g=s("ae40"),y=p("splice"),v=g("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,b=Math.min,x=9007199254740991,S="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!y||!v},{splice:function(E,k){var O=f(this),M=h(O.length),I=a(E,M),B=arguments.length,R,P,Q,H,Y,q;if(B===0?R=P=0:B===1?(R=0,P=M-I):(R=B-2,P=b(m(c(k),0),M-I)),M+R-P>x)throw TypeError(S);for(Q=u(O,P),H=0;H<P;H++)Y=I+H,Y in O&&d(Q,H,O[Y]);if(Q.length=P,R<P){for(H=I;H<M-P;H++)Y=H+P,q=H+R,Y in O?O[q]=O[Y]:delete O[q];for(H=M;H>M-P+R;H--)delete O[H-1]}else if(R>P)for(H=M-P;H>I;H--)Y=H+P-1,q=H+R-1,Y in O?O[q]=O[Y]:delete O[q];for(H=0;H<R;H++)O[H+I]=arguments[H+2];return O.length=M-P+R,Q}})},a4d3:function(r,o,s){var l=s("23e7"),a=s("da84"),c=s("d066"),h=s("c430"),f=s("83ab"),u=s("4930"),d=s("fdbf"),p=s("d039"),g=s("5135"),y=s("e8b5"),v=s("861d"),m=s("825a"),b=s("7b0b"),x=s("fc6a"),S=s("c04e"),w=s("5c6c"),E=s("7c73"),k=s("df75"),O=s("241c"),M=s("057f"),I=s("7418"),B=s("06cf"),R=s("9bf2"),P=s("d1e7"),Q=s("9112"),H=s("6eeb"),Y=s("5692"),q=s("f772"),ft=s("d012"),xt=s("90e3"),kt=s("b622"),Ot=s("e538"),zt=s("746f"),re=s("d44e"),ae=s("69f3"),Nt=s("b727").forEach,Wt=q("hidden"),Re="Symbol",ce="prototype",cn=kt("toPrimitive"),Mn=ae.set,C=ae.getterFor(Re),A=Object[ce],L=a.Symbol,$=c("JSON","stringify"),j=B.f,z=R.f,Z=M.f,G=P.f,K=Y("symbols"),W=Y("op-symbols"),ot=Y("string-to-symbol-registry"),tt=Y("symbol-to-string-registry"),lt=Y("wks"),dt=a.QObject,St=!dt||!dt[ce]||!dt[ce].findChild,jt=f&&p(function(){return E(z({},"a",{get:function(){return z(this,"a",{value:7}).a}})).a!=7})?function(vt,at,gt){var Rt=j(A,at);Rt&&delete A[at],z(vt,at,gt),Rt&&vt!==A&&z(A,at,Rt)}:z,Bt=function(vt,at){var gt=K[vt]=E(L[ce]);return Mn(gt,{type:Re,tag:vt,description:at}),f||(gt.description=at),gt},T=d?function(vt){return typeof vt=="symbol"}:function(vt){return Object(vt)instanceof L},D=function(at,gt,Rt){at===A&&D(W,gt,Rt),m(at);var Ft=S(gt,!0);return m(Rt),g(K,Ft)?(Rt.enumerable?(g(at,Wt)&&at[Wt][Ft]&&(at[Wt][Ft]=!1),Rt=E(Rt,{enumerable:w(0,!1)})):(g(at,Wt)||z(at,Wt,w(1,{})),at[Wt][Ft]=!0),jt(at,Ft,Rt)):z(at,Ft,Rt)},N=function(at,gt){m(at);var Rt=x(gt),Ft=k(Rt).concat(wt(Rt));return Nt(Ft,function(Ze){(!f||_.call(Rt,Ze))&&D(at,Ze,Rt[Ze])}),at},U=function(at,gt){return gt===void 0?E(at):N(E(at),gt)},_=function(at){var gt=S(at,!0),Rt=G.call(this,gt);return this===A&&g(K,gt)&&!g(W,gt)?!1:Rt||!g(this,gt)||!g(K,gt)||g(this,Wt)&&this[Wt][gt]?Rt:!0},pt=function(at,gt){var Rt=x(at),Ft=S(gt,!0);if(!(Rt===A&&g(K,Ft)&&!g(W,Ft))){var Ze=j(Rt,Ft);return Ze&&g(K,Ft)&&!(g(Rt,Wt)&&Rt[Wt][Ft])&&(Ze.enumerable=!0),Ze}},ct=function(at){var gt=Z(x(at)),Rt=[];return Nt(gt,function(Ft){!g(K,Ft)&&!g(ft,Ft)&&Rt.push(Ft)}),Rt},wt=function(at){var gt=at===A,Rt=Z(gt?W:x(at)),Ft=[];return Nt(Rt,function(Ze){g(K,Ze)&&(!gt||g(A,Ze))&&Ft.push(K[Ze])}),Ft};if(u||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor");var at=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),gt=xt(at),Rt=function(Ft){this===A&&Rt.call(W,Ft),g(this,Wt)&&g(this[Wt],gt)&&(this[Wt][gt]=!1),jt(this,gt,w(1,Ft))};return f&&St&&jt(A,gt,{configurable:!0,set:Rt}),Bt(gt,at)},H(L[ce],"toString",function(){return C(this).tag}),H(L,"withoutSetter",function(vt){return Bt(xt(vt),vt)}),P.f=_,R.f=D,B.f=pt,O.f=M.f=ct,I.f=wt,Ot.f=function(vt){return Bt(kt(vt),vt)},f&&(z(L[ce],"description",{configurable:!0,get:function(){return C(this).description}}),h||H(A,"propertyIsEnumerable",_,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:L}),Nt(k(lt),function(vt){zt(vt)}),l({target:Re,stat:!0,forced:!u},{for:function(vt){var at=String(vt);if(g(ot,at))return ot[at];var gt=L(at);return ot[at]=gt,tt[gt]=at,gt},keyFor:function(at){if(!T(at))throw TypeError(at+" is not a symbol");if(g(tt,at))return tt[at]},useSetter:function(){St=!0},useSimple:function(){St=!1}}),l({target:"Object",stat:!0,forced:!u,sham:!f},{create:U,defineProperty:D,defineProperties:N,getOwnPropertyDescriptor:pt}),l({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ct,getOwnPropertySymbols:wt}),l({target:"Object",stat:!0,forced:p(function(){I.f(1)})},{getOwnPropertySymbols:function(at){return I.f(b(at))}}),$){var _t=!u||p(function(){var vt=L();return $([vt])!="[null]"||$({a:vt})!="{}"||$(Object(vt))!="{}"});l({target:"JSON",stat:!0,forced:_t},{stringify:function(at,gt,Rt){for(var Ft=[at],Ze=1,Cc;arguments.length>Ze;)Ft.push(arguments[Ze++]);if(Cc=gt,!(!v(gt)&&at===void 0||T(at)))return y(gt)||(gt=function(Eb,Qo){if(typeof Cc=="function"&&(Qo=Cc.call(this,Eb,Qo)),!T(Qo))return Qo}),Ft[1]=gt,$.apply(null,Ft)}})}L[ce][cn]||Q(L[ce],cn,L[ce].valueOf),re(L,Re),ft[Wt]=!0},a630:function(r,o,s){var l=s("23e7"),a=s("4df4"),c=s("1c7e"),h=!c(function(f){Array.from(f)});l({target:"Array",stat:!0,forced:h},{from:a})},a640:function(r,o,s){var l=s("d039");r.exports=function(a,c){var h=[][a];return!!h&&l(function(){h.call(null,c||function(){throw 1},1)})}},a691:function(r,o){var s=Math.ceil,l=Math.floor;r.exports=function(a){return isNaN(a=+a)?0:(a>0?l:s)(a)}},ab13:function(r,o,s){var l=s("b622"),a=l("match");r.exports=function(c){var h=/./;try{"/./"[c](h)}catch{try{return h[a]=!1,"/./"[c](h)}catch{}}return!1}},ac1f:function(r,o,s){var l=s("23e7"),a=s("9263");l({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(r,o,s){var l=s("825a");r.exports=function(){var a=l(this),c="";return a.global&&(c+="g"),a.ignoreCase&&(c+="i"),a.multiline&&(c+="m"),a.dotAll&&(c+="s"),a.unicode&&(c+="u"),a.sticky&&(c+="y"),c}},ae40:function(r,o,s){var l=s("83ab"),a=s("d039"),c=s("5135"),h=Object.defineProperty,f={},u=function(d){throw d};r.exports=function(d,p){if(c(f,d))return f[d];p||(p={});var g=[][d],y=c(p,"ACCESSORS")?p.ACCESSORS:!1,v=c(p,0)?p[0]:u,m=c(p,1)?p[1]:void 0;return f[d]=!!g&&!a(function(){if(y&&!l)return!0;var b={length:-1};y?h(b,1,{enumerable:!0,get:u}):b[1]=1,g.call(b,v,m)})}},ae93:function(r,o,s){var l=s("e163"),a=s("9112"),c=s("5135"),h=s("b622"),f=s("c430"),u=h("iterator"),d=!1,p=function(){return this},g,y,v;[].keys&&(v=[].keys(),"next"in v?(y=l(l(v)),y!==Object.prototype&&(g=y)):d=!0),g==null&&(g={}),!f&&!c(g,u)&&a(g,u,p),r.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:d}},b041:function(r,o,s){var l=s("00ee"),a=s("f5df");r.exports=l?{}.toString:function(){return"[object "+a(this)+"]"}},b0c0:function(r,o,s){var l=s("83ab"),a=s("9bf2").f,c=Function.prototype,h=c.toString,f=/^\s*function ([^ (]*)/,u="name";l&&!(u in c)&&a(c,u,{configurable:!0,get:function(){try{return h.call(this).match(f)[1]}catch{return""}}})},b622:function(r,o,s){var l=s("da84"),a=s("5692"),c=s("5135"),h=s("90e3"),f=s("4930"),u=s("fdbf"),d=a("wks"),p=l.Symbol,g=u?p:p&&p.withoutSetter||h;r.exports=function(y){return c(d,y)||(f&&c(p,y)?d[y]=p[y]:d[y]=g("Symbol."+y)),d[y]}},b64b:function(r,o,s){var l=s("23e7"),a=s("7b0b"),c=s("df75"),h=s("d039"),f=h(function(){c(1)});l({target:"Object",stat:!0,forced:f},{keys:function(d){return c(a(d))}})},b727:function(r,o,s){var l=s("0366"),a=s("44ad"),c=s("7b0b"),h=s("50c4"),f=s("65f0"),u=[].push,d=function(p){var g=p==1,y=p==2,v=p==3,m=p==4,b=p==6,x=p==5||b;return function(S,w,E,k){for(var O=c(S),M=a(O),I=l(w,E,3),B=h(M.length),R=0,P=k||f,Q=g?P(S,B):y?P(S,0):void 0,H,Y;B>R;R++)if((x||R in M)&&(H=M[R],Y=I(H,R,O),p)){if(g)Q[R]=Y;else if(Y)switch(p){case 3:return!0;case 5:return H;case 6:return R;case 2:u.call(Q,H)}else if(m)return!1}return b?-1:v||m?m:Q}};r.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},c04e:function(r,o,s){var l=s("861d");r.exports=function(a,c){if(!l(a))return a;var h,f;if(c&&typeof(h=a.toString)=="function"&&!l(f=h.call(a))||typeof(h=a.valueOf)=="function"&&!l(f=h.call(a))||!c&&typeof(h=a.toString)=="function"&&!l(f=h.call(a)))return f;throw TypeError("Can't convert object to primitive value")}},c430:function(r,o){r.exports=!1},c6b6:function(r,o){var s={}.toString;r.exports=function(l){return s.call(l).slice(8,-1)}},c6cd:function(r,o,s){var l=s("da84"),a=s("ce4e"),c="__core-js_shared__",h=l[c]||a(c,{});r.exports=h},c740:function(r,o,s){var l=s("23e7"),a=s("b727").findIndex,c=s("44d2"),h=s("ae40"),f="findIndex",u=!0,d=h(f);f in[]&&Array(1)[f](function(){u=!1}),l({target:"Array",proto:!0,forced:u||!d},{findIndex:function(g){return a(this,g,arguments.length>1?arguments[1]:void 0)}}),c(f)},c8ba:function(r,o){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}r.exports=s},c975:function(r,o,s){var l=s("23e7"),a=s("4d64").indexOf,c=s("a640"),h=s("ae40"),f=[].indexOf,u=!!f&&1/[1].indexOf(1,-0)<0,d=c("indexOf"),p=h("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:u||!d||!p},{indexOf:function(y){return u?f.apply(this,arguments)||0:a(this,y,arguments.length>1?arguments[1]:void 0)}})},ca84:function(r,o,s){var l=s("5135"),a=s("fc6a"),c=s("4d64").indexOf,h=s("d012");r.exports=function(f,u){var d=a(f),p=0,g=[],y;for(y in d)!l(h,y)&&l(d,y)&&g.push(y);for(;u.length>p;)l(d,y=u[p++])&&(~c(g,y)||g.push(y));return g}},caad:function(r,o,s){var l=s("23e7"),a=s("4d64").includes,c=s("44d2"),h=s("ae40"),f=h("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:!f},{includes:function(d){return a(this,d,arguments.length>1?arguments[1]:void 0)}}),c("includes")},cc12:function(r,o,s){var l=s("da84"),a=s("861d"),c=l.document,h=a(c)&&a(c.createElement);r.exports=function(f){return h?c.createElement(f):{}}},ce4e:function(r,o,s){var l=s("da84"),a=s("9112");r.exports=function(c,h){try{a(l,c,h)}catch{l[c]=h}return h}},d012:function(r,o){r.exports={}},d039:function(r,o){r.exports=function(s){try{return!!s()}catch{return!0}}},d066:function(r,o,s){var l=s("428f"),a=s("da84"),c=function(h){return typeof h=="function"?h:void 0};r.exports=function(h,f){return arguments.length<2?c(l[h])||c(a[h]):l[h]&&l[h][f]||a[h]&&a[h][f]}},d1e7:function(r,o,s){var l={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,c=a&&!l.call({1:2},1);o.f=c?function(f){var u=a(this,f);return!!u&&u.enumerable}:l},d28b:function(r,o,s){var l=s("746f");l("iterator")},d2bb:function(r,o,s){var l=s("825a"),a=s("3bbe");r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,h={},f;try{f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,f.call(h,[]),c=h instanceof Array}catch{}return function(d,p){return l(d),a(p),c?f.call(d,p):d.__proto__=p,d}}():void 0)},d3b7:function(r,o,s){var l=s("00ee"),a=s("6eeb"),c=s("b041");l||a(Object.prototype,"toString",c,{unsafe:!0})},d44e:function(r,o,s){var l=s("9bf2").f,a=s("5135"),c=s("b622"),h=c("toStringTag");r.exports=function(f,u,d){f&&!a(f=d?f:f.prototype,h)&&l(f,h,{configurable:!0,value:u})}},d58f:function(r,o,s){var l=s("1c0b"),a=s("7b0b"),c=s("44ad"),h=s("50c4"),f=function(u){return function(d,p,g,y){l(p);var v=a(d),m=c(v),b=h(v.length),x=u?b-1:0,S=u?-1:1;if(g<2)for(;;){if(x in m){y=m[x],x+=S;break}if(x+=S,u?x<0:b<=x)throw TypeError("Reduce of empty array with no initial value")}for(;u?x>=0:b>x;x+=S)x in m&&(y=p(y,m[x],x,v));return y}};r.exports={left:f(!1),right:f(!0)}},d784:function(r,o,s){s("ac1f");var l=s("6eeb"),a=s("d039"),c=s("b622"),h=s("9263"),f=s("9112"),u=c("species"),d=!a(function(){var m=/./;return m.exec=function(){var b=[];return b.groups={a:"7"},b},"".replace(m,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),g=c("replace"),y=function(){return/./[g]?/./[g]("a","$0")==="":!1}(),v=!a(function(){var m=/(?:)/,b=m.exec;m.exec=function(){return b.apply(this,arguments)};var x="ab".split(m);return x.length!==2||x[0]!=="a"||x[1]!=="b"});r.exports=function(m,b,x,S){var w=c(m),E=!a(function(){var R={};return R[w]=function(){return 7},""[m](R)!=7}),k=E&&!a(function(){var R=!1,P=/a/;return m==="split"&&(P={},P.constructor={},P.constructor[u]=function(){return P},P.flags="",P[w]=/./[w]),P.exec=function(){return R=!0,null},P[w](""),!R});if(!E||!k||m==="replace"&&!(d&&p&&!y)||m==="split"&&!v){var O=/./[w],M=x(w,""[m],function(R,P,Q,H,Y){return P.exec===h?E&&!Y?{done:!0,value:O.call(P,Q,H)}:{done:!0,value:R.call(Q,P,H)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}),I=M[0],B=M[1];l(String.prototype,m,I),l(RegExp.prototype,w,b==2?function(R,P){return B.call(R,this,P)}:function(R){return B.call(R,this)})}S&&f(RegExp.prototype[w],"sham",!0)}},d81d:function(r,o,s){var l=s("23e7"),a=s("b727").map,c=s("1dde"),h=s("ae40"),f=c("map"),u=h("map");l({target:"Array",proto:!0,forced:!f||!u},{map:function(p){return a(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(r,o,s){(function(l){var a=function(c){return c&&c.Math==Math&&c};r.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof l=="object"&&l)||Function("return this")()}).call(this,s("c8ba"))},dbb4:function(r,o,s){var l=s("23e7"),a=s("83ab"),c=s("56ef"),h=s("fc6a"),f=s("06cf"),u=s("8418");l({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(p){for(var g=h(p),y=f.f,v=c(g),m={},b=0,x,S;v.length>b;)S=y(g,x=v[b++]),S!==void 0&&u(m,x,S);return m}})},dbf1:function(r,o,s){(function(l){s.d(o,"a",function(){return c});function a(){return typeof window<"u"?window.console:l.console}var c=a()}).call(this,s("c8ba"))},ddb0:function(r,o,s){var l=s("da84"),a=s("fdbc"),c=s("e260"),h=s("9112"),f=s("b622"),u=f("iterator"),d=f("toStringTag"),p=c.values;for(var g in a){var y=l[g],v=y&&y.prototype;if(v){if(v[u]!==p)try{h(v,u,p)}catch{v[u]=p}if(v[d]||h(v,d,g),a[g]){for(var m in c)if(v[m]!==c[m])try{h(v,m,c[m])}catch{v[m]=c[m]}}}}},df75:function(r,o,s){var l=s("ca84"),a=s("7839");r.exports=Object.keys||function(h){return l(h,a)}},e01a:function(r,o,s){var l=s("23e7"),a=s("83ab"),c=s("da84"),h=s("5135"),f=s("861d"),u=s("9bf2").f,d=s("e893"),p=c.Symbol;if(a&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var g={},y=function(){var w=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),E=this instanceof y?new p(w):w===void 0?p():p(w);return w===""&&(g[E]=!0),E};d(y,p);var v=y.prototype=p.prototype;v.constructor=y;var m=v.toString,b=String(p("test"))=="Symbol(test)",x=/^Symbol\((.*)\)[^)]+$/;u(v,"description",{configurable:!0,get:function(){var w=f(this)?this.valueOf():this,E=m.call(w);if(h(g,w))return"";var k=b?E.slice(7,-1):E.replace(x,"$1");return k===""?void 0:k}}),l({global:!0,forced:!0},{Symbol:y})}},e163:function(r,o,s){var l=s("5135"),a=s("7b0b"),c=s("f772"),h=s("e177"),f=c("IE_PROTO"),u=Object.prototype;r.exports=h?Object.getPrototypeOf:function(d){return d=a(d),l(d,f)?d[f]:typeof d.constructor=="function"&&d instanceof d.constructor?d.constructor.prototype:d instanceof Object?u:null}},e177:function(r,o,s){var l=s("d039");r.exports=!l(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},e260:function(r,o,s){var l=s("fc6a"),a=s("44d2"),c=s("3f8c"),h=s("69f3"),f=s("7dd0"),u="Array Iterator",d=h.set,p=h.getterFor(u);r.exports=f(Array,"Array",function(g,y){d(this,{type:u,target:l(g),index:0,kind:y})},function(){var g=p(this),y=g.target,v=g.kind,m=g.index++;return!y||m>=y.length?(g.target=void 0,{value:void 0,done:!0}):v=="keys"?{value:m,done:!1}:v=="values"?{value:y[m],done:!1}:{value:[m,y[m]],done:!1}},"values"),c.Arguments=c.Array,a("keys"),a("values"),a("entries")},e439:function(r,o,s){var l=s("23e7"),a=s("d039"),c=s("fc6a"),h=s("06cf").f,f=s("83ab"),u=a(function(){h(1)}),d=!f||u;l({target:"Object",stat:!0,forced:d,sham:!f},{getOwnPropertyDescriptor:function(g,y){return h(c(g),y)}})},e538:function(r,o,s){var l=s("b622");o.f=l},e893:function(r,o,s){var l=s("5135"),a=s("56ef"),c=s("06cf"),h=s("9bf2");r.exports=function(f,u){for(var d=a(u),p=h.f,g=c.f,y=0;y<d.length;y++){var v=d[y];l(f,v)||p(f,v,g(u,v))}}},e8b5:function(r,o,s){var l=s("c6b6");r.exports=Array.isArray||function(c){return l(c)=="Array"}},e95a:function(r,o,s){var l=s("b622"),a=s("3f8c"),c=l("iterator"),h=Array.prototype;r.exports=function(f){return f!==void 0&&(a.Array===f||h[c]===f)}},f5df:function(r,o,s){var l=s("00ee"),a=s("c6b6"),c=s("b622"),h=c("toStringTag"),f=a(function(){return arguments}())=="Arguments",u=function(d,p){try{return d[p]}catch{}};r.exports=l?a:function(d){var p,g,y;return d===void 0?"Undefined":d===null?"Null":typeof(g=u(p=Object(d),h))=="string"?g:f?a(p):(y=a(p))=="Object"&&typeof p.callee=="function"?"Arguments":y}},f772:function(r,o,s){var l=s("5692"),a=s("90e3"),c=l("keys");r.exports=function(h){return c[h]||(c[h]=a(h))}},fb15:function(r,o,s){if(s.r(o),typeof window<"u"){var l=window.document.currentScript;{var a=s("8875");l=a(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:a})}var c=l&&l.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);c&&(s.p=c[1])}s("99af"),s("4de4"),s("4160"),s("c975"),s("d81d"),s("a434"),s("159b"),s("a4d3"),s("e439"),s("dbb4"),s("b64b");function h(T,D,N){return D in T?Object.defineProperty(T,D,{value:N,enumerable:!0,configurable:!0,writable:!0}):T[D]=N,T}function f(T,D){var N=Object.keys(T);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(T);D&&(U=U.filter(function(_){return Object.getOwnPropertyDescriptor(T,_).enumerable})),N.push.apply(N,U)}return N}function u(T){for(var D=1;D<arguments.length;D++){var N=arguments[D]!=null?arguments[D]:{};D%2?f(Object(N),!0).forEach(function(U){h(T,U,N[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(N)):f(Object(N)).forEach(function(U){Object.defineProperty(T,U,Object.getOwnPropertyDescriptor(N,U))})}return T}function d(T){if(Array.isArray(T))return T}s("e01a"),s("d28b"),s("e260"),s("d3b7"),s("3ca3"),s("ddb0");function p(T,D){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(T)))){var N=[],U=!0,_=!1,pt=void 0;try{for(var ct=T[Symbol.iterator](),wt;!(U=(wt=ct.next()).done)&&(N.push(wt.value),!(D&&N.length===D));U=!0);}catch(_t){_=!0,pt=_t}finally{try{!U&&ct.return!=null&&ct.return()}finally{if(_)throw pt}}return N}}s("a630"),s("fb6a"),s("b0c0"),s("25f0");function g(T,D){(D==null||D>T.length)&&(D=T.length);for(var N=0,U=new Array(D);N<D;N++)U[N]=T[N];return U}function y(T,D){if(T){if(typeof T=="string")return g(T,D);var N=Object.prototype.toString.call(T).slice(8,-1);if(N==="Object"&&T.constructor&&(N=T.constructor.name),N==="Map"||N==="Set")return Array.from(T);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return g(T,D)}}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(T,D){return d(T)||p(T,D)||y(T,D)||v()}function b(T){if(Array.isArray(T))return g(T)}function x(T){if(typeof Symbol<"u"&&Symbol.iterator in Object(T))return Array.from(T)}function S(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(T){return b(T)||x(T)||y(T)||S()}var E=s("a352"),k=s.n(E);function O(T){T.parentElement!==null&&T.parentElement.removeChild(T)}function M(T,D,N){var U=N===0?T.children[0]:T.children[N-1].nextSibling;T.insertBefore(D,U)}var I=s("dbf1");s("13d5"),s("4fad"),s("ac1f"),s("5319");function B(T){var D=Object.create(null);return function(U){var _=D[U];return _||(D[U]=T(U))}}var R=/-(\w)/g,P=B(function(T){return T.replace(R,function(D,N){return N.toUpperCase()})});s("5db7"),s("73d9");var Q=["Start","Add","Remove","Update","End"],H=["Choose","Unchoose","Sort","Filter","Clone"],Y=["Move"],q=[Y,Q,H].flatMap(function(T){return T}).map(function(T){return"on".concat(T)}),ft={manage:Y,manageAndEmit:Q,emit:H};function xt(T){return q.indexOf(T)!==-1}s("caad"),s("2ca0");var kt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Ot(T){return kt.includes(T)}function zt(T){return["transition-group","TransitionGroup"].includes(T)}function re(T){return["id","class","role","style"].includes(T)||T.startsWith("data-")||T.startsWith("aria-")||T.startsWith("on")}function ae(T){return T.reduce(function(D,N){var U=m(N,2),_=U[0],pt=U[1];return D[_]=pt,D},{})}function Nt(T){var D=T.$attrs,N=T.componentData,U=N===void 0?{}:N,_=ae(Object.entries(D).filter(function(pt){var ct=m(pt,2),wt=ct[0];return ct[1],re(wt)}));return u(u({},_),U)}function Wt(T){var D=T.$attrs,N=T.callBackBuilder,U=ae(Re(D));Object.entries(N).forEach(function(pt){var ct=m(pt,2),wt=ct[0],_t=ct[1];ft[wt].forEach(function(vt){U["on".concat(vt)]=_t(vt)})});var _="[data-draggable]".concat(U.draggable||"");return u(u({},U),{},{draggable:_})}function Re(T){return Object.entries(T).filter(function(D){var N=m(D,2),U=N[0];return N[1],!re(U)}).map(function(D){var N=m(D,2),U=N[0],_=N[1];return[P(U),_]}).filter(function(D){var N=m(D,2),U=N[0];return N[1],!xt(U)})}s("c740");function ce(T,D){if(!(T instanceof D))throw new TypeError("Cannot call a class as a function")}function cn(T,D){for(var N=0;N<D.length;N++){var U=D[N];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(T,U.key,U)}}function Mn(T,D,N){return D&&cn(T.prototype,D),N&&cn(T,N),T}var C=function(D){var N=D.el;return N},A=function(D,N){return D.__draggable_context=N},L=function(D){return D.__draggable_context},$=function(){function T(D){var N=D.nodes,U=N.header,_=N.default,pt=N.footer,ct=D.root,wt=D.realList;ce(this,T),this.defaultNodes=_,this.children=[].concat(w(U),w(_),w(pt)),this.externalComponent=ct.externalComponent,this.rootTransition=ct.transition,this.tag=ct.tag,this.realList=wt}return Mn(T,[{key:"render",value:function(N,U){var _=this.tag,pt=this.children,ct=this._isRootComponent,wt=ct?{default:function(){return pt}}:pt;return N(_,U,wt)}},{key:"updated",value:function(){var N=this.defaultNodes,U=this.realList;N.forEach(function(_,pt){A(C(_),{element:U[pt],index:pt})})}},{key:"getUnderlyingVm",value:function(N){return L(N)}},{key:"getVmIndexFromDomIndex",value:function(N,U){var _=this.defaultNodes,pt=_.length,ct=U.children,wt=ct.item(N);if(wt===null)return pt;var _t=L(wt);if(_t)return _t.index;if(pt===0)return 0;var vt=C(_[0]),at=w(ct).findIndex(function(gt){return gt===vt});return N<at?0:pt}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),T}(),j=s("8bbf");function z(T,D){var N=T[D];return N?N():[]}function Z(T){var D=T.$slots,N=T.realList,U=T.getKey,_=N||[],pt=["header","footer"].map(function(gt){return z(D,gt)}),ct=m(pt,2),wt=ct[0],_t=ct[1],vt=D.item;if(!vt)throw new Error("draggable element must have an item slot");var at=_.flatMap(function(gt,Rt){return vt({element:gt,index:Rt}).map(function(Ft){return Ft.key=U(gt),Ft.props=u(u({},Ft.props||{}),{},{"data-draggable":!0}),Ft})});if(at.length!==_.length)throw new Error("Item slot must have only one child");return{header:wt,footer:_t,default:at}}function G(T){var D=zt(T),N=!Ot(T)&&!D;return{transition:D,externalComponent:N,tag:N?Object(j.resolveComponent)(T):D?j.TransitionGroup:T}}function K(T){var D=T.$slots,N=T.tag,U=T.realList,_=T.getKey,pt=Z({$slots:D,realList:U,getKey:_}),ct=G(N);return new $({nodes:pt,root:ct,realList:U})}function W(T,D){var N=this;Object(j.nextTick)(function(){return N.$emit(T.toLowerCase(),D)})}function ot(T){var D=this;return function(N,U){if(D.realList!==null)return D["onDrag".concat(T)](N,U)}}function tt(T){var D=this,N=ot.call(this,T);return function(U,_){N.call(D,U,_),W.call(D,T,U)}}var lt=null,dt={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(D){return D}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},St=["update:modelValue","change"].concat(w([].concat(w(ft.manageAndEmit),w(ft.emit)).map(function(T){return T.toLowerCase()}))),jt=Object(j.defineComponent)({name:"draggable",inheritAttrs:!1,props:dt,emits:St,data:function(){return{error:!1}},render:function(){try{this.error=!1;var D=this.$slots,N=this.$attrs,U=this.tag,_=this.componentData,pt=this.realList,ct=this.getKey,wt=K({$slots:D,tag:U,realList:pt,getKey:ct});this.componentStructure=wt;var _t=Nt({$attrs:N,componentData:_});return wt.render(j.h,_t)}catch(vt){return this.error=!0,Object(j.h)("pre",{style:{color:"red"}},vt.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&I.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var D=this;if(!this.error){var N=this.$attrs,U=this.$el,_=this.componentStructure;_.updated();var pt=Wt({$attrs:N,callBackBuilder:{manageAndEmit:function(_t){return tt.call(D,_t)},emit:function(_t){return W.bind(D,_t)},manage:function(_t){return ot.call(D,_t)}}}),ct=U.nodeType===1?U:U.parentElement;this._sortable=new k.a(ct,pt),this.targetDomElement=ct,ct.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var D=this.list;return D||this.modelValue},getKey:function(){var D=this.itemKey;return typeof D=="function"?D:function(N){return N[D]}}},watch:{$attrs:{handler:function(D){var N=this._sortable;N&&Re(D).forEach(function(U){var _=m(U,2),pt=_[0],ct=_[1];N.option(pt,ct)})},deep:!0}},methods:{getUnderlyingVm:function(D){return this.componentStructure.getUnderlyingVm(D)||null},getUnderlyingPotencialDraggableComponent:function(D){return D.__draggable_component__},emitChanges:function(D){var N=this;Object(j.nextTick)(function(){return N.$emit("change",D)})},alterList:function(D){if(this.list){D(this.list);return}var N=w(this.modelValue);D(N),this.$emit("update:modelValue",N)},spliceList:function(){var D=arguments,N=function(_){return _.splice.apply(_,w(D))};this.alterList(N)},updatePosition:function(D,N){var U=function(pt){return pt.splice(N,0,pt.splice(D,1)[0])};this.alterList(U)},getRelatedContextFromMoveEvent:function(D){var N=D.to,U=D.related,_=this.getUnderlyingPotencialDraggableComponent(N);if(!_)return{component:_};var pt=_.realList,ct={list:pt,component:_};if(N!==U&&pt){var wt=_.getUnderlyingVm(U)||{};return u(u({},wt),ct)}return ct},getVmIndexFromDomIndex:function(D){return this.componentStructure.getVmIndexFromDomIndex(D,this.targetDomElement)},onDragStart:function(D){this.context=this.getUnderlyingVm(D.item),D.item._underlying_vm_=this.clone(this.context.element),lt=D.item},onDragAdd:function(D){var N=D.item._underlying_vm_;if(N!==void 0){O(D.item);var U=this.getVmIndexFromDomIndex(D.newIndex);this.spliceList(U,0,N);var _={element:N,newIndex:U};this.emitChanges({added:_})}},onDragRemove:function(D){if(M(this.$el,D.item,D.oldIndex),D.pullMode==="clone"){O(D.clone);return}var N=this.context,U=N.index,_=N.element;this.spliceList(U,1);var pt={element:_,oldIndex:U};this.emitChanges({removed:pt})},onDragUpdate:function(D){O(D.item),M(D.from,D.item,D.oldIndex);var N=this.context.index,U=this.getVmIndexFromDomIndex(D.newIndex);this.updatePosition(N,U);var _={element:this.context.element,oldIndex:N,newIndex:U};this.emitChanges({moved:_})},computeFutureIndex:function(D,N){if(!D.element)return 0;var U=w(N.to.children).filter(function(wt){return wt.style.display!=="none"}),_=U.indexOf(N.related),pt=D.component.getVmIndexFromDomIndex(_),ct=U.indexOf(lt)!==-1;return ct||!N.willInsertAfter?pt:pt+1},onDragMove:function(D,N){var U=this.move,_=this.realList;if(!U||!_)return!0;var pt=this.getRelatedContextFromMoveEvent(D),ct=this.computeFutureIndex(pt,D),wt=u(u({},this.context),{},{futureIndex:ct}),_t=u(u({},D),{},{relatedContext:pt,draggedContext:wt});return U(_t,N)},onDragEnd:function(){lt=null}}}),Bt=jt;o.default=Bt},fb6a:function(r,o,s){var l=s("23e7"),a=s("861d"),c=s("e8b5"),h=s("23cb"),f=s("50c4"),u=s("fc6a"),d=s("8418"),p=s("b622"),g=s("1dde"),y=s("ae40"),v=g("slice"),m=y("slice",{ACCESSORS:!0,0:0,1:2}),b=p("species"),x=[].slice,S=Math.max;l({target:"Array",proto:!0,forced:!v||!m},{slice:function(E,k){var O=u(this),M=f(O.length),I=h(E,M),B=h(k===void 0?M:k,M),R,P,Q;if(c(O)&&(R=O.constructor,typeof R=="function"&&(R===Array||c(R.prototype))?R=void 0:a(R)&&(R=R[b],R===null&&(R=void 0)),R===Array||R===void 0))return x.call(O,I,B);for(P=new(R===void 0?Array:R)(S(B-I,0)),Q=0;I<B;I++,Q++)I in O&&d(P,Q,O[I]);return P.length=Q,P}})},fc6a:function(r,o,s){var l=s("44ad"),a=s("1d80");r.exports=function(c){return l(a(c))}},fdbc:function(r,o){r.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(r,o,s){var l=s("4930");r.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(KS);const Dw=zS(Ih),Pw="sk-...",Iw=[{description:"Set the variables `city1` and `city2` to `Bordeaux` and `Lyon` respectively, then check if they are equal. If they are, print `If was true!` to the console, else print `If was false!`.",keys:["DKey"],actions:[{action:"debug"},{action:"set_variable",name:"city1",value:"Bordeaux"},{action:"set_variable",name:"city2",value:"Lyon"},{action:"if_else_relative",operation:"string_equals",a:"{{city1}}",b:"{{city2}}",step_true:"+1",step_false:"+3"},{action:"print_console",content:"If was true!"},{action:"end_program"},{action:"print_console",content:"If was false!"}]},{description:"Read the clipboard, print debug infos to console and show a dialog box with the clipboard content",keys:["LControlKey","BKey"],actions:[{action:"read_clipboard"},{action:"debug"},{action:"show_dialog",title:"Hello World!",body:"{{input}}"}]},{description:"Print `Loop iteration 0` to `Loop iteration 4` in the console",keys:["LControlKey","MKey"],actions:[{action:"set_variable",name:"i",value:"0"},{action:"print_console",content:"Loop iteration {{i}}"},{action:"increment_variable",name:"i",amount:"1"},{action:"if_else_relative",operation:"<",a:"{{i}}",b:"5",step_true:"-2",step_false:"+1"},{action:"print_console",content:"End of the loop!"}]}],Rd={openai_api_key:Pw,keyboard_shortcuts:Iw},oo={debug:{action:"debug",description:"Debug",args:{}},set_variable:{action:"set_variable",description:"Set Variable",args:{name:{name:"name",description:"Variable Name"},value:{name:"value",description:"Variable Value"}}},increment_variable:{action:"increment_variable",description:"Increment Variable",args:{name:{name:"name",description:"Variable Name"},amount:{name:"amount",description:"Increment Amount"}}},delete_variable:{action:"delete_variable",description:"Delete Variable",args:{name:{name:"name",description:"Variable Name"}}},sleep:{action:"sleep",description:"Sleep",args:{duration_ms:{name:"duration_ms",description:"Duration (in milliseconds)"}}},end_program:{action:"end_program",description:"End Program",args:{}},go_to_step:{action:"go_to_step",description:"Go To Step",args:{step:{name:"step",description:"Step"}}},go_to_step_relative:{action:"go_to_step_relative",description:"Go To Step Relative",args:{step:{name:"step",description:"Step"}}},if_else:{action:"if_else",description:"If Else",args:{operation:{name:"operation",description:"Operation"},a:{name:"a",description:"A"},b:{name:"b",description:"B"},step_true:{name:"step_true",description:"Step (True)"},step_false:{name:"step_false",description:"Step (False)"}}},if_else_relative:{action:"if_else_relative",description:"If Else Relative",args:{operation:{name:"operation",description:"Operation"},a:{name:"a",description:"A"},b:{name:"b",description:"B"},step_true:{name:"step_true",description:"Step (True)"},step_false:{name:"step_false",description:"Step (False)"}}},spawn:{action:"spawn",description:"Spawn",args:{command:{name:"command",description:"Command"},args:{name:"args",description:"Args"}}},print_console:{action:"print_console",description:"Print Console",args:{content:{name:"content",description:"Content"}}},show_dialog:{action:"show_dialog",description:"Show Dialog",args:{title:{name:"title",description:"Title"},body:{name:"body",description:"Body"}}},read_clipboard:{action:"read_clipboard",description:"Read Clipboard",args:{}},write_clipboard:{action:"write_clipboard",description:"Write Clipboard",args:{content:{name:"content",description:"Content"}}},ask_chatgpt:{action:"ask_chatgpt",description:"Ask Chatgpt",args:{pre_prompt:{name:"pre_prompt",description:"Pre Prompt"},prompt:{name:"prompt",description:"Prompt"}}}},Rw={class:"min-w-[380px] min-h-[90px] place-content-evenly m-6 p-6 max-w-lg mx-auto bg-white rounded-xl shadow shadow-gray-600 flex justify-between items-center space-x-4 cursor-grab transition-200 transition-all transition ease-in-out hover:bg-gray-100"},Lw={class:"text-3xl text-black font-bold flex"},Nw={class:"mt-1 mr-3"},Bw=ht("div",{class:"text-3xl text-black font-muted pl-1 pr-2 mb-"},"|",-1),Fw={class:"text-xl text-black font-bold"},Hw={key:0},jw={class:"text-gray-600 font-bold tracking-wide capitalize"},Vw=ht("br",null,null,-1),$w=["onUpdate:modelValue"],Ww=ht("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),Uw=[Ww],zw=Ji({__name:"Action",props:{action:null,index:null},setup(n){const{action:t,index:e}=n,i=br(()=>Object.entries(t).filter(([r,o])=>r!=="id"&&r!=="action").map(([r,o])=>({key:r,value:o})));return(r,o)=>(Lt(),Kt("div",Rw,[ht("div",Lw,[ht("div",Nw,Sn(n.index),1),Bw]),ht("div",null,[ht("div",Fw,Sn(ze(oo)[n.action.action].description),1),ze(i).length>0?(Lt(),Kt("ul",Hw,[(Lt(!0),Kt(qt,null,ri(ze(i),({key:s})=>(Lt(),Kt("li",{key:s,class:"my-2"},[ht("span",jw,Sn(ze(oo)[n.action.action].args[s].description),1),Vw,or(ht("input",{type:"text",class:"bg-gray-100 p-2 rounded shadow shadow-gray-400 mt-1",placeholder:"Value","onUpdate:modelValue":l=>n.action[s]=l},null,8,$w),[[Fi,n.action[s]]])]))),128))])):ur("",!0)]),ht("button",{onClick:o[0]||(o[0]=s=>r.$emit("delete",n.index)),class:"text-gray-800 ml-2 cursor-pointer"},Uw)]))}});class Vt{constructor(){}lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,i){let r=[];return this.decompose(0,t,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(e,this.length,r,1),Gn.from(r,this.length-(e-t)+i.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){let i=[];return this.decompose(t,e,i,0),Gn.from(i,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),i=this.length-this.scanIdentical(t,-1),r=new lo(this),o=new lo(t);for(let s=e,l=e;;){if(r.next(s),o.next(s),s=0,r.lineBreak!=o.lineBreak||r.done!=o.done||r.value!=o.value)return!1;if(l+=r.value.length,r.done||l>=i)return!0}}iter(t=1){return new lo(this,t)}iterRange(t,e=this.length){return new k0(this,t,e)}iterLines(t,e){let i;if(t==null)i=this.iter();else{e==null&&(e=this.lines+1);let r=this.line(t).from;i=this.iterRange(r,Math.max(r,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new E0(i)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length==1&&!t[0]?Vt.empty:t.length<=32?new ge(t):Gn.from(ge.split(t,[]))}}class ge extends Vt{constructor(t,e=Kw(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,i,r){for(let o=0;;o++){let s=this.text[o],l=r+s.length;if((e?i:l)>=t)return new Gw(r,l,i,s);r=l+1,i++}}decompose(t,e,i,r){let o=t<=0&&e>=this.length?this:new ge(Ld(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(r&1){let s=i.pop(),l=Ul(o.text,s.text.slice(),0,o.length);if(l.length<=32)i.push(new ge(l,s.length+o.length));else{let a=l.length>>1;i.push(new ge(l.slice(0,a)),new ge(l.slice(a)))}}else i.push(o)}replace(t,e,i){if(!(i instanceof ge))return super.replace(t,e,i);let r=Ul(this.text,Ul(i.text,Ld(this.text,0,t)),e),o=this.length+i.length-(e-t);return r.length<=32?new ge(r,o):Gn.from(ge.split(r,[]),o)}sliceString(t,e=this.length,i=`
`){let r="";for(let o=0,s=0;o<=e&&s<this.text.length;s++){let l=this.text[s],a=o+l.length;o>t&&s&&(r+=i),t<a&&e>o&&(r+=l.slice(Math.max(0,t-o),e-o)),o=a+1}return r}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let i=[],r=-1;for(let o of t)i.push(o),r+=o.length+1,i.length==32&&(e.push(new ge(i,r)),i=[],r=-1);return r>-1&&e.push(new ge(i,r)),e}}class Gn extends Vt{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let i of t)this.lines+=i.lines}lineInner(t,e,i,r){for(let o=0;;o++){let s=this.children[o],l=r+s.length,a=i+s.lines-1;if((e?a:l)>=t)return s.lineInner(t,e,i,r);r=l+1,i=a+1}}decompose(t,e,i,r){for(let o=0,s=0;s<=e&&o<this.children.length;o++){let l=this.children[o],a=s+l.length;if(t<=a&&e>=s){let c=r&((s<=t?1:0)|(a>=e?2:0));s>=t&&a<=e&&!c?i.push(l):l.decompose(t-s,e-s,i,c)}s=a+1}}replace(t,e,i){if(i.lines<this.lines)for(let r=0,o=0;r<this.children.length;r++){let s=this.children[r],l=o+s.length;if(t>=o&&e<=l){let a=s.replace(t-o,e-o,i),c=this.lines-s.lines+a.lines;if(a.lines<c>>5-1&&a.lines>c>>5+1){let h=this.children.slice();return h[r]=a,new Gn(h,this.length-(e-t)+i.length)}return super.replace(o,l,a)}o=l+1}return super.replace(t,e,i)}sliceString(t,e=this.length,i=`
`){let r="";for(let o=0,s=0;o<this.children.length&&s<=e;o++){let l=this.children[o],a=s+l.length;s>t&&o&&(r+=i),t<a&&e>s&&(r+=l.sliceString(t-s,e-s,i)),s=a+1}return r}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof Gn))return 0;let i=0,[r,o,s,l]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;r+=e,o+=e){if(r==s||o==l)return i;let a=this.children[r],c=t.children[o];if(a!=c)return i+a.scanIdentical(c,e);i+=a.length+1}}static from(t,e=t.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let d of t)i+=d.lines;if(i<32){let d=[];for(let p of t)p.flatten(d);return new ge(d,e)}let r=Math.max(32,i>>5),o=r<<1,s=r>>1,l=[],a=0,c=-1,h=[];function f(d){let p;if(d.lines>o&&d instanceof Gn)for(let g of d.children)f(g);else d.lines>s&&(a>s||!a)?(u(),l.push(d)):d instanceof ge&&a&&(p=h[h.length-1])instanceof ge&&d.lines+p.lines<=32?(a+=d.lines,c+=d.length+1,h[h.length-1]=new ge(p.text.concat(d.text),p.length+1+d.length)):(a+d.lines>r&&u(),a+=d.lines,c+=d.length+1,h.push(d))}function u(){a!=0&&(l.push(h.length==1?h[0]:Gn.from(h,c)),c=-1,a=h.length=0)}for(let d of t)f(d);return u(),l.length==1?l[0]:new Gn(l,e)}}Vt.empty=new ge([""],0);function Kw(n){let t=-1;for(let e of n)t+=e.length+1;return t}function Ul(n,t,e=0,i=1e9){for(let r=0,o=0,s=!0;o<n.length&&r<=i;o++){let l=n[o],a=r+l.length;a>=e&&(a>i&&(l=l.slice(0,i-r)),r<e&&(l=l.slice(e-r)),s?(t[t.length-1]+=l,s=!1):t.push(l)),r=a+1}return t}function Ld(n,t,e){return Ul(n,[""],t,e)}class lo{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof ge?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],o=this.offsets[i],s=o>>1,l=r instanceof ge?r.text.length:r.children.length;if(s==(e>0?l:0)){if(i==0)return this.done=!0,this.value="",this;e>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(e>0?0:1)){if(this.offsets[i]+=e,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(r instanceof ge){let a=r.text[s+(e<0?-1:0)];if(this.offsets[i]+=e,a.length>Math.max(0,t))return this.value=t==0?a:e>0?a.slice(t):a.slice(0,a.length-t),this;t-=a.length}else{let a=r.children[s+(e<0?-1:0)];t>a.length?(t-=a.length,this.offsets[i]+=e):(e<0&&this.offsets[i]--,this.nodes.push(a),this.offsets.push(e>0?1:(a instanceof ge?a.text.length:a.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class k0{constructor(t,e,i){this.value="",this.done=!1,this.cursor=new lo(t,e>i?-1:1),this.pos=e>i?t.length:0,this.from=Math.min(e,i),this.to=Math.max(e,i)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let i=e<0?this.pos-this.from:this.to-this.pos;t>i&&(t=i),i-=t;let{value:r}=this.cursor.next(t);return this.pos+=(r.length+t)*e,this.value=r.length<=i?r:e<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class E0{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:i,value:r}=this.inner.next(t);return e?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Vt.prototype[Symbol.iterator]=function(){return this.iter()},lo.prototype[Symbol.iterator]=k0.prototype[Symbol.iterator]=E0.prototype[Symbol.iterator]=function(){return this});class Gw{constructor(t,e,i,r){this.from=t,this.to=e,this.number=i,this.text=r}get length(){return this.to-this.from}}let ts="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<ts.length;n++)ts[n]+=ts[n-1];function Yw(n){for(let t=1;t<ts.length;t+=2)if(ts[t]>n)return ts[t-1]<=n;return!1}function Nd(n){return n>=127462&&n<=127487}const Bd=8205;function Xe(n,t,e=!0,i=!0){return(e?T0:Xw)(n,t,i)}function T0(n,t,e){if(t==n.length)return t;t&&M0(n.charCodeAt(t))&&D0(n.charCodeAt(t-1))&&t--;let i=Ee(n,t);for(t+=On(i);t<n.length;){let r=Ee(n,t);if(i==Bd||r==Bd||e&&Yw(r))t+=On(r),i=r;else if(Nd(r)){let o=0,s=t-2;for(;s>=0&&Nd(Ee(n,s));)o++,s-=2;if(o%2==0)break;t+=2}else break}return t}function Xw(n,t,e){for(;t>0;){let i=T0(n,t-2,e);if(i<t)return i;t--}return 0}function M0(n){return n>=56320&&n<57344}function D0(n){return n>=55296&&n<56320}function Ee(n,t){let e=n.charCodeAt(t);if(!D0(e)||t+1==n.length)return e;let i=n.charCodeAt(t+1);return M0(i)?(e-55296<<10)+(i-56320)+65536:e}function uu(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function On(n){return n<65536?1:2}const Hh=/\r\n?|\n/;var Ye=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(Ye||(Ye={}));class Qn{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e+1];t+=i<0?this.sections[e]:i}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let e=0,i=0,r=0;e<this.sections.length;){let o=this.sections[e++],s=this.sections[e++];s<0?(t(i,r,o),r+=o):r+=s,i+=o}}iterChangedRanges(t,e=!1){jh(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let i=this.sections[e++],r=this.sections[e++];r<0?t.push(i,r):t.push(r,i)}return new Qn(t)}composeDesc(t){return this.empty?t:t.empty?this:P0(this,t)}mapDesc(t,e=!1){return t.empty?this:Vh(this,t,e)}mapPos(t,e=-1,i=Ye.Simple){let r=0,o=0;for(let s=0;s<this.sections.length;){let l=this.sections[s++],a=this.sections[s++],c=r+l;if(a<0){if(c>t)return o+(t-r);o+=l}else{if(i!=Ye.Simple&&c>=t&&(i==Ye.TrackDel&&r<t&&c>t||i==Ye.TrackBefore&&r<t||i==Ye.TrackAfter&&c>t))return null;if(c>t||c==t&&e<0&&!l)return t==r||e<0?o:o+a;o+=a}r=c}if(t>r)throw new RangeError(`Position ${t} is out of range for changeset of length ${r}`);return o}touchesRange(t,e=t){for(let i=0,r=0;i<this.sections.length&&r<=e;){let o=this.sections[i++],s=this.sections[i++],l=r+o;if(s>=0&&r<=e&&l>=t)return r<t&&l>e?"cover":!0;r=l}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let i=this.sections[e++],r=this.sections[e++];t+=(t?" ":"")+i+(r>=0?":"+r:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(e=>typeof e!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Qn(t)}static create(t){return new Qn(t)}}class xe extends Qn{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return jh(this,(e,i,r,o,s)=>t=t.replace(r,r+(i-e),s),!1),t}mapDesc(t,e=!1){return Vh(this,t,e,!0)}invert(t){let e=this.sections.slice(),i=[];for(let r=0,o=0;r<e.length;r+=2){let s=e[r],l=e[r+1];if(l>=0){e[r]=l,e[r+1]=s;let a=r>>1;for(;i.length<a;)i.push(Vt.empty);i.push(s?t.slice(o,o+s):Vt.empty)}o+=s}return new xe(e,i)}compose(t){return this.empty?t:t.empty?this:P0(this,t,!0)}map(t,e=!1){return t.empty?this:Vh(this,t,e,!0)}iterChanges(t,e=!1){jh(this,t,e)}get desc(){return Qn.create(this.sections)}filter(t){let e=[],i=[],r=[],o=new bo(this);t:for(let s=0,l=0;;){let a=s==t.length?1e9:t[s++];for(;l<a||l==a&&o.len==0;){if(o.done)break t;let h=Math.min(o.len,a-l);Be(r,h,-1);let f=o.ins==-1?-1:o.off==0?o.ins:0;Be(e,h,f),f>0&&Pi(i,e,o.text),o.forward(h),l+=h}let c=t[s++];for(;l<c;){if(o.done)break t;let h=Math.min(o.len,c-l);Be(e,h,-1),Be(r,h,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(h),l+=h}}return{changes:new xe(e,i),filtered:Qn.create(r)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let i=this.sections[e],r=this.sections[e+1];r<0?t.push(i):r==0?t.push([i]):t.push([i].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,i){let r=[],o=[],s=0,l=null;function a(h=!1){if(!h&&!r.length)return;s<e&&Be(r,e-s,-1);let f=new xe(r,o);l=l?l.compose(f.map(l)):f,r=[],o=[],s=0}function c(h){if(Array.isArray(h))for(let f of h)c(f);else if(h instanceof xe){if(h.length!=e)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${e})`);a(),l=l?l.compose(h.map(l)):h}else{let{from:f,to:u=f,insert:d}=h;if(f>u||f<0||u>e)throw new RangeError(`Invalid change range ${f} to ${u} (in doc of length ${e})`);let p=d?typeof d=="string"?Vt.of(d.split(i||Hh)):d:Vt.empty,g=p.length;if(f==u&&g==0)return;f<s&&a(),f>s&&Be(r,f-s,-1),Be(r,u-f,g),Pi(o,r,p),s=u}}return c(t),a(!l),l}static empty(t){return new xe(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],i=[];for(let r=0;r<t.length;r++){let o=t[r];if(typeof o=="number")e.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,l)=>l&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)e.push(o[0],0);else{for(;i.length<r;)i.push(Vt.empty);i[r]=Vt.of(o.slice(1)),e.push(o[0],i[r].length)}}}return new xe(e,i)}static createSet(t,e){return new xe(t,e)}}function Be(n,t,e,i=!1){if(t==0&&e<=0)return;let r=n.length-2;r>=0&&e<=0&&e==n[r+1]?n[r]+=t:t==0&&n[r]==0?n[r+1]+=e:i?(n[r]+=t,n[r+1]+=e):n.push(t,e)}function Pi(n,t,e){if(e.length==0)return;let i=t.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(e);else{for(;n.length<i;)n.push(Vt.empty);n.push(e)}}function jh(n,t,e){let i=n.inserted;for(let r=0,o=0,s=0;s<n.sections.length;){let l=n.sections[s++],a=n.sections[s++];if(a<0)r+=l,o+=l;else{let c=r,h=o,f=Vt.empty;for(;c+=l,h+=a,a&&i&&(f=f.append(i[s-2>>1])),!(e||s==n.sections.length||n.sections[s+1]<0);)l=n.sections[s++],a=n.sections[s++];t(r,c,o,h,f),r=c,o=h}}}function Vh(n,t,e,i=!1){let r=[],o=i?[]:null,s=new bo(n),l=new bo(t);for(let a=-1;;)if(s.ins==-1&&l.ins==-1){let c=Math.min(s.len,l.len);Be(r,c,-1),s.forward(c),l.forward(c)}else if(l.ins>=0&&(s.ins<0||a==s.i||s.off==0&&(l.len<s.len||l.len==s.len&&!e))){let c=l.len;for(Be(r,l.ins,-1);c;){let h=Math.min(s.len,c);s.ins>=0&&a<s.i&&s.len<=h&&(Be(r,0,s.ins),o&&Pi(o,r,s.text),a=s.i),s.forward(h),c-=h}l.next()}else if(s.ins>=0){let c=0,h=s.len;for(;h;)if(l.ins==-1){let f=Math.min(h,l.len);c+=f,h-=f,l.forward(f)}else if(l.ins==0&&l.len<h)h-=l.len,l.next();else break;Be(r,c,a<s.i?s.ins:0),o&&a<s.i&&Pi(o,r,s.text),a=s.i,s.forward(s.len-h)}else{if(s.done&&l.done)return o?xe.createSet(r,o):Qn.create(r);throw new Error("Mismatched change set lengths")}}function P0(n,t,e=!1){let i=[],r=e?[]:null,o=new bo(n),s=new bo(t);for(let l=!1;;){if(o.done&&s.done)return r?xe.createSet(i,r):Qn.create(i);if(o.ins==0)Be(i,o.len,0,l),o.next();else if(s.len==0&&!s.done)Be(i,0,s.ins,l),r&&Pi(r,i,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let a=Math.min(o.len2,s.len),c=i.length;if(o.ins==-1){let h=s.ins==-1?-1:s.off?0:s.ins;Be(i,a,h,l),r&&h&&Pi(r,i,s.text)}else s.ins==-1?(Be(i,o.off?0:o.len,a,l),r&&Pi(r,i,o.textBit(a))):(Be(i,o.off?0:o.len,s.off?0:s.ins,l),r&&!s.off&&Pi(r,i,s.text));l=(o.ins>a||s.ins>=0&&s.len>a)&&(l||i.length>c),o.forward2(a),s.forward(a)}}}}class bo{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?Vt.empty:t[e]}textBit(t){let{inserted:e}=this.set,i=this.i-2>>1;return i>=e.length&&!t?Vt.empty:e[i].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class dr{constructor(t,e,i){this.from=t,this.to=e,this.flags=i}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let t=this.flags&3;return t==3?null:t}get goalColumn(){let t=this.flags>>5;return t==33554431?void 0:t}map(t,e=-1){let i,r;return this.empty?i=r=t.mapPos(this.from,e):(i=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new dr(i,r,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return V.range(t,e);let i=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return V.range(this.anchor,i)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return V.range(t.anchor,t.head)}static create(t,e,i){return new dr(t,e,i)}}class V{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:V.create(this.ranges.map(i=>i.map(t,e)),this.mainIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new V([this.main],0)}addRange(t,e=!0){return V.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let i=this.ranges.slice();return i[e]=t,V.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new V(t.ranges.map(e=>dr.fromJSON(e)),t.main)}static single(t,e=t){return new V([V.range(t,e)],0)}static create(t,e=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<t.length;r++){let o=t[r];if(o.empty?o.from<=i:o.from<i)return V.normalized(t.slice(),e);i=o.to}return new V(t,e)}static cursor(t,e=0,i,r){return dr.create(t,t,(e==0?0:e<0?4:8)|(i==null?3:Math.min(2,i))|(r??33554431)<<5)}static range(t,e,i,r){let o=(i??33554431)<<5|(r==null?3:Math.min(2,r));return e<t?dr.create(e,t,24|o):dr.create(t,e,(e>t?4:0)|o)}static normalized(t,e=0){let i=t[e];t.sort((r,o)=>r.from-o.from),e=t.indexOf(i);for(let r=1;r<t.length;r++){let o=t[r],s=t[r-1];if(o.empty?o.from<=s.to:o.from<s.to){let l=s.from,a=Math.max(o.to,s.to);r<=e&&e--,t.splice(--r,2,o.anchor>o.head?V.range(a,l):V.range(l,a))}}return new V(t,e)}}function I0(n,t){for(let e of n.ranges)if(e.to>t)throw new RangeError("Selection points outside of document")}let du=0;class st{constructor(t,e,i,r,o){this.combine=t,this.compareInput=e,this.compare=i,this.isStatic=r,this.id=du++,this.default=t([]),this.extensions=typeof o=="function"?o(this):o}static define(t={}){return new st(t.combine||(e=>e),t.compareInput||((e,i)=>e===i),t.compare||(t.combine?(e,i)=>e===i:pu),!!t.static,t.enables)}of(t){return new zl([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new zl(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new zl(t,this,2,e)}from(t,e){return e||(e=i=>i),this.compute([t],i=>e(i.field(t)))}}function pu(n,t){return n==t||n.length==t.length&&n.every((e,i)=>e===t[i])}class zl{constructor(t,e,i,r){this.dependencies=t,this.facet=e,this.type=i,this.value=r,this.id=du++}dynamicSlot(t){var e;let i=this.value,r=this.facet.compareInput,o=this.id,s=t[o]>>1,l=this.type==2,a=!1,c=!1,h=[];for(let f of this.dependencies)f=="doc"?a=!0:f=="selection"?c=!0:((e=t[f.id])!==null&&e!==void 0?e:1)&1||h.push(t[f.id]);return{create(f){return f.values[s]=i(f),1},update(f,u){if(a&&u.docChanged||c&&(u.docChanged||u.selection)||$h(f,h)){let d=i(f);if(l?!Fd(d,f.values[s],r):!r(d,f.values[s]))return f.values[s]=d,1}return 0},reconfigure:(f,u)=>{let d,p=u.config.address[o];if(p!=null){let g=pa(u,p);if(this.dependencies.every(y=>y instanceof st?u.facet(y)===f.facet(y):y instanceof Ie?u.field(y,!1)==f.field(y,!1):!0)||(l?Fd(d=i(f),g,r):r(d=i(f),g)))return f.values[s]=g,0}else d=i(f);return f.values[s]=d,1}}}}function Fd(n,t,e){if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if(!e(n[i],t[i]))return!1;return!0}function $h(n,t){let e=!1;for(let i of t)ao(n,i)&1&&(e=!0);return e}function Jw(n,t,e){let i=e.map(a=>n[a.id]),r=e.map(a=>a.type),o=i.filter(a=>!(a&1)),s=n[t.id]>>1;function l(a){let c=[];for(let h=0;h<i.length;h++){let f=pa(a,i[h]);if(r[h]==2)for(let u of f)c.push(u);else c.push(f)}return t.combine(c)}return{create(a){for(let c of i)ao(a,c);return a.values[s]=l(a),1},update(a,c){if(!$h(a,o))return 0;let h=l(a);return t.compare(h,a.values[s])?0:(a.values[s]=h,1)},reconfigure(a,c){let h=$h(a,i),f=c.config.facets[t.id],u=c.facet(t);if(f&&!h&&pu(e,f))return a.values[s]=u,0;let d=l(a);return t.compare(d,u)?(a.values[s]=u,0):(a.values[s]=d,1)}}}const Hd=st.define({static:!0});class Ie{constructor(t,e,i,r,o){this.id=t,this.createF=e,this.updateF=i,this.compareF=r,this.spec=o,this.provides=void 0}static define(t){let e=new Ie(du++,t.create,t.update,t.compare||((i,r)=>i===r),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(Hd).find(i=>i.field==this);return((e==null?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:i=>(i.values[e]=this.create(i),1),update:(i,r)=>{let o=i.values[e],s=this.updateF(o,r);return this.compareF(o,s)?0:(i.values[e]=s,1)},reconfigure:(i,r)=>r.config.address[this.id]!=null?(i.values[e]=r.field(this),0):(i.values[e]=this.create(i),1)}}init(t){return[this,Hd.of({field:this,create:t})]}get extension(){return this}}const ar={lowest:4,low:3,default:2,high:1,highest:0};function Ps(n){return t=>new R0(t,n)}const Cs={highest:Ps(ar.highest),high:Ps(ar.high),default:Ps(ar.default),low:Ps(ar.low),lowest:Ps(ar.lowest)};class R0{constructor(t,e){this.inner=t,this.prec=e}}class Wo{of(t){return new Wh(this,t)}reconfigure(t){return Wo.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class Wh{constructor(t,e){this.compartment=t,this.inner=e}}class da{constructor(t,e,i,r,o,s){for(this.base=t,this.compartments=e,this.dynamicSlots=i,this.address=r,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return e==null?t.default:this.staticValues[e>>1]}static resolve(t,e,i){let r=[],o=Object.create(null),s=new Map;for(let u of Qw(t,e,s))u instanceof Ie?r.push(u):(o[u.facet.id]||(o[u.facet.id]=[])).push(u);let l=Object.create(null),a=[],c=[];for(let u of r)l[u.id]=c.length<<1,c.push(d=>u.slot(d));let h=i==null?void 0:i.config.facets;for(let u in o){let d=o[u],p=d[0].facet,g=h&&h[u]||[];if(d.every(y=>y.type==0))if(l[p.id]=a.length<<1|1,pu(g,d))a.push(i.facet(p));else{let y=p.combine(d.map(v=>v.value));a.push(i&&p.compare(y,i.facet(p))?i.facet(p):y)}else{for(let y of d)y.type==0?(l[y.id]=a.length<<1|1,a.push(y.value)):(l[y.id]=c.length<<1,c.push(v=>y.dynamicSlot(v)));l[p.id]=c.length<<1,c.push(y=>Jw(y,p,d))}}let f=c.map(u=>u(l));return new da(t,s,f,l,a,o)}}function Qw(n,t,e){let i=[[],[],[],[],[]],r=new Map;function o(s,l){let a=r.get(s);if(a!=null){if(a<=l)return;let c=i[a].indexOf(s);c>-1&&i[a].splice(c,1),s instanceof Wh&&e.delete(s.compartment)}if(r.set(s,l),Array.isArray(s))for(let c of s)o(c,l);else if(s instanceof Wh){if(e.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=t.get(s.compartment)||s.inner;e.set(s.compartment,c),o(c,l)}else if(s instanceof R0)o(s.inner,s.prec);else if(s instanceof Ie)i[l].push(s),s.provides&&o(s.provides,l);else if(s instanceof zl)i[l].push(s),s.facet.extensions&&o(s.facet.extensions,ar.default);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,l)}}return o(n,ar.default),i.reduce((s,l)=>s.concat(l))}function ao(n,t){if(t&1)return 2;let e=t>>1,i=n.status[e];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[e]=4;let r=n.computeSlot(n,n.config.dynamicSlots[e]);return n.status[e]=2|r}function pa(n,t){return t&1?n.config.staticValues[t>>1]:n.values[t>>1]}const L0=st.define(),N0=st.define({combine:n=>n.some(t=>t),static:!0}),B0=st.define({combine:n=>n.length?n[0]:void 0,static:!0}),F0=st.define(),H0=st.define(),j0=st.define(),V0=st.define({combine:n=>n.length?n[0]:!1});class mi{constructor(t,e){this.type=t,this.value=e}static define(){return new Zw}}class Zw{of(t){return new mi(this,t)}}class qw{constructor(t){this.map=t}of(t){return new At(this,t)}}class At{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return e===void 0?void 0:e==this.value?this:new At(this.type,e)}is(t){return this.type==t}static define(t={}){return new qw(t.map||(e=>e))}static mapEffects(t,e){if(!t.length)return t;let i=[];for(let r of t){let o=r.map(e);o&&i.push(o)}return i}}At.reconfigure=At.define();At.appendConfig=At.define();class Se{constructor(t,e,i,r,o,s){this.startState=t,this.changes=e,this.selection=i,this.effects=r,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,i&&I0(i,e.newLength),o.some(l=>l.type==Se.time)||(this.annotations=o.concat(Se.time.of(Date.now())))}static create(t,e,i,r,o,s){return new Se(t,e,i,r,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(Se.userEvent);return!!(e&&(e==t||e.length>t.length&&e.slice(0,t.length)==t&&e[t.length]=="."))}}Se.time=mi.define();Se.userEvent=mi.define();Se.addToHistory=mi.define();Se.remote=mi.define();function _w(n,t){let e=[];for(let i=0,r=0;;){let o,s;if(i<n.length&&(r==t.length||t[r]>=n[i]))o=n[i++],s=n[i++];else if(r<t.length)o=t[r++],s=t[r++];else return e;!e.length||e[e.length-1]<o?e.push(o,s):e[e.length-1]<s&&(e[e.length-1]=s)}}function $0(n,t,e){var i;let r,o,s;return e?(r=t.changes,o=xe.empty(t.changes.length),s=n.changes.compose(t.changes)):(r=t.changes.map(n.changes),o=n.changes.mapDesc(t.changes,!0),s=n.changes.compose(r)),{changes:s,selection:t.selection?t.selection.map(o):(i=n.selection)===null||i===void 0?void 0:i.map(r),effects:At.mapEffects(n.effects,r).concat(At.mapEffects(t.effects,o)),annotations:n.annotations.length?n.annotations.concat(t.annotations):t.annotations,scrollIntoView:n.scrollIntoView||t.scrollIntoView}}function Uh(n,t,e){let i=t.selection,r=es(t.annotations);return t.userEvent&&(r=r.concat(Se.userEvent.of(t.userEvent))),{changes:t.changes instanceof xe?t.changes:xe.of(t.changes||[],e,n.facet(B0)),selection:i&&(i instanceof V?i:V.single(i.anchor,i.head)),effects:es(t.effects),annotations:r,scrollIntoView:!!t.scrollIntoView}}function W0(n,t,e){let i=Uh(n,t.length?t[0]:{},n.doc.length);t.length&&t[0].filter===!1&&(e=!1);for(let o=1;o<t.length;o++){t[o].filter===!1&&(e=!1);let s=!!t[o].sequential;i=$0(i,Uh(n,t[o],s?i.changes.newLength:n.doc.length),s)}let r=Se.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return eC(e?tC(r):r)}function tC(n){let t=n.startState,e=!0;for(let r of t.facet(F0)){let o=r(n);if(o===!1){e=!1;break}Array.isArray(o)&&(e=e===!0?o:_w(e,o))}if(e!==!0){let r,o;if(e===!1)o=n.changes.invertedDesc,r=xe.empty(t.doc.length);else{let s=n.changes.filter(e);r=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}n=Se.create(t,r,n.selection&&n.selection.map(o),At.mapEffects(n.effects,o),n.annotations,n.scrollIntoView)}let i=t.facet(H0);for(let r=i.length-1;r>=0;r--){let o=i[r](n);o instanceof Se?n=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Se?n=o[0]:n=W0(t,es(o),!1)}return n}function eC(n){let t=n.startState,e=t.facet(j0),i=n;for(let r=e.length-1;r>=0;r--){let o=e[r](n);o&&Object.keys(o).length&&(i=$0(i,Uh(t,o,n.changes.newLength),!0))}return i==n?n:Se.create(t,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const nC=[];function es(n){return n==null?nC:Array.isArray(n)?n:[n]}var ne=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(ne||(ne={}));const iC=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let zh;try{zh=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function rC(n){if(zh)return zh.test(n);for(let t=0;t<n.length;t++){let e=n[t];if(/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||iC.test(e)))return!0}return!1}function sC(n){return t=>{if(!/\S/.test(t))return ne.Space;if(rC(t))return ne.Word;for(let e=0;e<n.length;e++)if(t.indexOf(n[e])>-1)return ne.Word;return ne.Other}}class Pt{constructor(t,e,i,r,o,s){this.config=t,this.doc=e,this.selection=i,this.values=r,this.status=t.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)ao(this,l<<1);this.computeSlot=null}field(t,e=!0){let i=this.config.address[t.id];if(i==null){if(e)throw new RangeError("Field is not present in this state");return}return ao(this,i),pa(this,i)}update(...t){return W0(this,t,!0)}applyTransaction(t){let e=this.config,{base:i,compartments:r}=e;for(let s of t.effects)s.is(Wo.reconfigure)?(e&&(r=new Map,e.compartments.forEach((l,a)=>r.set(a,l)),e=null),r.set(s.value.compartment,s.value.extension)):s.is(At.reconfigure)?(e=null,i=s.value):s.is(At.appendConfig)&&(e=null,i=es(i).concat(s.value));let o;e?o=t.startState.values.slice():(e=da.resolve(i,r,this),o=new Pt(e,this.doc,this.selection,e.dynamicSlots.map(()=>null),(l,a)=>a.reconfigure(l,this),null).values),new Pt(e,t.newDoc,t.newSelection,o,(s,l)=>l.update(s,t),t)}replaceSelection(t){return typeof t=="string"&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:V.cursor(e.from+t.length)}))}changeByRange(t){let e=this.selection,i=t(e.ranges[0]),r=this.changes(i.changes),o=[i.range],s=es(i.effects);for(let l=1;l<e.ranges.length;l++){let a=t(e.ranges[l]),c=this.changes(a.changes),h=c.map(r);for(let u=0;u<l;u++)o[u]=o[u].map(h);let f=r.mapDesc(c,!0);o.push(a.range.map(f)),r=r.compose(h),s=At.mapEffects(s,h).concat(At.mapEffects(es(a.effects),f))}return{changes:r,selection:V.create(o,e.mainIndex),effects:s}}changes(t=[]){return t instanceof xe?t:xe.of(t,this.doc.length,this.facet(Pt.lineSeparator))}toText(t){return Vt.of(t.split(this.facet(Pt.lineSeparator)||Hh))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return e==null?t.default:(ao(this,e),pa(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let i in t){let r=t[i];r instanceof Ie&&this.config.address[r.id]!=null&&(e[i]=r.spec.toJSON(this.field(t[i]),this))}return e}static fromJSON(t,e={},i){if(!t||typeof t.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let o in i)if(Object.prototype.hasOwnProperty.call(t,o)){let s=i[o],l=t[o];r.push(s.init(a=>s.spec.fromJSON(l,a)))}}return Pt.create({doc:t.doc,selection:V.fromJSON(t.selection),extensions:e.extensions?r.concat([e.extensions]):r})}static create(t={}){let e=da.resolve(t.extensions||[],new Map),i=t.doc instanceof Vt?t.doc:Vt.of((t.doc||"").split(e.staticFacet(Pt.lineSeparator)||Hh)),r=t.selection?t.selection instanceof V?t.selection:V.single(t.selection.anchor,t.selection.head):V.single(0);return I0(r,i.length),e.staticFacet(N0)||(r=r.asSingle()),new Pt(e,i,r,e.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(Pt.tabSize)}get lineBreak(){return this.facet(Pt.lineSeparator)||`
`}get readOnly(){return this.facet(V0)}phrase(t,...e){for(let i of this.facet(Pt.phrases))if(Object.prototype.hasOwnProperty.call(i,t)){t=i[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let o=+(r||1);return!o||o>e.length?i:e[o-1]})),t}languageDataAt(t,e,i=-1){let r=[];for(let o of this.facet(L0))for(let s of o(this,e,i))Object.prototype.hasOwnProperty.call(s,t)&&r.push(s[t]);return r}charCategorizer(t){return sC(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:i,length:r}=this.doc.lineAt(t),o=this.charCategorizer(t),s=t-i,l=t-i;for(;s>0;){let a=Xe(e,s,!1);if(o(e.slice(a,s))!=ne.Word)break;s=a}for(;l<r;){let a=Xe(e,l);if(o(e.slice(l,a))!=ne.Word)break;l=a}return s==l?null:V.range(s+i,l+i)}}Pt.allowMultipleSelections=N0;Pt.tabSize=st.define({combine:n=>n.length?n[0]:4});Pt.lineSeparator=B0;Pt.readOnly=V0;Pt.phrases=st.define({compare(n,t){let e=Object.keys(n),i=Object.keys(t);return e.length==i.length&&e.every(r=>n[r]==t[r])}});Pt.languageData=L0;Pt.changeFilter=F0;Pt.transactionFilter=H0;Pt.transactionExtender=j0;Wo.reconfigure=At.define();function ti(n,t,e={}){let i={};for(let r of n)for(let o of Object.keys(r)){let s=r[o],l=i[o];if(l===void 0)i[o]=s;else if(!(l===s||s===void 0))if(Object.hasOwnProperty.call(e,o))i[o]=e[o](l,s);else throw new Error("Config merge conflict for field "+o)}for(let r in t)i[r]===void 0&&(i[r]=t[r]);return i}class Er{eq(t){return this==t}range(t,e=t){return Kh.create(t,e,this)}}Er.prototype.startSide=Er.prototype.endSide=0;Er.prototype.point=!1;Er.prototype.mapMode=Ye.TrackDel;let Kh=class U0{constructor(t,e,i){this.from=t,this.to=e,this.value=i}static create(t,e,i){return new U0(t,e,i)}};function Gh(n,t){return n.from-t.from||n.value.startSide-t.value.startSide}class gu{constructor(t,e,i,r){this.from=t,this.to=e,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(t,e,i,r=0){let o=i?this.to:this.from;for(let s=r,l=o.length;;){if(s==l)return s;let a=s+l>>1,c=o[a]-t||(i?this.value[a].endSide:this.value[a].startSide)-e;if(a==s)return c>=0?s:l;c>=0?l=a:s=a+1}}between(t,e,i,r){for(let o=this.findIndex(e,-1e9,!0),s=this.findIndex(i,1e9,!1,o);o<s;o++)if(r(this.from[o]+t,this.to[o]+t,this.value[o])===!1)return!1}map(t,e){let i=[],r=[],o=[],s=-1,l=-1;for(let a=0;a<this.value.length;a++){let c=this.value[a],h=this.from[a]+t,f=this.to[a]+t,u,d;if(h==f){let p=e.mapPos(h,c.startSide,c.mapMode);if(p==null||(u=d=p,c.startSide!=c.endSide&&(d=e.mapPos(h,c.endSide),d<u)))continue}else if(u=e.mapPos(h,c.startSide),d=e.mapPos(f,c.endSide),u>d||u==d&&c.startSide>0&&c.endSide<=0)continue;(d-u||c.endSide-c.startSide)<0||(s<0&&(s=u),c.point&&(l=Math.max(l,d-u)),i.push(c),r.push(u-s),o.push(d-s))}return{mapped:i.length?new gu(r,o,i,l):null,pos:s}}}class $t{constructor(t,e,i,r){this.chunkPos=t,this.chunk=e,this.nextLayer=i,this.maxPoint=r}static create(t,e,i,r){return new $t(t,e,i,r)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:i=!1,filterFrom:r=0,filterTo:o=this.length}=t,s=t.filter;if(e.length==0&&!s)return this;if(i&&(e=e.slice().sort(Gh)),this.isEmpty)return e.length?$t.of(e):this;let l=new z0(this,null,-1).goto(0),a=0,c=[],h=new Ki;for(;l.value||a<e.length;)if(a<e.length&&(l.from-e[a].from||l.startSide-e[a].value.startSide)>=0){let f=e[a++];h.addInner(f.from,f.to,f.value)||c.push(f)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(a==e.length||this.chunkEnd(l.chunkIndex)<e[a].from)&&(!s||r>this.chunkEnd(l.chunkIndex)||o<this.chunkPos[l.chunkIndex])&&h.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!s||r>l.to||o<l.from||s(l.from,l.to,l.value))&&(h.addInner(l.from,l.to,l.value)||c.push(Kh.create(l.from,l.to,l.value))),l.next());return h.finishInner(this.nextLayer.isEmpty&&!c.length?$t.empty:this.nextLayer.update({add:c,filter:s,filterFrom:r,filterTo:o}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],i=[],r=-1;for(let s=0;s<this.chunk.length;s++){let l=this.chunkPos[s],a=this.chunk[s],c=t.touchesRange(l,l+a.length);if(c===!1)r=Math.max(r,a.maxPoint),e.push(a),i.push(t.mapPos(l));else if(c===!0){let{mapped:h,pos:f}=a.map(l,t);h&&(r=Math.max(r,h.maxPoint),e.push(h),i.push(f))}}let o=this.nextLayer.map(t);return e.length==0?o:new $t(i,e,o||$t.empty,r)}between(t,e,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],s=this.chunk[r];if(e>=o&&t<=o+s.length&&s.between(o,t-o,e-o,i)===!1)return}this.nextLayer.between(t,e,i)}}iter(t=0){return xo.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return xo.from(t).goto(e)}static compare(t,e,i,r,o=-1){let s=t.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),l=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),a=jd(s,l,i),c=new Is(s,a,o),h=new Is(l,a,o);i.iterGaps((f,u,d)=>Vd(c,f,h,u,d,r)),i.empty&&i.length==0&&Vd(c,0,h,0,0,r)}static eq(t,e,i=0,r){r==null&&(r=1e9-1);let o=t.filter(h=>!h.isEmpty&&e.indexOf(h)<0),s=e.filter(h=>!h.isEmpty&&t.indexOf(h)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let l=jd(o,s),a=new Is(o,l,0).goto(i),c=new Is(s,l,0).goto(i);for(;;){if(a.to!=c.to||!Yh(a.active,c.active)||a.point&&(!c.point||!a.point.eq(c.point)))return!1;if(a.to>r)return!0;a.next(),c.next()}}static spans(t,e,i,r,o=-1){let s=new Is(t,null,o).goto(e),l=e,a=s.openStart;for(;;){let c=Math.min(s.to,i);if(s.point){let h=s.activeForPoint(s.to),f=s.pointFrom<e?h.length+1:Math.min(h.length,a);r.point(l,c,s.point,h,f,s.pointRank),a=Math.min(s.openEnd(c),h.length)}else c>l&&(r.span(l,c,s.active,a),a=s.openEnd(c));if(s.to>i)return a+(s.point&&s.to>i?1:0);l=s.to,s.next()}}static of(t,e=!1){let i=new Ki;for(let r of t instanceof Kh?[t]:e?oC(t):t)i.add(r.from,r.to,r.value);return i.finish()}}$t.empty=new $t([],[],null,-1);function oC(n){if(n.length>1)for(let t=n[0],e=1;e<n.length;e++){let i=n[e];if(Gh(t,i)>0)return n.slice().sort(Gh);t=i}return n}$t.empty.nextLayer=$t.empty;class Ki{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(t){this.chunks.push(new gu(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}add(t,e,i){this.addInner(t,e,i)||(this.nextLayer||(this.nextLayer=new Ki)).add(t,e,i)}addInner(t,e,i){let r=t-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(t-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=i,this.lastFrom=t,this.lastTo=e,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let i=e.value.length-1;return this.last=e.value[i],this.lastFrom=e.from[i]+t,this.lastTo=e.to[i]+t,!0}finish(){return this.finishInner($t.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let e=$t.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function jd(n,t,e){let i=new Map;for(let o of n)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&i.set(o.chunk[s],o.chunkPos[s]);let r=new Set;for(let o of t)for(let s=0;s<o.chunk.length;s++){let l=i.get(o.chunk[s]);l!=null&&(e?e.mapPos(l):l)==o.chunkPos[s]&&!(e!=null&&e.touchesRange(l,l+o.chunk[s].length))&&r.add(o.chunk[s])}return r}class z0{constructor(t,e,i,r=0){this.layer=t,this.skip=e,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<t||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],i=t+e.from[this.rangeIndex];if(this.from=i,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class xo{constructor(t){this.heap=t}static from(t,e=null,i=-1){let r=[];for(let o=0;o<t.length;o++)for(let s=t[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=i&&r.push(new z0(s,e,i,o));return r.length==1?r[0]:new xo(r)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let i of this.heap)i.goto(t,e);for(let i=this.heap.length>>1;i>=0;i--)Wc(this.heap,i);return this.next(),this}forward(t,e){for(let i of this.heap)i.forward(t,e);for(let i=this.heap.length>>1;i>=0;i--)Wc(this.heap,i);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Wc(this.heap,0)}}}function Wc(n,t){for(let e=n[t];;){let i=(t<<1)+1;if(i>=n.length)break;let r=n[i];if(i+1<n.length&&r.compare(n[i+1])>=0&&(r=n[i+1],i++),e.compare(r)<0)break;n[i]=e,n[t]=r,t=i}}class Is{constructor(t,e,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=xo.from(t,e,i)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){pl(this.active,t),pl(this.activeTo,t),pl(this.activeRank,t),this.minActive=$d(this.active,this.activeTo)}addActive(t){let e=0,{value:i,to:r,rank:o}=this.cursor;for(;e<this.activeRank.length&&this.activeRank[e]<=o;)e++;gl(this.active,e,i),gl(this.activeTo,e,r),gl(this.activeRank,e,o),t&&gl(t,e,this.cursor.from),this.minActive=$d(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>t){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&pl(i,r)}else if(this.cursor.value)if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(i),this.cursor.next();else if(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<t;r--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>t||this.activeTo[i]==t&&this.active[i].endSide>=this.point.endSide)&&e.push(this.active[i]);return e.reverse()}openEnd(t){let e=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>t;i--)e++;return e}}function Vd(n,t,e,i,r,o){n.goto(t),e.goto(i);let s=i+r,l=i,a=i-t;for(;;){let c=n.to+a-e.to||n.endSide-e.endSide,h=c<0?n.to+a:e.to,f=Math.min(h,s);if(n.point||e.point?n.point&&e.point&&(n.point==e.point||n.point.eq(e.point))&&Yh(n.activeForPoint(n.to+a),e.activeForPoint(e.to))||o.comparePoint(l,f,n.point,e.point):f>l&&!Yh(n.active,e.active)&&o.compareRange(l,f,n.active,e.active),h>s)break;l=h,c<=0&&n.next(),c>=0&&e.next()}}function Yh(n,t){if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!=t[e]&&!n[e].eq(t[e]))return!1;return!0}function pl(n,t){for(let e=t,i=n.length-1;e<i;e++)n[e]=n[e+1];n.pop()}function gl(n,t,e){for(let i=n.length-1;i>=t;i--)n[i+1]=n[i];n[t]=e}function $d(n,t){let e=-1,i=1e9;for(let r=0;r<t.length;r++)(t[r]-i||n[r].endSide-n[e].endSide)<0&&(e=r,i=t[r]);return e}function Uo(n,t,e=n.length){let i=0;for(let r=0;r<e;)n.charCodeAt(r)==9?(i+=t-i%t,r++):(i++,r=Xe(n,r));return i}function Xh(n,t,e,i){for(let r=0,o=0;;){if(o>=t)return r;if(r==n.length)break;o+=n.charCodeAt(r)==9?e-o%e:1,r=Xe(n,r)}return i===!0?-1:n.length}const Jh="",Wd=typeof Symbol>"u"?"__"+Jh:Symbol.for(Jh),Qh=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Gi{constructor(t,e){this.rules=[];let{finish:i}=e||{};function r(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,l,a,c){let h=[],f=/^@(\w+)\b/.exec(s[0]),u=f&&f[1]=="keyframes";if(f&&l==null)return a.push(s[0]+";");for(let d in l){let p=l[d];if(/&/.test(d))o(d.split(/,\s*/).map(g=>s.map(y=>g.replace(/&/,y))).reduce((g,y)=>g.concat(y)),p,a);else if(p&&typeof p=="object"){if(!f)throw new RangeError("The value of a property ("+d+") should be a primitive value.");o(r(d),p,h,u)}else p!=null&&h.push(d.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+p+";")}(h.length||u)&&a.push((i&&!f&&!c?s.map(i):s).join(", ")+" {"+h.join(" ")+"}")}for(let s in t)o(r(s),t[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=Ud[Wd]||1;return Ud[Wd]=t+1,Jh+t.toString(36)}static mount(t,e){(t[Qh]||new lC(t)).mount(Array.isArray(e)?e:[e])}}let zd=new Map;class lC{constructor(t){let e=t.ownerDocument||t,i=e.defaultView;if(!t.head&&t.adoptedStyleSheets&&i.CSSStyleSheet){let r=zd.get(e);if(r)return t.adoptedStyleSheets=[r.sheet,...t.adoptedStyleSheets],t[Qh]=r;this.sheet=new i.CSSStyleSheet,t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets],zd.set(e,this)}else{this.styleTag=e.createElement("style");let r=t.head||t;r.insertBefore(this.styleTag,r.firstChild)}this.modules=[],t[Qh]=this}mount(t){let e=this.sheet,i=0,r=0;for(let o=0;o<t.length;o++){let s=t[o],l=this.modules.indexOf(s);if(l<r&&l>-1&&(this.modules.splice(l,1),r--,l=-1),l==-1){if(this.modules.splice(r++,0,s),e)for(let a=0;a<s.rules.length;a++)e.insertRule(s.rules[a],i++)}else{for(;r<l;)i+=this.modules[r++].rules.length;i+=s.rules.length,r++}}if(!e){let o="";for(let s=0;s<this.modules.length;s++)o+=this.modules[s].getRules()+`
`;this.styleTag.textContent=o}}}var Yi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},So={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Kd=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),aC=typeof navigator<"u"&&/Mac/.test(navigator.platform),cC=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),hC=aC||Kd&&+Kd[1]<57;for(var Te=0;Te<10;Te++)Yi[48+Te]=Yi[96+Te]=String(Te);for(var Te=1;Te<=24;Te++)Yi[Te+111]="F"+Te;for(var Te=65;Te<=90;Te++)Yi[Te]=String.fromCharCode(Te+32),So[Te]=String.fromCharCode(Te);for(var Uc in Yi)So.hasOwnProperty(Uc)||(So[Uc]=Yi[Uc]);function fC(n){var t=hC&&(n.ctrlKey||n.altKey||n.metaKey)||cC&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",e=!t&&n.key||(n.shiftKey?So:Yi)[n.keyCode]||n.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}function ga(n){let t;return n.nodeType==11?t=n.getSelection?n:n.ownerDocument:t=n,t.getSelection()}function fs(n,t){return t?n==t||n.contains(t.nodeType!=1?t.parentNode:t):!1}function uC(n){let t=n.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Kl(n,t){if(!t.anchorNode)return!1;try{return fs(n,t.anchorNode)}catch{return!1}}function us(n){return n.nodeType==3?ds(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function ma(n,t,e,i){return e?Gd(n,t,e,i,-1)||Gd(n,t,e,i,1):!1}function va(n){for(var t=0;;t++)if(n=n.previousSibling,!n)return t}function Gd(n,t,e,i,r){for(;;){if(n==e&&t==i)return!0;if(t==(r<0?0:wo(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;t=va(n)+(r<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[t+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;t=r<0?wo(n):0}else return!1}}function wo(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function ac(n,t){let e=t?n.left:n.right;return{left:e,right:e,top:n.top,bottom:n.bottom}}function dC(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function pC(n,t,e,i,r,o,s,l){let a=n.ownerDocument,c=a.defaultView||window;for(let h=n;h;)if(h.nodeType==1){let f,u=h==a.body;if(u)f=dC(c);else{if(h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let g=h.getBoundingClientRect();f={left:g.left,right:g.left+h.clientWidth,top:g.top,bottom:g.top+h.clientHeight}}let d=0,p=0;if(r=="nearest")t.top<f.top?(p=-(f.top-t.top+s),e>0&&t.bottom>f.bottom+p&&(p=t.bottom-f.bottom+p+s)):t.bottom>f.bottom&&(p=t.bottom-f.bottom+s,e<0&&t.top-p<f.top&&(p=-(f.top+p-t.top+s)));else{let g=t.bottom-t.top,y=f.bottom-f.top;p=(r=="center"&&g<=y?t.top+g/2-y/2:r=="start"||r=="center"&&e<0?t.top-s:t.bottom-y+s)-f.top}if(i=="nearest"?t.left<f.left?(d=-(f.left-t.left+o),e>0&&t.right>f.right+d&&(d=t.right-f.right+d+o)):t.right>f.right&&(d=t.right-f.right+o,e<0&&t.left<f.left+d&&(d=-(f.left+d-t.left+o))):d=(i=="center"?t.left+(t.right-t.left)/2-(f.right-f.left)/2:i=="start"==l?t.left-o:t.right-(f.right-f.left)+o)-f.left,d||p)if(u)c.scrollBy(d,p);else{let g=0,y=0;if(p){let v=h.scrollTop;h.scrollTop+=p,y=h.scrollTop-v}if(d){let v=h.scrollLeft;h.scrollLeft+=d,g=h.scrollLeft-v}t={left:t.left-g,top:t.top-y,right:t.right-g,bottom:t.bottom-y},g&&Math.abs(g-d)<1&&(i="nearest"),y&&Math.abs(y-p)<1&&(r="nearest")}if(u)break;h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function gC(n){let t=n.ownerDocument;for(let e=n.parentNode;e&&e!=t.body;)if(e.nodeType==1){if(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)return e;e=e.assignedSlot||e.parentNode}else if(e.nodeType==11)e=e.host;else break;return null}class mC{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){this.set(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)}set(t,e,i,r){this.anchorNode=t,this.anchorOffset=e,this.focusNode=i,this.focusOffset=r}}let Hr=null;function K0(n){if(n.setActive)return n.setActive();if(Hr)return n.focus(Hr);let t=[];for(let e=n;e&&(t.push(e,e.scrollTop,e.scrollLeft),e!=e.ownerDocument);e=e.parentNode);if(n.focus(Hr==null?{get preventScroll(){return Hr={preventScroll:!0},!0}}:void 0),!Hr){Hr=!1;for(let e=0;e<t.length;){let i=t[e++],r=t[e++],o=t[e++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=o&&(i.scrollLeft=o)}}}let Yd;function ds(n,t,e=t){let i=Yd||(Yd=document.createRange());return i.setEnd(n,e),i.setStart(n,t),i}function ns(n,t,e){let i={key:t,code:t,keyCode:e,which:e,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,n.dispatchEvent(r);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,n.dispatchEvent(o),r.defaultPrevented||o.defaultPrevented}function vC(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function G0(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function yC(n,t){let e=t.focusNode,i=t.focusOffset;if(!e||t.anchorNode!=e||t.anchorOffset!=i)return!1;for(;;)if(i){if(e.nodeType!=1)return!1;let r=e.childNodes[i-1];r.contentEditable=="false"?i--:(e=r,i=wo(e))}else{if(e==n)return!0;i=va(e),e=e.parentNode}}class Pe{constructor(t,e,i=!0){this.node=t,this.offset=e,this.precise=i}static before(t,e){return new Pe(t.parentNode,va(t),e)}static after(t,e){return new Pe(t.parentNode,va(t)+1,e)}}const mu=[];class Qt{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let i of this.children){if(i==t)return e;e+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(this.dirty&2){let i=this.dom,r=null,o;for(let s of this.children){if(s.dirty){if(!s.dom&&(o=r?r.nextSibling:i.firstChild)){let l=Qt.get(o);(!l||!l.parent&&l.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(t,e),s.dirty=0}if(o=r?r.nextSibling:i.firstChild,e&&!e.written&&e.node==i&&o!=s.dom&&(e.written=!0),s.dom.parentNode==i)for(;o&&o!=s.dom;)o=Xd(o);else i.insertBefore(s.dom,o);r=s.dom}for(o=r?r.nextSibling:i.firstChild,o&&e&&e.node==i&&(e.written=!0);o;)o=Xd(o)}else if(this.dirty&1)for(let i of this.children)i.dirty&&(i.sync(t,e),i.dirty=0)}reuseDOM(t){}localPosFromDOM(t,e){let i;if(t==this.dom)i=this.dom.childNodes[e];else{let r=wo(t)==0?0:e==0?-1:1;for(;;){let o=t.parentNode;if(o==this.dom)break;r==0&&o.firstChild!=o.lastChild&&(t==o.firstChild?r=-1:r=1),t=o}r<0?i=t:i=t.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Qt.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,o=0;;r++){let s=this.children[r];if(s.dom==i)return o;o+=s.length+s.breakAfter}}domBoundsAround(t,e,i=0){let r=-1,o=-1,s=-1,l=-1;for(let a=0,c=i,h=i;a<this.children.length;a++){let f=this.children[a],u=c+f.length;if(c<t&&u>e)return f.domBoundsAround(t,e,c);if(u>=t&&r==-1&&(r=a,o=c),c>e&&f.dom.parentNode==this.dom){s=a,l=h;break}h=u,c=u+f.breakAfter}return{from:o,to:l<0?i+this.length:l,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(t=!1){this.dirty|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.dirty|=2),e.dirty&1)return;e.dirty|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.dirty&&this.markParentsDirty(!0))}setDOM(t){this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,i=mu){this.markDirty();for(let r=t;r<e;r++){let o=this.children[r];o.parent==this&&o.destroy()}this.children.splice(t,e-t,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new Y0(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+(t=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,i,r,o,s){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}Qt.prototype.breakAfter=0;function Xd(n){let t=n.nextSibling;return n.parentNode.removeChild(n),t}class Y0{constructor(t,e,i){this.children=t,this.pos=e,this.i=i,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function X0(n,t,e,i,r,o,s,l,a){let{children:c}=n,h=c.length?c[t]:null,f=o.length?o[o.length-1]:null,u=f?f.breakAfter:s;if(!(t==i&&h&&!s&&!u&&o.length<2&&h.merge(e,r,o.length?f:null,e==0,l,a))){if(i<c.length){let d=c[i];d&&r<d.length?(t==i&&(d=d.split(r),r=0),!u&&f&&d.merge(0,r,f,!0,0,a)?o[o.length-1]=d:(r&&d.merge(0,r,null,!1,0,a),o.push(d))):d!=null&&d.breakAfter&&(f?f.breakAfter=1:s=1),i++}for(h&&(h.breakAfter=s,e>0&&(!s&&o.length&&h.merge(e,h.length,o[0],!1,l,0)?h.breakAfter=o.shift().breakAfter:(e<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(e,h.length,null,!1,l,0),t++));t<i&&o.length;)if(c[i-1].become(o[o.length-1]))i--,o.pop(),a=o.length?0:l;else if(c[t].become(o[0]))t++,o.shift(),l=o.length?0:a;else break;!o.length&&t&&i<c.length&&!c[t-1].breakAfter&&c[i].merge(0,0,c[t-1],!1,l,a)&&t--,(t<i||o.length)&&n.replaceChildren(t,i,o)}}function J0(n,t,e,i,r,o){let s=n.childCursor(),{i:l,off:a}=s.findPos(e,1),{i:c,off:h}=s.findPos(t,-1),f=t-e;for(let u of i)f+=u.length;n.length+=f,X0(n,c,h,l,a,i,0,r,o)}let mn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Zh=typeof document<"u"?document:{documentElement:{style:{}}};const qh=/Edge\/(\d+)/.exec(mn.userAgent),Q0=/MSIE \d/.test(mn.userAgent),_h=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(mn.userAgent),cc=!!(Q0||_h||qh),Jd=!cc&&/gecko\/(\d+)/i.test(mn.userAgent),zc=!cc&&/Chrome\/(\d+)/.exec(mn.userAgent),Qd="webkitFontSmoothing"in Zh.documentElement.style,Z0=!cc&&/Apple Computer/.test(mn.vendor),Zd=Z0&&(/Mobile\/\w+/.test(mn.userAgent)||mn.maxTouchPoints>2);var it={mac:Zd||/Mac/.test(mn.platform),windows:/Win/.test(mn.platform),linux:/Linux|X11/.test(mn.platform),ie:cc,ie_version:Q0?Zh.documentMode||6:_h?+_h[1]:qh?+qh[1]:0,gecko:Jd,gecko_version:Jd?+(/Firefox\/(\d+)/.exec(mn.userAgent)||[0,0])[1]:0,chrome:!!zc,chrome_version:zc?+zc[1]:0,ios:Zd,android:/Android\b/.test(mn.userAgent),webkit:Qd,safari:Z0,webkit_version:Qd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Zh.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const bC=256;class Tr extends Qt{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){t.nodeType==3&&this.createDOM(t)}merge(t,e,i){return i&&(!(i instanceof Tr)||this.length-(e-t)+i.length>bC)?!1:(this.text=this.text.slice(0,t)+(i?i.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new Tr(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new Pe(this.dom,t)}domBoundsAround(t,e,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return tf(this.dom,t,e)}}class ui extends Qt{constructor(t,e=[],i=0){super(),this.mark=t,this.children=e,this.length=i;for(let r of e)r.setParent(this)}setAttrs(t){if(G0(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.dirty|=6)}sync(t,e){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,i,r,o,s){return i&&(!(i instanceof ui&&i.mark.eq(this.mark))||t&&o<=0||e<this.length&&s<=0)?!1:(J0(this,t,e,i?i.children:[],o-1,s-1),this.markDirty(),!0)}split(t){let e=[],i=0,r=-1,o=0;for(let l of this.children){let a=i+l.length;a>t&&e.push(i<t?l.split(t-i):l),r<0&&i>=t&&(r=o),i=a,o++}let s=this.length-t;return this.length=t,r>-1&&(this.children.length=r,this.markDirty()),new ui(this.mark,e,s)}domAtPos(t){return nv(this,t)}coordsAt(t,e){return rv(this,t,e)}}function tf(n,t,e){let i=n.nodeValue.length;t>i&&(t=i);let r=t,o=t,s=0;t==0&&e<0||t==i&&e>=0?it.chrome||it.gecko||(t?(r--,s=1):o<i&&(o++,s=-1)):e<0?r--:o<i&&o++;let l=ds(n,r,o).getClientRects();if(!l.length)return null;let a=l[(s?s<0:e>=0)?0:l.length-1];return it.safari&&!s&&a.width==0&&(a=Array.prototype.find.call(l,c=>c.width)||a),s?ac(a,s<0):a||null}class Ii extends Qt{constructor(t,e,i){super(),this.widget=t,this.length=e,this.side=i,this.prevWidget=null}static create(t,e,i){return new(t.customView||Ii)(t,e,i)}split(t){let e=Ii.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.dom.contentEditable="false")}getSide(){return this.side}merge(t,e,i,r,o,s){return i&&(!(i instanceof Ii)||!this.widget.compare(i.widget)||t>0&&o<=0||e<this.length&&s<=0)?!1:(this.length=t+(i?i.length:0)+(this.length-e),!0)}become(t){return t instanceof Ii&&t.side==this.side&&this.widget.constructor==t.widget.constructor?(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(this.length==0)return Vt.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,i=e&&e.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):Vt.empty}domAtPos(t){return(this.length?t==0:this.side>0)?Pe.before(this.dom):Pe.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let i=this.widget.coordsAt(this.dom,t,e);if(i)return i;let r=this.dom.getClientRects(),o=null;if(!r.length)return null;for(let s=t>0?r.length-1:0;o=r[s],!(t>0?s==0:s==r.length-1||o.top<o.bottom);s+=t>0?-1:1);return this.length?o:ac(o,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class q0 extends Ii{domAtPos(t){let{topView:e,text:i}=this.widget;return e?ef(t,0,e,i,this.length-e.length,(r,o)=>r.domAtPos(o),(r,o)=>new Pe(r,Math.min(o,r.nodeValue.length))):new Pe(i,Math.min(t,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(t,e){let{topView:i,text:r}=this.widget;return i?tv(t,e,i,r,this.length-i.length):Math.min(e,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(t,e){let{topView:i,text:r}=this.widget;return i?ef(t,e,i,r,this.length-i.length,(o,s,l)=>o.coordsAt(s,l),(o,s,l)=>tf(o,s,l)):tf(r,t,e)}destroy(){var t;super.destroy(),(t=this.widget.topView)===null||t===void 0||t.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function ef(n,t,e,i,r,o,s){if(e instanceof ui){for(let l=e.dom.firstChild;l;l=l.nextSibling){let a=Qt.get(l);if(a){let c=fs(l,i),h=a.length+(c?r:0);if(n<h||n==h&&a.getSide()<=0)return c?ef(n,t,a,i,r,o,s):o(a,n,t);n-=h}else{let c=_0(n,t,l,s);if(typeof c!="number")return c;n=c}}return o(e,e.length,-1)}else return e.dom==i?s(i,n,t):o(e,n,t)}function _0(n,t,e,i){if(e.nodeType==3){let r=e.nodeValue.length;if(n<=r)return i(e,n,t);n-=r}else if(e.nodeType==1&&e.contentEditable!="false")for(let r=e.firstChild;r;r=r.nextSibling){let o=_0(n,t,r,i);if(typeof o!="number")return o;n=o}return n}function tv(n,t,e,i,r){if(e instanceof ui){let o=0;for(let s=e.dom.firstChild;s;s=s.nextSibling){let l=Qt.get(s);if(l){let a=fs(s,i);if(fs(s,n))return o+(a?tv(n,t,l,i,r):l.localPosFromDOM(n,t));o+=l.length+(a?r:0)}else{let a=ev(n,t,s);if(a.result!=null)return o+a.result;o+=a.size}}}else if(e.dom==i)return Math.min(t,i.nodeValue.length);return e.localPosFromDOM(n,t)}function ev(n,t,e){if(e.nodeType==3)return n==e?{result:t}:{size:e.nodeValue.length};if(e.nodeType==1&&e.contentEditable!="false"){let i=0;for(let r=e.firstChild,o=0;;r=r.nextSibling,o++){if(n==e&&o==t)return{result:i};if(!r)return{size:i};let s=ev(n,t,r);if(s.result!=null)return{result:t+s.result};i+=s.size}}else return e.contains(n)?{result:0}:{size:0}}class ps extends Qt{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof ps&&t.side==this.side}split(){return new ps(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?Pe.before(this.dom):Pe.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Vt.empty}get isHidden(){return!0}}Tr.prototype.children=Ii.prototype.children=ps.prototype.children=mu;function nv(n,t){let e=n.dom,{children:i}=n,r=0;for(let o=0;r<i.length;r++){let s=i[r],l=o+s.length;if(!(l==o&&s.getSide()<=0)){if(t>o&&t<l&&s.dom.parentNode==e)return s.domAtPos(t-o);if(t<=o)break;o=l}}for(let o=r;o>0;o--){let s=i[o-1];if(s.dom.parentNode==e)return s.domAtPos(s.length)}for(let o=r;o<i.length;o++){let s=i[o];if(s.dom.parentNode==e)return s.domAtPos(0)}return new Pe(e,0)}function iv(n,t,e){let i,{children:r}=n;e>0&&t instanceof ui&&r.length&&(i=r[r.length-1])instanceof ui&&i.mark.eq(t.mark)?iv(i,t.children[0],e-1):(r.push(t),t.setParent(n)),n.length+=t.length}function rv(n,t,e){let i=null,r=-1,o=null,s=-1;function l(c,h){for(let f=0,u=0;f<c.children.length&&u<=h;f++){let d=c.children[f],p=u+d.length;p>=h&&(d.children.length?l(d,h-u):(!o||o.isHidden&&e>0)&&(p>h||u==p&&d.getSide()>0)?(o=d,s=h-u):(u<h||u==p&&d.getSide()<0&&!d.isHidden)&&(i=d,r=h-u)),u=p}}l(n,t);let a=(e<0?i:o)||i||o;return a?a.coordsAt(Math.max(0,a==i?r:s),e):xC(n)}function xC(n){let t=n.dom.lastChild;if(!t)return n.dom.getBoundingClientRect();let e=us(t);return e[e.length-1]||null}function nf(n,t){for(let e in n)e=="class"&&t.class?t.class+=" "+n.class:e=="style"&&t.style?t.style+=";"+n.style:t[e]=n[e];return t}function vu(n,t){if(n==t)return!0;if(!n||!t)return!1;let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r of e)if(i.indexOf(r)==-1||n[r]!==t[r])return!1;return!0}function rf(n,t,e){let i=null;if(t)for(let r in t)e&&r in e||n.removeAttribute(i=r);if(e)for(let r in e)t&&t[r]==e[r]||n.setAttribute(i=r,e[r]);return!!i}class vi{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}ignoreEvent(t){return!0}coordsAt(t,e,i){return null}get customView(){return null}get isHidden(){return!1}destroy(t){}}var Gt=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Gt||(Gt={}));class ut extends Er{constructor(t,e,i,r){super(),this.startSide=t,this.endSide=e,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(t){return new hc(t)}static widget(t){let e=t.side||0,i=!!t.block;return e+=i?e>0?3e8:-4e8:e>0?1e8:-1e8,new Mr(t,e,e,i,t.widget||null,!1)}static replace(t){let e=!!t.block,i,r;if(t.isBlockGap)i=-5e8,r=4e8;else{let{start:o,end:s}=sv(t,e);i=(o?e?-3e8:-1:5e8)-1,r=(s?e?2e8:1:-6e8)+1}return new Mr(t,i,r,e,t.widget||null,!0)}static line(t){return new zo(t)}static set(t,e=!1){return $t.of(t,e)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ut.none=$t.empty;class hc extends ut{constructor(t){let{start:e,end:i}=sv(t);super(e?-1:5e8,i?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){return this==t||t instanceof hc&&this.tagName==t.tagName&&this.class==t.class&&vu(this.attrs,t.attrs)}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}hc.prototype.point=!1;class zo extends ut{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof zo&&this.spec.class==t.spec.class&&vu(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}zo.prototype.mapMode=Ye.TrackBefore;zo.prototype.point=!0;class Mr extends ut{constructor(t,e,i,r,o,s){super(e,i,o,t),this.block=r,this.isReplace=s,this.mapMode=r?e<=0?Ye.TrackBefore:Ye.TrackAfter:Ye.TrackDel}get type(){return this.startSide<this.endSide?Gt.WidgetRange:this.startSide<=0?Gt.WidgetBefore:Gt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(t){return t instanceof Mr&&SC(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}Mr.prototype.point=!0;function sv(n,t=!1){let{inclusiveStart:e,inclusiveEnd:i}=n;return e==null&&(e=n.inclusive),i==null&&(i=n.inclusive),{start:e??t,end:i??t}}function SC(n,t){return n==t||!!(n&&t&&n.compare(t))}function sf(n,t,e,i=0){let r=e.length-1;r>=0&&e[r]+i>=n?e[r]=Math.max(e[r],t):e.push(n,t)}class Je extends Qt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,i,r,o,s){if(i){if(!(i instanceof Je))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),J0(this,t,e,i?i.children:[],o,s),!0}split(t){let e=new Je;if(e.breakAfter=this.breakAfter,this.length==0)return e;let{i,off:r}=this.childPos(t);r&&(e.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let o=i;o<this.children.length;o++)e.append(this.children[o],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){vu(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){iv(this,t,e)}addLineDeco(t){let e=t.spec.attributes,i=t.spec.class;e&&(this.attrs=nf(e,this.attrs||{})),i&&(this.attrs=nf({class:i},this.attrs||{}))}domAtPos(t){return nv(this,t)}reuseDOM(t){t.nodeName=="DIV"&&(this.setDOM(t),this.dirty|=6)}sync(t,e){var i;this.dom?this.dirty&4&&(G0(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(rf(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let r=this.dom.lastChild;for(;r&&Qt.get(r)instanceof ui;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((i=Qt.get(r))===null||i===void 0?void 0:i.isEditable)==!1&&(!it.ios||!this.children.some(o=>o instanceof Tr))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let t=0,e;for(let i of this.children){if(!(i instanceof Tr)||/[^ -~]/.test(i.text))return null;let r=us(i.dom);if(r.length!=1)return null;t+=r[0].width,e=r[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(t,e){let i=rv(this,t,e);if(!this.children.length&&i&&this.parent){let{heightOracle:r}=this.parent.view.viewState,o=i.bottom-i.top;if(Math.abs(o-r.lineHeight)<2&&r.textHeight<o){let s=(o-r.textHeight)/2;return{top:i.top+s,bottom:i.bottom-s,left:i.left,right:i.left}}}return i}become(t){return!1}get type(){return Gt.Text}static find(t,e){for(let i=0,r=0;i<t.children.length;i++){let o=t.children[i],s=r+o.length;if(s>=e){if(o instanceof Je)return o;if(s>e)break}r=s+o.breakAfter}return null}}class Sr extends Qt{constructor(t,e,i){super(),this.widget=t,this.length=e,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(t,e,i,r,o,s){return i&&(!(i instanceof Sr)||!this.widget.compare(i.widget)||t>0&&o<=0||e<this.length&&s<=0)?!1:(this.length=t+(i?i.length:0)+(this.length-e),!0)}domAtPos(t){return t==0?Pe.before(this.dom):Pe.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let i=new Sr(this.widget,e,this.type);return i.breakAfter=this.breakAfter,i}get children(){return mu}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Vt.empty}domBoundsAround(){return null}become(t){return t instanceof Sr&&t.type==this.type&&t.widget.constructor==this.widget.constructor?(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.breakAfter=t.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){return this.widget.coordsAt(this.dom,t,e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class yu{constructor(t,e,i,r){this.doc=t,this.pos=e,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!t.breakAfter&&!(t instanceof Sr&&t.type==Gt.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Je),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(ml(new ps(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(t,e,i){for(;t>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}else this.text=o,this.textOff=0}let r=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-i)),this.getLine().append(ml(new Tr(this.text.slice(this.textOff,this.textOff+r)),e),i),this.atCursorPos=!0,this.textOff+=r,t-=r,i=0}}span(t,e,i,r){this.buildText(e-t,i,r),this.pos=e,this.openStart<0&&(this.openStart=r)}point(t,e,i,r,o,s){if(this.disallowBlockEffectsFor[s]&&i instanceof Mr){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=e-t;if(i instanceof Mr)if(i.block){let{type:a}=i;a==Gt.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Sr(i.widget||new qd("div"),l,a))}else{let a=Ii.create(i.widget||new qd("span"),l,l?0:i.startSide),c=this.atCursorPos&&!a.isEditable&&o<=r.length&&(t<e||i.startSide>0),h=!a.isEditable&&(t<e||o>r.length||i.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!c&&!a.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(f.append(ml(new ps(1),r),o),o=r.length+Math.max(0,o-r.length)),f.append(ml(a,r),o),this.atCursorPos=h,this.pendingBuffer=h?t<e||o>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=o)}static build(t,e,i,r,o){let s=new yu(t,e,i,o);return s.openEnd=$t.spans(r,e,i,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function ml(n,t){for(let e of t)n=new ui(e,[n],n.length);return n}class qd extends vi{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const ov=st.define(),lv=st.define(),av=st.define(),cv=st.define(),of=st.define(),hv=st.define(),fv=st.define(),uv=st.define({combine:n=>n.some(t=>t)}),dv=st.define({combine:n=>n.some(t=>t)});class ya{constructor(t,e="nearest",i="nearest",r=5,o=5){this.range=t,this.y=e,this.x=i,this.yMargin=r,this.xMargin=o}map(t){return t.empty?this:new ya(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin)}}const _d=At.define({map:(n,t)=>n.map(t)});function kn(n,t,e){let i=n.facet(cv);i.length?i[0](t):window.onerror?window.onerror(String(t),e,void 0,void 0,t):e?console.error(e+":",t):console.error(t)}const fc=st.define({combine:n=>n.length?n[0]:!0});let wC=0;const zs=st.define();class be{constructor(t,e,i,r){this.id=t,this.create=e,this.domEventHandlers=i,this.extension=r(this)}static define(t,e){const{eventHandlers:i,provide:r,decorations:o}=e||{};return new be(wC++,t,i,s=>{let l=[zs.of(s)];return o&&l.push(Co.of(a=>{let c=a.plugin(s);return c?o(c):ut.none})),r&&l.push(r(s)),l})}static fromClass(t,e){return be.define(i=>new t(i),e)}}class Kc{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(i){if(kn(e.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){kn(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(!((e=this.value)===null||e===void 0)&&e.destroy)try{this.value.destroy()}catch(i){kn(t.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const pv=st.define(),bu=st.define(),Co=st.define(),gv=st.define(),mv=st.define(),Ks=st.define();class Zn{constructor(t,e,i,r){this.fromA=t,this.toA=e,this.fromB=i,this.toB=r}join(t){return new Zn(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,i=this;for(;e>0;e--){let r=t[e-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),t.splice(e-1,1)}}return t.splice(e,0,i),t}static extendWithRanges(t,e){if(e.length==0)return t;let i=[];for(let r=0,o=0,s=0,l=0;;r++){let a=r==t.length?null:t[r],c=s-l,h=a?a.fromB:1e9;for(;o<e.length&&e[o]<h;){let f=e[o],u=e[o+1],d=Math.max(l,f),p=Math.min(h,u);if(d<=p&&new Zn(d+c,p+c,d,p).addToSet(i),u>h)break;o+=2}if(!a)return i;new Zn(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),s=a.toA,l=a.toB}}}class ba{constructor(t,e,i){this.view=t,this.state=e,this.transactions=i,this.flags=0,this.startState=t.state,this.changes=xe.empty(this.startState.doc.length);for(let o of i)this.changes=this.changes.compose(o.changes);let r=[];this.changes.iterChangedRanges((o,s,l,a)=>r.push(new Zn(o,s,l,a))),this.changedRanges=r}static create(t,e,i){return new ba(t,e,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var le=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(le||(le={}));const lf=le.LTR,CC=le.RTL;function vv(n){let t=[];for(let e=0;e<n.length;e++)t.push(1<<+n[e]);return t}const OC=vv("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),AC=vv("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),af=Object.create(null),jn=[];for(let n of["()","[]","{}"]){let t=n.charCodeAt(0),e=n.charCodeAt(1);af[t]=e,af[e]=-t}function kC(n){return n<=247?OC[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?AC[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203?256:64336<=n&&n<=65023?4:n==8204?256:1}const EC=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class is{constructor(t,e,i){this.from=t,this.to=e,this.level=i}get dir(){return this.level%2?CC:lf}side(t,e){return this.dir==e==t?this.to:this.from}static find(t,e,i,r){let o=-1;for(let s=0;s<t.length;s++){let l=t[s];if(l.from<=e&&l.to>=e){if(l.level==i)return s;(o<0||(r!=0?r<0?l.from<e:l.to>e:t[o].level>l.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}const se=[];function TC(n,t){let e=n.length,i=t==lf?1:2,r=t==lf?2:1;if(!n||i==1&&!EC.test(n))return yv(e);for(let s=0,l=i,a=i;s<e;s++){let c=kC(n.charCodeAt(s));c==512?c=l:c==8&&a==4&&(c=16),se[s]=c==4?2:c,c&7&&(a=c),l=c}for(let s=0,l=i,a=i;s<e;s++){let c=se[s];if(c==128)s<e-1&&l==se[s+1]&&l&24?c=se[s]=l:se[s]=256;else if(c==64){let h=s+1;for(;h<e&&se[h]==64;)h++;let f=s&&l==8||h<e&&se[h]==8?a==1?1:8:256;for(let u=s;u<h;u++)se[u]=f;s=h-1}else c==8&&a==1&&(se[s]=1);l=c,c&7&&(a=c)}for(let s=0,l=0,a=0,c,h,f;s<e;s++)if(h=af[c=n.charCodeAt(s)])if(h<0){for(let u=l-3;u>=0;u-=3)if(jn[u+1]==-h){let d=jn[u+2],p=d&2?i:d&4?d&1?r:i:0;p&&(se[s]=se[jn[u]]=p),l=u;break}}else{if(jn.length==189)break;jn[l++]=s,jn[l++]=c,jn[l++]=a}else if((f=se[s])==2||f==1){let u=f==i;a=u?0:1;for(let d=l-3;d>=0;d-=3){let p=jn[d+2];if(p&2)break;if(u)jn[d+2]|=2;else{if(p&4)break;jn[d+2]|=4}}}for(let s=0;s<e;s++)if(se[s]==256){let l=s+1;for(;l<e&&se[l]==256;)l++;let a=(s?se[s-1]:i)==1,c=(l<e?se[l]:i)==1,h=a==c?a?1:2:i;for(let f=s;f<l;f++)se[f]=h;s=l-1}let o=[];if(i==1)for(let s=0;s<e;){let l=s,a=se[s++]!=1;for(;s<e&&a==(se[s]!=1);)s++;if(a)for(let c=s;c>l;){let h=c,f=se[--c]!=2;for(;c>l&&f==(se[c-1]!=2);)c--;o.push(new is(c,h,f?2:1))}else o.push(new is(l,s,0))}else for(let s=0;s<e;){let l=s,a=se[s++]==2;for(;s<e&&a==(se[s]==2);)s++;o.push(new is(l,s,a?1:2))}return o}function yv(n){return[new is(0,n,0)]}let bv="";function MC(n,t,e,i,r){var o;let s=i.head-n.from,l=-1;if(s==0){if(!r||!n.length)return null;t[0].level!=e&&(s=t[0].side(!1,e),l=0)}else if(s==n.length){if(r)return null;let u=t[t.length-1];u.level!=e&&(s=u.side(!0,e),l=t.length-1)}l<0&&(l=is.find(t,s,(o=i.bidiLevel)!==null&&o!==void 0?o:-1,i.assoc));let a=t[l];s==a.side(r,e)&&(a=t[l+=r?1:-1],s=a.side(!r,e));let c=r==(a.dir==e),h=Xe(n.text,s,c);if(bv=n.text.slice(Math.min(s,h),Math.max(s,h)),h!=a.side(r,e))return V.cursor(h+n.from,c?-1:1,a.level);let f=l==(r?t.length-1:0)?null:t[l+(r?1:-1)];return!f&&a.level!=e?V.cursor(r?n.to:n.from,r?-1:1,e):f&&f.level<a.level?V.cursor(f.side(!r,e)+n.from,r?1:-1,f.level):V.cursor(h+n.from,r?-1:1,a.level)}const Ri="";class xv{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Pt.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=Ri}readRange(t,e){if(!t)return this;let i=t.parentNode;for(let r=t;;){this.findPointBefore(i,r),this.readNode(r);let o=r.nextSibling;if(o==e)break;let s=Qt.get(r),l=Qt.get(o);(s&&l?s.breakAfter:(s?s.breakAfter:tp(r))||tp(o)&&(r.nodeName!="BR"||r.cmIgnore))&&this.lineBreak(),r=o}return this.findPointBefore(i,e),this}readTextNode(t){let e=t.nodeValue;for(let i of this.points)i.node==t&&(i.pos=this.text.length+Math.min(i.offset,e.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,l;if(this.lineSeparator?(o=e.indexOf(this.lineSeparator,i),s=this.lineSeparator.length):(l=r.exec(e))&&(o=l.index,s=l[0].length),this.append(e.slice(i,o<0?e.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let a of this.points)a.node==t&&a.pos>this.text.length&&(a.pos-=s-1);i=o+s}}readNode(t){if(t.cmIgnore)return;let e=Qt.get(t),i=e&&e.overrideDOMText;if(i!=null){this.findPointInside(t,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let i of this.points)i.node==t&&t.childNodes[i.offset]==e&&(i.pos=this.text.length)}findPointInside(t,e){for(let i of this.points)(t.nodeType==3?i.node==t:t.contains(i.node))&&(i.pos=this.text.length+Math.min(e,i.offset))}}function tp(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}class ep{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class np extends Qt{constructor(t){super(),this.view=t,this.compositionDeco=ut.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new Je],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Zn(0,0,0,t.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(t){let e=t.changedRanges;this.minWidth>0&&e.length&&(e.every(({fromA:s,toA:l})=>l<this.minWidthFrom||s>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=ut.none:(t.transactions.length||this.dirty)&&(this.compositionDeco=PC(this.view,t.changes)),(it.ie||it.chrome)&&!this.compositionDeco.size&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,r=this.updateDeco(),o=NC(i,r,t.changes);return e=Zn.extendWithRanges(e,o),this.dirty==0&&e.length==0?!1:(this.updateInner(e,t.startState.doc.length),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=it.chrome||it.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.dirty=0,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""});let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Sr&&o.widget instanceof ip&&r.push(o.dom);i.updateGaps(r)}updateChildren(t,e){let i=this.childCursor(e);for(let r=t.length-1;;r--){let o=r>=0?t[r]:null;if(!o)break;let{fromA:s,toA:l,fromB:a,toB:c}=o,{content:h,breakAtStart:f,openStart:u,openEnd:d}=yu.build(this.view.state.doc,a,c,this.decorations,this.dynamicDecorationMap),{i:p,off:g}=i.findPos(l,1),{i:y,off:v}=i.findPos(s,-1);X0(this,y,v,p,g,h,f,u,d)}}updateSelection(t=!1,e=!1){(t||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,r=i==this.dom,o=!r&&Kl(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(r||e||o))return;let s=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,a=this.domAtPos(l.anchor),c=l.empty?a:this.domAtPos(l.head);if(it.gecko&&l.empty&&!this.compositionDeco.size&&DC(a)){let f=document.createTextNode("");this.view.observer.ignore(()=>a.node.insertBefore(f,a.node.childNodes[a.offset]||null)),a=c=new Pe(f,0),s=!0}let h=this.view.observer.selectionRange;(s||!h.focusNode||!ma(a.node,a.offset,h.anchorNode,h.anchorOffset)||!ma(c.node,c.offset,h.focusNode,h.focusOffset))&&(this.view.observer.ignore(()=>{it.android&&it.chrome&&this.dom.contains(h.focusNode)&&BC(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=ga(this.view.root);if(f)if(l.empty){if(it.gecko){let u=RC(a.node,a.offset);if(u&&u!=3){let d=wv(a.node,a.offset,u==1?1:-1);d&&(a=new Pe(d,u==1?0:d.nodeValue.length))}}f.collapse(a.node,a.offset),l.bidiLevel!=null&&h.cursorBidiLevel!=null&&(h.cursorBidiLevel=l.bidiLevel)}else if(f.extend){f.collapse(a.node,a.offset);try{f.extend(c.node,c.offset)}catch{}}else{let u=document.createRange();l.anchor>l.head&&([a,c]=[c,a]),u.setEnd(c.node,c.offset),u.setStart(a.node,a.offset),f.removeAllRanges(),f.addRange(u)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(a,c)),this.impreciseAnchor=a.precise?null:new Pe(h.anchorNode,h.anchorOffset),this.impreciseHead=c.precise?null:new Pe(h.focusNode,h.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:t}=this,e=t.state.selection.main,i=ga(t.root),{anchorNode:r,anchorOffset:o}=t.observer.selectionRange;if(!i||!e.empty||!e.assoc||!i.modify)return;let s=Je.find(this,e.head);if(!s)return;let l=s.posAtStart;if(e.head==l||e.head==l+s.length)return;let a=this.coordsAt(e.head,-1),c=this.coordsAt(e.head,1);if(!a||!c||a.bottom>c.top)return;let h=this.domAtPos(e.head+e.assoc);i.collapse(h.node,h.offset),i.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let f=t.observer.selectionRange;t.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=e.from&&i.collapse(r,o)}nearest(t){for(let e=t;e;){let i=Qt.get(e);if(i&&i.rootView==this)return i;e=e.parentNode}return null}posFromDOM(t,e){let i=this.nearest(t);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(t,e)+i.posAtStart}domAtPos(t){let{i:e,off:i}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let r=this.children[e];if(i<r.length||r instanceof Je)break;e++,i=0}return this.children[e].domAtPos(i)}coordsAt(t,e){for(let i=this.length,r=this.children.length-1;;r--){let o=this.children[r],s=i-o.breakAfter-o.length;if(t>s||t==s&&o.type!=Gt.WidgetBefore&&o.type!=Gt.WidgetAfter&&(!r||e==2||this.children[r-1].breakAfter||this.children[r-1].type==Gt.WidgetBefore&&e>-2))return o.coordsAt(t-s,e);i=s}}measureVisibleLineHeights(t){let e=[],{from:i,to:r}=t,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==le.LTR;for(let c=0,h=0;h<this.children.length;h++){let f=this.children[h],u=c+f.length;if(u>r)break;if(c>=i){let d=f.dom.getBoundingClientRect();if(e.push(d.height),s){let p=f.dom.lastChild,g=p?us(p):[];if(g.length){let y=g[g.length-1],v=a?y.right-d.left:d.right-y.left;v>l&&(l=v,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=u)}}}c=u+f.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return getComputedStyle(this.children[e].dom).direction=="rtl"?le.RTL:le.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Je){let s=o.measureTextSize();if(s)return s}let t=document.createElement("div"),e,i,r;return t.className="cm-line",t.style.width="99999px",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(t);let o=us(t.firstChild)[0];e=t.getBoundingClientRect().height,i=o?o.width/27:7,r=o?o.height:e,t.remove()}),{lineHeight:e,charWidth:i,textHeight:r}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new Y0(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let i=0,r=0;;r++){let o=r==e.viewports.length?null:e.viewports[r],s=o?o.from-1:this.length;if(s>i){let l=e.lineBlockAt(s).bottom-e.lineBlockAt(i).top;t.push(ut.replace({widget:new ip(l),block:!0,inclusive:!0,isBlockGap:!0}).range(i,s))}if(!o)break;i=o.to+1}return ut.set(t)}updateDeco(){let t=this.view.state.facet(Co).map((e,i)=>(this.dynamicDecorationMap[i]=typeof e=="function")?e(this.view):e);for(let e=t.length;e<t.length+3;e++)this.dynamicDecorationMap[e]=!1;return this.decorations=[...t,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(t){let{range:e}=t,i=this.coordsAt(e.head,e.empty?e.assoc:e.head>e.anchor?-1:1),r;if(!i)return;!e.empty&&(r=this.coordsAt(e.anchor,e.anchor>e.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let o=0,s=0,l=0,a=0;for(let h of this.view.state.facet(mv).map(f=>f(this.view)))if(h){let{left:f,right:u,top:d,bottom:p}=h;f!=null&&(o=Math.max(o,f)),u!=null&&(s=Math.max(s,u)),d!=null&&(l=Math.max(l,d)),p!=null&&(a=Math.max(a,p))}let c={left:i.left-o,top:i.top-l,right:i.right+s,bottom:i.bottom+a};pC(this.view.scrollDOM,c,e.head<e.anchor?-1:1,t.x,t.y,t.xMargin,t.yMargin,this.view.textDirection==le.LTR)}}function DC(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}class ip extends vi{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Sv(n){let t=n.observer.selectionRange,e=t.focusNode&&wv(t.focusNode,t.focusOffset,0);if(!e)return null;let i=n.docView.nearest(e);if(!i)return null;if(i instanceof Je){let r=e;for(;r.parentNode!=i.dom;)r=r.parentNode;let o=r.previousSibling;for(;o&&!Qt.get(o);)o=o.previousSibling;let s=o?Qt.get(o).posAtEnd:i.posAtStart;return{from:s,to:s,node:r,text:e}}else{for(;;){let{parent:o}=i;if(!o)return null;if(o instanceof Je)break;i=o}let r=i.posAtStart;return{from:r,to:r+i.length,node:i.dom,text:e}}}function PC(n,t){let e=Sv(n);if(!e)return ut.none;let{from:i,to:r,node:o,text:s}=e,l=t.mapPos(i,1),a=Math.max(l,t.mapPos(r,-1)),{state:c}=n,h=o.nodeType==3?o.nodeValue:new xv([],c).readRange(o.firstChild,null).text;if(a-l<h.length)if(c.doc.sliceString(l,Math.min(c.doc.length,l+h.length),Ri)==h)a=l+h.length;else if(c.doc.sliceString(Math.max(0,a-h.length),a,Ri)==h)l=a-h.length;else return ut.none;else if(c.doc.sliceString(l,a,Ri)!=h)return ut.none;let f=Qt.get(o);return f instanceof q0?f=f.widget.topView:f&&(f.parent=null),ut.set(ut.replace({widget:new IC(o,s,f),inclusive:!0}).range(l,a))}class IC extends vi{constructor(t,e,i){super(),this.top=t,this.text=e,this.topView=i}eq(t){return this.top==t.top&&this.text==t.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return q0}}function wv(n,t,e){if(e<=0)for(let i=n,r=t;;){if(i.nodeType==3)return i;if(i.nodeType==1&&r>0)i=i.childNodes[r-1],r=wo(i);else break}if(e>=0)for(let i=n,r=t;;){if(i.nodeType==3)return i;if(i.nodeType==1&&r<i.childNodes.length&&e>=0)i=i.childNodes[r],r=0;else break}return null}function RC(n,t){return n.nodeType!=1?0:(t&&n.childNodes[t-1].contentEditable=="false"?1:0)|(t<n.childNodes.length&&n.childNodes[t].contentEditable=="false"?2:0)}class LC{constructor(){this.changes=[]}compareRange(t,e){sf(t,e,this.changes)}comparePoint(t,e){sf(t,e,this.changes)}}function NC(n,t,e){let i=new LC;return $t.compare(n,t,e,i),i.changes}function BC(n,t){for(let e=n;e&&e!=t;e=e.assignedSlot||e.parentNode)if(e.nodeType==1&&e.contentEditable=="false")return!0;return!1}function FC(n,t,e=1){let i=n.charCategorizer(t),r=n.doc.lineAt(t),o=t-r.from;if(r.length==0)return V.cursor(t);o==0?e=1:o==r.length&&(e=-1);let s=o,l=o;e<0?s=Xe(r.text,o,!1):l=Xe(r.text,o);let a=i(r.text.slice(s,l));for(;s>0;){let c=Xe(r.text,s,!1);if(i(r.text.slice(c,s))!=a)break;s=c}for(;l<r.length;){let c=Xe(r.text,l);if(i(r.text.slice(l,c))!=a)break;l=c}return V.range(s+r.from,l+r.from)}function HC(n,t){return t.left>n?t.left-n:Math.max(0,n-t.right)}function jC(n,t){return t.top>n?t.top-n:Math.max(0,n-t.bottom)}function Gc(n,t){return n.top<t.bottom-1&&n.bottom>t.top+1}function rp(n,t){return t<n.top?{top:t,left:n.left,right:n.right,bottom:n.bottom}:n}function sp(n,t){return t>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:t}:n}function cf(n,t,e){let i,r,o,s,l=!1,a,c,h,f;for(let p=n.firstChild;p;p=p.nextSibling){let g=us(p);for(let y=0;y<g.length;y++){let v=g[y];r&&Gc(r,v)&&(v=rp(sp(v,r.bottom),r.top));let m=HC(t,v),b=jC(e,v);if(m==0&&b==0)return p.nodeType==3?op(p,t,e):cf(p,t,e);if(!i||s>b||s==b&&o>m){i=p,r=v,o=m,s=b;let x=b?e<v.top?-1:1:m?t<v.left?-1:1:0;l=!x||(x>0?y<g.length-1:y>0)}m==0?e>v.bottom&&(!h||h.bottom<v.bottom)?(a=p,h=v):e<v.top&&(!f||f.top>v.top)&&(c=p,f=v):h&&Gc(h,v)?h=sp(h,v.bottom):f&&Gc(f,v)&&(f=rp(f,v.top))}}if(h&&h.bottom>=e?(i=a,r=h):f&&f.top<=e&&(i=c,r=f),!i)return{node:n,offset:0};let u=Math.max(r.left,Math.min(r.right,t));if(i.nodeType==3)return op(i,u,e);if(l&&i.contentEditable!="false")return cf(i,u,e);let d=Array.prototype.indexOf.call(n.childNodes,i)+(t>=(r.left+r.right)/2?1:0);return{node:n,offset:d}}function op(n,t,e){let i=n.nodeValue.length,r=-1,o=1e9,s=0;for(let l=0;l<i;l++){let a=ds(n,l,l+1).getClientRects();for(let c=0;c<a.length;c++){let h=a[c];if(h.top==h.bottom)continue;s||(s=t-h.left);let f=(h.top>e?h.top-e:e-h.bottom)-1;if(h.left-1<=t&&h.right+1>=t&&f<o){let u=t>=(h.left+h.right)/2,d=u;if((it.chrome||it.gecko)&&ds(n,l).getBoundingClientRect().left==h.right&&(d=!u),f<=0)return{node:n,offset:l+(d?1:0)};r=l+(d?1:0),o=f}}}return{node:n,offset:r>-1?r:s>0?n.nodeValue.length:0}}function Cv(n,t,e,i=-1){var r,o;let s=n.contentDOM.getBoundingClientRect(),l=s.top+n.viewState.paddingTop,a,{docHeight:c}=n.viewState,{x:h,y:f}=t,u=f-l;if(u<0)return 0;if(u>c)return n.state.doc.length;for(let x=n.defaultLineHeight/2,S=!1;a=n.elementAtHeight(u),a.type!=Gt.Text;)for(;u=i>0?a.bottom+x:a.top-x,!(u>=0&&u<=c);){if(S)return e?null:0;S=!0,i=-i}f=l+u;let d=a.from;if(d<n.viewport.from)return n.viewport.from==0?0:e?null:lp(n,s,a,h,f);if(d>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:e?null:lp(n,s,a,h,f);let p=n.dom.ownerDocument,g=n.root.elementFromPoint?n.root:p,y=g.elementFromPoint(h,f);y&&!n.contentDOM.contains(y)&&(y=null),y||(h=Math.max(s.left+1,Math.min(s.right-1,h)),y=g.elementFromPoint(h,f),y&&!n.contentDOM.contains(y)&&(y=null));let v,m=-1;if(y&&((r=n.docView.nearest(y))===null||r===void 0?void 0:r.isEditable)!=!1){if(p.caretPositionFromPoint){let x=p.caretPositionFromPoint(h,f);x&&({offsetNode:v,offset:m}=x)}else if(p.caretRangeFromPoint){let x=p.caretRangeFromPoint(h,f);x&&({startContainer:v,startOffset:m}=x,(!n.contentDOM.contains(v)||it.safari&&VC(v,m,h)||it.chrome&&$C(v,m,h))&&(v=void 0))}}if(!v||!n.docView.dom.contains(v)){let x=Je.find(n.docView,d);if(!x)return u>a.top+a.height/2?a.to:a.from;({node:v,offset:m}=cf(x.dom,h,f))}let b=n.docView.nearest(v);if(!b)return null;if(b.isWidget&&((o=b.dom)===null||o===void 0?void 0:o.nodeType)==1){let x=b.dom.getBoundingClientRect();return t.y<x.top||t.y<=x.bottom&&t.x<=(x.left+x.right)/2?b.posAtStart:b.posAtEnd}else return b.localPosFromDOM(v,m)+b.posAtStart}function lp(n,t,e,i,r){let o=Math.round((i-t.left)*n.defaultCharacterWidth);if(n.lineWrapping&&e.height>n.defaultLineHeight*1.5){let l=Math.floor((r-e.top)/n.defaultLineHeight);o+=l*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(e.from,e.to);return e.from+Xh(s,o,n.state.tabSize)}function VC(n,t,e){let i;if(n.nodeType!=3||t!=(i=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return ds(n,i-1,i).getBoundingClientRect().left>e}function $C(n,t,e){if(t!=0)return!1;for(let r=n;;){let o=r.parentNode;if(!o||o.nodeType!=1||o.firstChild!=r)return!1;if(o.classList.contains("cm-line"))break;r=o}let i=n.nodeType==1?n.getBoundingClientRect():ds(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return e-i.left>5}function WC(n,t,e,i){let r=n.state.doc.lineAt(t.head),o=!i||!n.lineWrapping?null:n.coordsAtPos(t.assoc<0&&t.head>r.from?t.head-1:t.head);if(o){let a=n.dom.getBoundingClientRect(),c=n.textDirectionAt(r.from),h=n.posAtCoords({x:e==(c==le.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(h!=null)return V.cursor(h,e?-1:1)}let s=Je.find(n.docView,t.head),l=s?e?s.posAtEnd:s.posAtStart:e?r.to:r.from;return V.cursor(l,e?-1:1)}function ap(n,t,e,i){let r=n.state.doc.lineAt(t.head),o=n.bidiSpans(r),s=n.textDirectionAt(r.from);for(let l=t,a=null;;){let c=MC(r,o,s,l,e),h=bv;if(!c){if(r.number==(e?n.state.doc.lines:1))return l;h=`
`,r=n.state.doc.line(r.number+(e?1:-1)),o=n.bidiSpans(r),c=V.cursor(e?r.from:r.to)}if(a){if(!a(h))return l}else{if(!i)return c;a=i(h)}l=c}}function UC(n,t,e){let i=n.state.charCategorizer(t),r=i(e);return o=>{let s=i(o);return r==ne.Space&&(r=s),r==s}}function zC(n,t,e,i){let r=t.head,o=e?1:-1;if(r==(e?n.state.doc.length:0))return V.cursor(r,t.assoc);let s=t.goalColumn,l,a=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(r),h=n.documentTop;if(c)s==null&&(s=c.left-a.left),l=o<0?c.top:c.bottom;else{let d=n.viewState.lineBlockAt(r);s==null&&(s=Math.min(a.right-a.left,n.defaultCharacterWidth*(r-d.from))),l=(o<0?d.top:d.bottom)+h}let f=a.left+s,u=i??n.defaultLineHeight>>1;for(let d=0;;d+=10){let p=l+(u+d)*o,g=Cv(n,{x:f,y:p},!1,o);if(p<a.top||p>a.bottom||(o<0?g<r:g>r))return V.cursor(g,t.assoc,void 0,s)}}function Yc(n,t,e){let i=n.state.facet(gv).map(r=>r(n));for(;;){let r=!1;for(let o of i)o.between(e.from-1,e.from+1,(s,l,a)=>{e.from>s&&e.from<l&&(e=t.head>e.from?V.cursor(s,1):V.cursor(l,-1),r=!0)});if(!r)return e}}class KC{constructor(t){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let e=(i,r)=>{this.ignoreDuringComposition(r)||r.type=="keydown"&&this.keydown(t,r)||(this.mustFlushObserver(r)&&t.observer.forceFlush(),this.runCustomHandlers(r.type,t,r)?r.preventDefault():i(t,r))};for(let i in ve){let r=ve[i];t.contentDOM.addEventListener(i,o=>{cp(t,o)&&e(r,o)},hf[i]),this.registeredEvents.push(i)}t.scrollDOM.addEventListener("mousedown",i=>{if(i.target==t.scrollDOM&&i.clientY>t.contentDOM.getBoundingClientRect().bottom&&(e(ve.mousedown,i),!i.defaultPrevented&&i.button==2)){let r=t.contentDOM.style.minHeight;t.contentDOM.style.minHeight="100%",setTimeout(()=>t.contentDOM.style.minHeight=r,200)}}),t.scrollDOM.addEventListener("drop",i=>{i.target==t.scrollDOM&&i.clientY>t.contentDOM.getBoundingClientRect().bottom&&e(ve.drop,i)}),it.chrome&&it.chrome_version==102&&t.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?t.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,t.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=t.hasFocus,it.safari&&t.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}ensureHandlers(t,e){var i;let r;this.customHandlers=[];for(let o of e)if(r=(i=o.update(t).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:o.value,handlers:r});for(let s in r)this.registeredEvents.indexOf(s)<0&&s!="scroll"&&(this.registeredEvents.push(s),t.contentDOM.addEventListener(s,l=>{cp(t,l)&&this.runCustomHandlers(s,t,l)&&l.preventDefault()}))}}runCustomHandlers(t,e,i){for(let r of this.customHandlers){let o=r.handlers[t];if(o)try{if(o.call(r.plugin,i,e)||i.defaultPrevented)return!0}catch(s){kn(e.state,s)}}return!1}runScrollHandlers(t,e){this.lastScrollTop=t.scrollDOM.scrollTop,this.lastScrollLeft=t.scrollDOM.scrollLeft;for(let i of this.customHandlers){let r=i.handlers.scroll;if(r)try{r.call(i.plugin,e,t)}catch(o){kn(t.state,o)}}}keydown(t,e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(e.keyCode!=27&&Av.indexOf(e.keyCode)<0&&(t.inputState.lastEscPress=0),it.android&&it.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return t.observer.delayAndroidKey(e.key,e.keyCode),!0;let i;return it.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((i=Ov.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||GC.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=i||e,setTimeout(()=>this.flushIOSKey(t),250),!0):!1}flushIOSKey(t){let e=this.pendingIOSKey;return e?(this.pendingIOSKey=void 0,ns(t.contentDOM,e.key,e.keyCode)):!1}ignoreDuringComposition(t){return/^key/.test(t.type)?this.composing>0?!0:it.safari&&!it.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}mustFlushObserver(t){return t.type=="keydown"&&t.keyCode!=229}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.mouseSelection&&this.mouseSelection.update(t),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Ov=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],GC="dthko",Av=[16,17,18,20,91,92,224,225],vl=6;function yl(n){return Math.max(0,n)*.7+8}class YC{constructor(t,e,i,r){this.view=t,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParent=gC(t.contentDOM);let o=t.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Pt.allowMultipleSelections)&&XC(t,e),this.dragMove=JC(t,e),this.dragging=QC(t,e)&&Mv(e)==1?null:!1}start(t){this.dragging===!1&&(t.preventDefault(),this.select(t))}move(t){var e;if(t.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=t);let i=0,r=0,o=((e=this.scrollParent)===null||e===void 0?void 0:e.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};t.clientX<=o.left+vl?i=-yl(o.left-t.clientX):t.clientX>=o.right-vl&&(i=yl(t.clientX-o.right)),t.clientY<=o.top+vl?r=-yl(o.top-t.clientY):t.clientY>=o.bottom-vl&&(r=yl(t.clientY-o.bottom)),this.setScrollSpeed(i,r)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}select(t){let e=this.style.get(t,this.extend,this.multiple);(this.mustSelect||!e.eq(this.view.state.selection)||e.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:e,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.docChanged&&this.dragging&&(this.dragging=this.dragging.map(t.changes)),this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}}function XC(n,t){let e=n.state.facet(ov);return e.length?e[0](t):it.mac?t.metaKey:t.ctrlKey}function JC(n,t){let e=n.state.facet(lv);return e.length?e[0](t):it.mac?!t.altKey:!t.ctrlKey}function QC(n,t){let{main:e}=n.state.selection;if(e.empty)return!1;let i=ga(n.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let o=0;o<r.length;o++){let s=r[o];if(s.left<=t.clientX&&s.right>=t.clientX&&s.top<=t.clientY&&s.bottom>=t.clientY)return!0}return!1}function cp(n,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target,i;e!=n.contentDOM;e=e.parentNode)if(!e||e.nodeType==11||(i=Qt.get(e))&&i.ignoreEvent(t))return!1;return!0}const ve=Object.create(null),hf=Object.create(null),kv=it.ie&&it.ie_version<15||it.ios&&it.webkit_version<604;function ZC(n){let t=n.dom.parentNode;if(!t)return;let e=t.appendChild(document.createElement("textarea"));e.style.cssText="position: fixed; left: -10000px; top: 10px",e.focus(),setTimeout(()=>{n.focus(),e.remove(),Ev(n,e.value)},50)}function Ev(n,t){let{state:e}=n,i,r=1,o=e.toText(t),s=o.lines==e.selection.ranges.length;if(ff!=null&&e.selection.ranges.every(a=>a.empty)&&ff==o.toString()){let a=-1;i=e.changeByRange(c=>{let h=e.doc.lineAt(c.from);if(h.from==a)return{range:c};a=h.from;let f=e.toText((s?o.line(r++).text:t)+e.lineBreak);return{changes:{from:h.from,insert:f},range:V.cursor(c.from+f.length)}})}else s?i=e.changeByRange(a=>{let c=o.line(r++);return{changes:{from:a.from,to:a.to,insert:c.text},range:V.cursor(a.from+c.length)}}):i=e.replaceSelection(o);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}ve.keydown=(n,t)=>{n.inputState.setSelectionOrigin("select"),t.keyCode==27&&(n.inputState.lastEscPress=Date.now())};ve.touchstart=(n,t)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};ve.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};hf.touchstart=hf.touchmove={passive:!0};ve.mousedown=(n,t)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return;let e=null;for(let i of n.state.facet(av))if(e=i(n,t),e)break;if(!e&&t.button==0&&(e=tO(n,t)),e){let i=n.root.activeElement!=n.contentDOM;n.inputState.startMouseSelection(new YC(n,t,e,i)),i&&n.observer.ignore(()=>K0(n.contentDOM)),n.inputState.mouseSelection&&n.inputState.mouseSelection.start(t)}};function hp(n,t,e,i){if(i==1)return V.cursor(t,e);if(i==2)return FC(n.state,t,e);{let r=Je.find(n.docView,t),o=n.state.doc.lineAt(r?r.posAtEnd:t),s=r?r.posAtStart:o.from,l=r?r.posAtEnd:o.to;return l<n.state.doc.length&&l==o.to&&l++,V.range(s,l)}}let Tv=(n,t)=>n>=t.top&&n<=t.bottom,fp=(n,t,e)=>Tv(t,e)&&n>=e.left&&n<=e.right;function qC(n,t,e,i){let r=Je.find(n.docView,t);if(!r)return 1;let o=t-r.posAtStart;if(o==0)return 1;if(o==r.length)return-1;let s=r.coordsAt(o,-1);if(s&&fp(e,i,s))return-1;let l=r.coordsAt(o,1);return l&&fp(e,i,l)?1:s&&Tv(i,s)?-1:1}function up(n,t){let e=n.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:e,bias:qC(n,e,t.clientX,t.clientY)}}const _C=it.ie&&it.ie_version<=11;let dp=null,pp=0,gp=0;function Mv(n){if(!_C)return n.detail;let t=dp,e=gp;return dp=n,gp=Date.now(),pp=!t||e>Date.now()-400&&Math.abs(t.clientX-n.clientX)<2&&Math.abs(t.clientY-n.clientY)<2?(pp+1)%3:1}function tO(n,t){let e=up(n,t),i=Mv(t),r=n.state.selection;return{update(o){o.docChanged&&(e.pos=o.changes.mapPos(e.pos),r=r.map(o.changes))},get(o,s,l){let a=up(n,o),c,h=hp(n,a.pos,a.bias,i);if(e.pos!=a.pos&&!s){let f=hp(n,e.pos,e.bias,i),u=Math.min(f.from,h.from),d=Math.max(f.to,h.to);h=u<h.from?V.range(u,d):V.range(d,u)}return s?r.replaceRange(r.main.extend(h.from,h.to)):l&&i==1&&r.ranges.length>1&&(c=eO(r,a.pos))?c:l?r.addRange(h):V.create([h])}}}function eO(n,t){for(let e=0;e<n.ranges.length;e++){let{from:i,to:r}=n.ranges[e];if(i<=t&&r>=t)return V.create(n.ranges.slice(0,e).concat(n.ranges.slice(e+1)),n.mainIndex==e?0:n.mainIndex-(n.mainIndex>e?1:0))}return null}ve.dragstart=(n,t)=>{let{selection:{main:e}}=n.state,{mouseSelection:i}=n.inputState;i&&(i.dragging=e),t.dataTransfer&&(t.dataTransfer.setData("Text",n.state.sliceDoc(e.from,e.to)),t.dataTransfer.effectAllowed="copyMove")};function mp(n,t,e,i){if(!e)return;let r=n.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();let{mouseSelection:o}=n.inputState,s=i&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,l={from:r,insert:e},a=n.state.changes(s?[s,l]:l);n.focus(),n.dispatch({changes:a,selection:{anchor:a.mapPos(r,-1),head:a.mapPos(r,1)},userEvent:s?"move.drop":"input.drop"})}ve.drop=(n,t)=>{if(!t.dataTransfer)return;if(n.state.readOnly)return t.preventDefault();let e=t.dataTransfer.files;if(e&&e.length){t.preventDefault();let i=Array(e.length),r=0,o=()=>{++r==e.length&&mp(n,t,i.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<e.length;s++){let l=new FileReader;l.onerror=o,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(i[s]=l.result),o()},l.readAsText(e[s])}}else mp(n,t,t.dataTransfer.getData("Text"),!0)};ve.paste=(n,t)=>{if(n.state.readOnly)return t.preventDefault();n.observer.flush();let e=kv?null:t.clipboardData;e?(Ev(n,e.getData("text/plain")||e.getData("text/uri-text")),t.preventDefault()):ZC(n)};function nO(n,t){let e=n.dom.parentNode;if(!e)return;let i=e.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=t,i.focus(),i.selectionEnd=t.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function iO(n){let t=[],e=[],i=!1;for(let r of n.selection.ranges)r.empty||(t.push(n.sliceDoc(r.from,r.to)),e.push(r));if(!t.length){let r=-1;for(let{from:o}of n.selection.ranges){let s=n.doc.lineAt(o);s.number>r&&(t.push(s.text),e.push({from:s.from,to:Math.min(n.doc.length,s.to+1)})),r=s.number}i=!0}return{text:t.join(n.lineBreak),ranges:e,linewise:i}}let ff=null;ve.copy=ve.cut=(n,t)=>{let{text:e,ranges:i,linewise:r}=iO(n.state);if(!e&&!r)return;ff=r?e:null;let o=kv?null:t.clipboardData;o?(t.preventDefault(),o.clearData(),o.setData("text/plain",e)):nO(n,e),t.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};const Dv=mi.define();function Pv(n,t){let e=[];for(let i of n.facet(fv)){let r=i(n,t);r&&e.push(r)}return e?n.update({effects:e,annotations:Dv.of(!0)}):null}function Iv(n){setTimeout(()=>{let t=n.hasFocus;if(t!=n.inputState.notifiedFocused){let e=Pv(n.state,t);e?n.dispatch(e):n.update([])}},10)}ve.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),Iv(n)};ve.blur=n=>{n.observer.clearSelectionRange(),Iv(n)};ve.compositionstart=ve.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0)};ve.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,it.chrome&&it.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.compositionDeco.size&&n.update([])},50)};ve.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};ve.beforeinput=(n,t)=>{var e;let i;if(it.chrome&&it.android&&(i=Ov.find(r=>r.inputType==t.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((e=window.visualViewport)===null||e===void 0?void 0:e.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>r+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const vp=["pre-wrap","normal","pre-line","break-spaces"];class rO{constructor(t){this.lineWrapping=t,this.doc=Vt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let i=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((e-t-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return vp.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let i=0;i<t.length;i++){let r=t[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(e=!0,this.heightSamples[Math.floor(r*10)]=!0)}return e}refresh(t,e,i,r,o,s){let l=vp.indexOf(t)>-1,a=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=e,this.charWidth=i,this.textHeight=r,this.lineLength=o,a){this.heightSamples={};for(let c=0;c<s.length;c++){let h=s[c];h<0?c++:this.heightSamples[Math.floor(h*10)]=!0}}return a}}class sO{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class li{constructor(t,e,i,r,o){this.from=t,this.length=e,this.top=i,this.height=r,this.type=o}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(t){let e=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(t.type)?t.type:[t]);return new li(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var Zt=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Zt||(Zt={}));const Gl=.001;class Qe{constructor(t,e,i=2){this.length=t,this.height=e,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(t){this.flags=(t?2:0)|this.flags&-3}setHeight(t,e){this.height!=e&&(Math.abs(this.height-e)>Gl&&(t.heightChanged=!0),this.height=e)}replace(t,e,i){return Qe.of(i)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,i,r){let o=this,s=i.doc;for(let l=r.length-1;l>=0;l--){let{fromA:a,toA:c,fromB:h,toB:f}=r[l],u=o.lineAt(a,Zt.ByPosNoHeight,i.setDoc(e),0,0),d=u.to>=c?u:o.lineAt(c,Zt.ByPosNoHeight,i,0,0);for(f+=d.to-c,c=d.to;l>0&&u.from<=r[l-1].toA;)a=r[l-1].fromA,h=r[l-1].fromB,l--,a<u.from&&(u=o.lineAt(a,Zt.ByPosNoHeight,i,0,0));h+=u.from-a,a=u.from;let p=xu.build(i.setDoc(s),t,h,f);o=o.replace(a,c,p)}return o.updateHeight(i,0)}static empty(){return new pn(0,0)}static of(t){if(t.length==1)return t[0];let e=0,i=t.length,r=0,o=0;for(;;)if(e==i)if(r>o*2){let l=t[e-1];l.break?t.splice(--e,1,l.left,null,l.right):t.splice(--e,1,l.left,l.right),i+=1+l.break,r-=l.size}else if(o>r*2){let l=t[i];l.break?t.splice(i,1,l.left,null,l.right):t.splice(i,1,l.left,l.right),i+=2+l.break,o-=l.size}else break;else if(r<o){let l=t[e++];l&&(r+=l.size)}else{let l=t[--i];l&&(o+=l.size)}let s=0;return t[e-1]==null?(s=1,e--):t[e]==null&&(s=1,i++),new oO(Qe.of(t.slice(0,e)),s,Qe.of(t.slice(i)))}}Qe.prototype.size=1;class Rv extends Qe{constructor(t,e,i){super(t,e),this.type=i}blockAt(t,e,i,r){return new li(r,this.length,i,this.height,this.type)}lineAt(t,e,i,r,o){return this.blockAt(0,i,r,o)}forEachLine(t,e,i,r,o,s){t<=o+this.length&&e>=o&&s(this.blockAt(0,i,r,o))}updateHeight(t,e=0,i=!1,r){return r&&r.from<=e&&r.more&&this.setHeight(t,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class pn extends Rv{constructor(t,e){super(t,e,Gt.Text),this.collapsed=0,this.widgetHeight=0}replace(t,e,i){let r=i[0];return i.length==1&&(r instanceof pn||r instanceof ke&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof ke?r=new pn(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Qe.of(i)}updateHeight(t,e=0,i=!1,r){return r&&r.from<=e&&r.more?this.setHeight(t,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ke extends Qe{constructor(t){super(t,0)}heightMetrics(t,e){let i=t.doc.lineAt(e).number,r=t.doc.lineAt(e+this.length).number,o=r-i+1,s,l=0;if(t.lineWrapping){let a=Math.min(this.height,t.lineHeight*o);s=a/o,this.length>o+1&&(l=(this.height-a)/(this.length-o-1))}else s=this.height/o;return{firstLine:i,lastLine:r,perLine:s,perChar:l}}blockAt(t,e,i,r){let{firstLine:o,lastLine:s,perLine:l,perChar:a}=this.heightMetrics(e,r);if(e.lineWrapping){let c=r+Math.round(Math.max(0,Math.min(1,(t-i)/this.height))*this.length),h=e.doc.lineAt(c),f=l+h.length*a,u=Math.max(i,t-f/2);return new li(h.from,h.length,u,f,Gt.Text)}else{let c=Math.max(0,Math.min(s-o,Math.floor((t-i)/l))),{from:h,length:f}=e.doc.line(o+c);return new li(h,f,i+l*c,l,Gt.Text)}}lineAt(t,e,i,r,o){if(e==Zt.ByHeight)return this.blockAt(t,i,r,o);if(e==Zt.ByPosNoHeight){let{from:d,to:p}=i.doc.lineAt(t);return new li(d,p-d,0,0,Gt.Text)}let{firstLine:s,perLine:l,perChar:a}=this.heightMetrics(i,o),c=i.doc.lineAt(t),h=l+c.length*a,f=c.number-s,u=r+l*f+a*(c.from-o-f);return new li(c.from,c.length,Math.max(r,Math.min(u,r+this.height-h)),h,Gt.Text)}forEachLine(t,e,i,r,o,s){t=Math.max(t,o),e=Math.min(e,o+this.length);let{firstLine:l,perLine:a,perChar:c}=this.heightMetrics(i,o);for(let h=t,f=r;h<=e;){let u=i.doc.lineAt(h);if(h==t){let p=u.number-l;f+=a*p+c*(t-o-p)}let d=a+c*u.length;s(new li(u.from,u.length,f,d,Gt.Text)),f+=d,h=u.to+1}}replace(t,e,i){let r=this.length-e;if(r>0){let o=i[i.length-1];o instanceof ke?i[i.length-1]=new ke(o.length+r):i.push(null,new ke(r-1))}if(t>0){let o=i[0];o instanceof ke?i[0]=new ke(t+o.length):i.unshift(new ke(t-1),null)}return Qe.of(i)}decomposeLeft(t,e){e.push(new ke(t-1),null)}decomposeRight(t,e){e.push(null,new ke(this.length-t-1))}updateHeight(t,e=0,i=!1,r){let o=e+this.length;if(r&&r.from<=e+this.length&&r.more){let s=[],l=Math.max(e,r.from),a=-1;for(r.from>e&&s.push(new ke(r.from-e-1).updateHeight(t,e));l<=o&&r.more;){let h=t.doc.lineAt(l).length;s.length&&s.push(null);let f=r.heights[r.index++];a==-1?a=f:Math.abs(f-a)>=Gl&&(a=-2);let u=new pn(h,f);u.outdated=!1,s.push(u),l+=h+1}l<=o&&s.push(null,new ke(o-l).updateHeight(t,l));let c=Qe.of(s);return(a<0||Math.abs(c.height-this.height)>=Gl||Math.abs(a-this.heightMetrics(t,e).perLine)>=Gl)&&(t.heightChanged=!0),c}else(i||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class oO extends Qe{constructor(t,e,i){super(t.length+e+i.length,t.height+i.height,e|(t.outdated||i.outdated?2:0)),this.left=t,this.right=i,this.size=t.size+i.size}get break(){return this.flags&1}blockAt(t,e,i,r){let o=i+this.left.height;return t<o?this.left.blockAt(t,e,i,r):this.right.blockAt(t,e,o,r+this.left.length+this.break)}lineAt(t,e,i,r,o){let s=r+this.left.height,l=o+this.left.length+this.break,a=e==Zt.ByHeight?t<s:t<l,c=a?this.left.lineAt(t,e,i,r,o):this.right.lineAt(t,e,i,s,l);if(this.break||(a?c.to<l:c.from>l))return c;let h=e==Zt.ByPosNoHeight?Zt.ByPosNoHeight:Zt.ByPos;return a?c.join(this.right.lineAt(l,h,i,s,l)):this.left.lineAt(l,h,i,r,o).join(c)}forEachLine(t,e,i,r,o,s){let l=r+this.left.height,a=o+this.left.length+this.break;if(this.break)t<a&&this.left.forEachLine(t,e,i,r,o,s),e>=a&&this.right.forEachLine(t,e,i,l,a,s);else{let c=this.lineAt(a,Zt.ByPos,i,r,o);t<c.from&&this.left.forEachLine(t,c.from-1,i,r,o,s),c.to>=t&&c.from<=e&&s(c),e>c.to&&this.right.forEachLine(c.to+1,e,i,l,a,s)}}replace(t,e,i){let r=this.left.length+this.break;if(e<r)return this.balanced(this.left.replace(t,e,i),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-r,e-r,i));let o=[];t>0&&this.decomposeLeft(t,o);let s=o.length;for(let l of i)o.push(l);if(t>0&&yp(o,s-1),e<this.length){let l=o.length;this.decomposeRight(e,o),yp(o,l)}return Qe.of(o)}decomposeLeft(t,e){let i=this.left.length;if(t<=i)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(i++,t>=i&&e.push(null)),t>i&&this.right.decomposeLeft(t-i,e)}decomposeRight(t,e){let i=this.left.length,r=i+this.break;if(t>=r)return this.right.decomposeRight(t-r,e);t<i&&this.left.decomposeRight(t,e),this.break&&t<r&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?Qe.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,i=!1,r){let{left:o,right:s}=this,l=e+o.length+this.break,a=null;return r&&r.from<=e+o.length&&r.more?a=o=o.updateHeight(t,e,i,r):o.updateHeight(t,e,i),r&&r.from<=l+s.length&&r.more?a=s=s.updateHeight(t,l,i,r):s.updateHeight(t,l,i),a?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function yp(n,t){let e,i;n[t]==null&&(e=n[t-1])instanceof ke&&(i=n[t+1])instanceof ke&&n.splice(t-1,3,new ke(e.length+1+i.length))}const lO=5;class xu{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let i=Math.min(e,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof pn?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new pn(i-this.pos,-1)),this.writtenTo=i,e>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,i){if(t<e||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);let o=e-t;i.block?this.addBlock(new Rv(o,r,i.type)):(o||r>=lO)&&this.addLineDeco(r,o)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new pn(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let i=new ke(e-t);return this.oracle.doc.lineAt(t).to==e&&(i.flags|=4),i}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof pn)return t;let e=new pn(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine(),t.type==Gt.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,t.type!=Gt.WidgetBefore&&(this.covering=t)}addLineDeco(t,e){let i=this.ensureLine();i.length+=e,i.collapsed+=e,i.widgetHeight=Math.max(i.widgetHeight,t),this.writtenTo=this.pos=this.pos+e}finish(t){let e=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(e instanceof pn)&&!this.isCovered?this.nodes.push(new pn(0,-1)):(this.writtenTo<this.pos||e==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=t;for(let r of this.nodes)r instanceof pn&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(t,e,i,r){let o=new xu(i,t);return $t.spans(e,i,r,o,0),o.finish(i)}}function aO(n,t,e){let i=new cO;return $t.compare(n,t,e,i,0),i.changes}class cO{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,i,r){(t<e||i&&i.heightRelevant||r&&r.heightRelevant)&&sf(t,e,this.changes,5)}}function hO(n,t){let e=n.getBoundingClientRect(),i=n.ownerDocument,r=i.defaultView||window,o=Math.max(0,e.left),s=Math.min(r.innerWidth,e.right),l=Math.max(0,e.top),a=Math.min(r.innerHeight,e.bottom);for(let c=n.parentNode;c&&c!=i.body;)if(c.nodeType==1){let h=c,f=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&f.overflow!="visible"){let u=h.getBoundingClientRect();o=Math.max(o,u.left),s=Math.min(s,u.right),l=Math.max(l,u.top),a=c==n.parentNode?u.bottom:Math.min(a,u.bottom)}c=f.position=="absolute"||f.position=="fixed"?h.offsetParent:h.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:o-e.left,right:Math.max(o,s)-e.left,top:l-(e.top+t),bottom:Math.max(l,a)-(e.top+t)}}function fO(n,t){let e=n.getBoundingClientRect();return{left:0,right:e.right-e.left,top:t,bottom:e.bottom-(e.top+t)}}class Xc{constructor(t,e,i){this.from=t,this.to=e,this.size=i}static same(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(t){return ut.replace({widget:new uO(this.size,t)}).range(this.from,this.to)}}class uO extends vi{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class bp{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=xp,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=le.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(bu).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new rO(e),this.stateDeco=t.facet(Co).filter(i=>typeof i!="function"),this.heightMap=Qe.empty().applyChanges(this.stateDeco,Vt.empty,this.heightOracle.setDoc(t.doc),[new Zn(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ut.set(this.lineGaps.map(i=>i.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let i=0;i<=1;i++){let r=i?e.head:e.anchor;if(!t.some(({from:o,to:s})=>r>=o&&r<=s)){let{from:o,to:s}=this.lineBlockAt(r);t.push(new bl(o,s))}}this.viewports=t.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?xp:new gO(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(this.scaler.scale==1?t:Gs(t,this.scaler))})}update(t,e=null){this.state=t.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Co).filter(c=>typeof c!="function");let r=t.changedRanges,o=Zn.extendWithRanges(r,aO(i,this.stateDeco,t?t.changes:xe.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(t.flags|=2);let l=o.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<l.from||e.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,e));let a=!t.changes.empty||t.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(dv)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,i=window.getComputedStyle(e),r=this.heightOracle,o=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?le.RTL:le.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),l=e.getBoundingClientRect(),a=s||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let c=0,h=0,f=parseInt(i.paddingTop)||0,u=parseInt(i.paddingBottom)||0;(this.paddingTop!=f||this.paddingBottom!=u)&&(this.paddingTop=f,this.paddingBottom=u,c|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(r.lineWrapping&&(a=!0),this.editorWidth=t.scrollDOM.clientWidth,c|=8);let d=(this.printing?fO:hO)(e,this.paddingTop),p=d.top-this.pixelViewport.top,g=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;let v=l.width;if((this.contentDOMWidth!=v||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=t.scrollDOM.clientHeight,c|=8),a){let b=t.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(b)&&(s=!0),s||r.lineWrapping&&Math.abs(v-this.contentDOMWidth)>r.charWidth){let{lineHeight:x,charWidth:S,textHeight:w}=t.docView.measureTextSize();s=x>0&&r.refresh(o,x,S,w,v/S,b),s&&(t.docView.minWidth=0,c|=8)}p>0&&g>0?h=Math.max(p,g):p<0&&g<0&&(h=Math.min(p,g)),r.heightChanged=!1;for(let x of this.viewports){let S=x.from==this.viewport.from?b:t.docView.measureVisibleLineHeights(x);this.heightMap=(s?Qe.empty().applyChanges(this.stateDeco,Vt.empty,this.heightOracle,[new Zn(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(r,0,s,new sO(x.from,S))}r.heightChanged&&(c|=2)}let m=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return m&&(this.viewport=this.getViewport(h,this.scrollTarget)),this.updateForViewport(),(c&2||m)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,t)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let i=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),r=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:l}=this,a=new bl(r.lineAt(s-i*1e3,Zt.ByHeight,o,0,0).from,r.lineAt(l+(1-i)*1e3,Zt.ByHeight,o,0,0).to);if(e){let{head:c}=e.range;if(c<a.from||c>a.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=r.lineAt(c,Zt.ByPos,o,0,0),u;e.y=="center"?u=(f.top+f.bottom)/2-h/2:e.y=="start"||e.y=="nearest"&&c<a.from?u=f.top:u=f.bottom-h,a=new bl(r.lineAt(u-1e3/2,Zt.ByHeight,o,0,0).from,r.lineAt(u+h+1e3/2,Zt.ByHeight,o,0,0).to)}}return a}mapViewport(t,e){let i=e.mapPos(t.from,-1),r=e.mapPos(t.to,1);return new bl(this.heightMap.lineAt(i,Zt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Zt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(t,Zt.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(e,Zt.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:l}=this;return(t==0||r<=s-Math.max(10,Math.min(-i,250)))&&(e==this.state.doc.length||o>=l+Math.max(10,Math.min(i,250)))&&r>s-2*1e3&&o<l+2*1e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let i=[];for(let r of t)e.touchesRange(r.from,r.to)||i.push(new Xc(e.mapPos(r.from),e.mapPos(r.to),r.size));return i}ensureLineGaps(t,e){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,o=r>>1,s=r<<1;if(this.defaultTextDirection!=le.LTR&&!i)return[];let l=[],a=(c,h,f,u)=>{if(h-c<o)return;let d=this.state.selection.main,p=[d.from];d.empty||p.push(d.to);for(let y of p)if(y>c&&y<h){a(c,y-10,f,u),a(y+10,h,f,u);return}let g=pO(t,y=>y.from>=f.from&&y.to<=f.to&&Math.abs(y.from-c)<o&&Math.abs(y.to-h)<o&&!p.some(v=>y.from<v&&y.to>v));if(!g){if(h<f.to&&e&&i&&e.visibleRanges.some(y=>y.from<=h&&y.to>=h)){let y=e.moveToLineBoundary(V.cursor(h),!1,!0).head;y>c&&(h=y)}g=new Xc(c,h,this.gapSize(f,c,h,u))}l.push(g)};for(let c of this.viewportLines){if(c.length<s)continue;let h=dO(c.from,c.to,this.stateDeco);if(h.total<s)continue;let f=this.scrollTarget?this.scrollTarget.range.head:null,u,d;if(i){let p=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,y;if(f!=null){let v=Sl(h,f),m=((this.visibleBottom-this.visibleTop)/2+p)/c.height;g=v-m,y=v+m}else g=(this.visibleTop-c.top-p)/c.height,y=(this.visibleBottom-c.top+p)/c.height;u=xl(h,g),d=xl(h,y)}else{let p=h.total*this.heightOracle.charWidth,g=r*this.heightOracle.charWidth,y,v;if(f!=null){let m=Sl(h,f),b=((this.pixelViewport.right-this.pixelViewport.left)/2+g)/p;y=m-b,v=m+b}else y=(this.pixelViewport.left-g)/p,v=(this.pixelViewport.right+g)/p;u=xl(h,y),d=xl(h,v)}u>c.from&&a(c.from,u,c,h),d<c.to&&a(d,c.to,c,h)}return l}gapSize(t,e,i,r){let o=Sl(r,i)-Sl(r,e);return this.heightOracle.lineWrapping?t.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(t){Xc.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=ut.set(t.map(e=>e.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];$t.spans(t,this.viewport.from,this.viewport.to,{span(r,o){e.push({from:r,to:o})},point(){}},20);let i=e.length!=this.visibleRanges.length||this.visibleRanges.some((r,o)=>r.from!=e[o].from||r.to!=e[o].to);return this.visibleRanges=e,i?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||Gs(this.heightMap.lineAt(t,Zt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return Gs(this.heightMap.lineAt(this.scaler.fromDOM(t),Zt.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(t){return Gs(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class bl{constructor(t,e){this.from=t,this.to=e}}function dO(n,t,e){let i=[],r=n,o=0;return $t.spans(e,n,t,{span(){},point(s,l){s>r&&(i.push({from:r,to:s}),o+=s-r),r=l}},20),r<t&&(i.push({from:r,to:t}),o+=t-r),{total:o,ranges:i}}function xl({total:n,ranges:t},e){if(e<=0)return t[0].from;if(e>=1)return t[t.length-1].to;let i=Math.floor(n*e);for(let r=0;;r++){let{from:o,to:s}=t[r],l=s-o;if(i<=l)return o+i;i-=l}}function Sl(n,t){let e=0;for(let{from:i,to:r}of n.ranges){if(t<=r){e+=t-i;break}e+=r-i}return e/n.total}function pO(n,t){for(let e of n)if(t(e))return e}const xp={toDOM(n){return n},fromDOM(n){return n},scale:1};class gO{constructor(t,e,i){let r=0,o=0,s=0;this.viewports=i.map(({from:l,to:a})=>{let c=e.lineAt(l,Zt.ByPos,t,0,0).top,h=e.lineAt(a,Zt.ByPos,t,0,0).bottom;return r+=h-c,{from:l,to:a,top:c,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(e.height-r);for(let l of this.viewports)l.domTop=s+(l.top-o)*this.scale,s=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}toDOM(t){for(let e=0,i=0,r=0;;e++){let o=e<this.viewports.length?this.viewports[e]:null;if(!o||t<o.top)return r+(t-i)*this.scale;if(t<=o.bottom)return o.domTop+(t-o.top);i=o.bottom,r=o.domBottom}}fromDOM(t){for(let e=0,i=0,r=0;;e++){let o=e<this.viewports.length?this.viewports[e]:null;if(!o||t<o.domTop)return i+(t-r)/this.scale;if(t<=o.domBottom)return o.top+(t-o.domTop);i=o.bottom,r=o.domBottom}}}function Gs(n,t){if(t.scale==1)return n;let e=t.toDOM(n.top),i=t.toDOM(n.bottom);return new li(n.from,n.length,e,i-e,Array.isArray(n.type)?n.type.map(r=>Gs(r,t)):n.type)}const wl=st.define({combine:n=>n.join(" ")}),uf=st.define({combine:n=>n.indexOf(!0)>-1}),df=Gi.newName(),Lv=Gi.newName(),Nv=Gi.newName(),Bv={"&light":"."+Lv,"&dark":"."+Nv};function pf(n,t,e){return new Gi(t,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!e||!e[r])throw new RangeError(`Unsupported selector: ${r}`);return e[r]}):n+" "+i}})}const mO=pf("."+df,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Bv);class vO{constructor(t,e,i,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:o,impreciseAnchor:s}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,i,0))){let l=o||s?[]:bO(t),a=new xv(l,t.state);a.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=a.text,this.newSel=xO(l,this.bounds.from)}else{let l=t.observer.selectionRange,a=o&&o.node==l.focusNode&&o.offset==l.focusOffset||!fs(t.contentDOM,l.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(l.focusNode,l.focusOffset),c=s&&s.node==l.anchorNode&&s.offset==l.anchorOffset||!fs(t.contentDOM,l.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(l.anchorNode,l.anchorOffset);this.newSel=V.single(c,a)}}}function Fv(n,t){let e,{newSel:i}=t,r=n.state.selection.main;if(t.bounds){let{from:o,to:s}=t.bounds,l=r.from,a=null;(n.inputState.lastKeyCode===8&&n.inputState.lastKeyTime>Date.now()-100||it.android&&t.text.length<s-o)&&(l=r.to,a="end");let c=yO(n.state.doc.sliceString(o,s,Ri),t.text,l-o,a);c&&(it.chrome&&n.inputState.lastKeyCode==13&&c.toB==c.from+2&&t.text.slice(c.from,c.toB)==Ri+Ri&&c.toB--,e={from:o+c.from,to:o+c.toA,insert:Vt.of(t.text.slice(c.from,c.toB).split(Ri))})}else i&&(!n.hasFocus&&n.state.facet(fc)||i.main.eq(r))&&(i=null);if(!e&&!i)return!1;if(!e&&t.typeOver&&!r.empty&&i&&i.main.empty?e={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,r.to)}:e&&e.from>=r.from&&e.to<=r.to&&(e.from!=r.from||e.to!=r.to)&&r.to-r.from-(e.to-e.from)<=4?e={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,e.from).append(e.insert).append(n.state.doc.slice(e.to,r.to))}:(it.mac||it.android)&&e&&e.from==e.to&&e.from==r.head-1&&/^\. ?$/.test(e.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&e.insert.length==2&&(i=V.single(i.main.anchor-1,i.main.head-1)),e={from:r.from,to:r.to,insert:Vt.of([" "])}):it.chrome&&e&&e.from==e.to&&e.from==r.head&&e.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=V.single(i.main.anchor-1,i.main.head-1)),e={from:r.from,to:r.to,insert:Vt.of([" "])}),e){let o=n.state;if(it.ios&&n.inputState.flushIOSKey(n)||it.android&&(e.from==r.from&&e.to==r.to&&e.insert.length==1&&e.insert.lines==2&&ns(n.contentDOM,"Enter",13)||e.from==r.from-1&&e.to==r.to&&e.insert.length==0&&ns(n.contentDOM,"Backspace",8)||e.from==r.from&&e.to==r.to+1&&e.insert.length==0&&ns(n.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();if(n.state.facet(hv).some(c=>c(n,e.from,e.to,s)))return!0;n.inputState.composing>=0&&n.inputState.composing++;let l;if(e.from>=r.from&&e.to<=r.to&&e.to-e.from>=(r.to-r.from)/3&&(!i||i.main.empty&&i.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let c=r.from<e.from?o.sliceDoc(r.from,e.from):"",h=r.to>e.to?o.sliceDoc(e.to,r.to):"";l=o.replaceSelection(n.state.toText(c+e.insert.sliceString(0,void 0,n.state.lineBreak)+h))}else{let c=o.changes(e),h=i&&i.main.to<=c.newLength?i.main:void 0;if(o.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=r.to&&e.to>=r.to-10){let f=n.state.sliceDoc(e.from,e.to),u=Sv(n)||n.state.doc.lineAt(r.head),d=r.to-e.to,p=r.to-r.from;l=o.changeByRange(g=>{if(g.from==r.from&&g.to==r.to)return{changes:c,range:h||g.map(c)};let y=g.to-d,v=y-f.length;if(g.to-g.from!=p||n.state.sliceDoc(v,y)!=f||u&&g.to>=u.from&&g.from<=u.to)return{range:g};let m=o.changes({from:v,to:y,insert:e.insert}),b=g.to-r.to;return{changes:m,range:h?V.range(Math.max(0,h.anchor+b),Math.max(0,h.head+b)):g.map(m)}})}else l={changes:c,selection:h&&o.selection.replaceRange(h)}}let a="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,a+=".compose",n.inputState.compositionFirstChange&&(a+=".start",n.inputState.compositionFirstChange=!1)),n.dispatch(l,{scrollIntoView:!0,userEvent:a}),!0}else if(i&&!i.main.eq(r)){let o=!1,s="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(o=!0),s=n.inputState.lastSelectionOrigin),n.dispatch({selection:i,scrollIntoView:o,userEvent:s}),!0}else return!1}function yO(n,t,e,i){let r=Math.min(n.length,t.length),o=0;for(;o<r&&n.charCodeAt(o)==t.charCodeAt(o);)o++;if(o==r&&n.length==t.length)return null;let s=n.length,l=t.length;for(;s>0&&l>0&&n.charCodeAt(s-1)==t.charCodeAt(l-1);)s--,l--;if(i=="end"){let a=Math.max(0,o-Math.min(s,l));e-=s+a-o}if(s<o&&n.length<t.length){let a=e<=o&&e>=s?o-e:0;o-=a,l=o+(l-s),s=o}else if(l<o){let a=e<=o&&e>=l?o-e:0;o-=a,s=o+(s-l),l=o}return{from:o,toA:s,toB:l}}function bO(n){let t=[];if(n.root.activeElement!=n.contentDOM)return t;let{anchorNode:e,anchorOffset:i,focusNode:r,focusOffset:o}=n.observer.selectionRange;return e&&(t.push(new ep(e,i)),(r!=e||o!=i)&&t.push(new ep(r,o))),t}function xO(n,t){if(n.length==0)return null;let e=n[0].pos,i=n.length==2?n[1].pos:e;return e>-1&&i>-1?V.single(e+t,i+t):null}const SO={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Jc=it.ie&&it.ie_version<=11;class wO{constructor(t){this.view=t,this.active=!1,this.selectionRange=new mC,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(e=>{for(let i of e)this.queue.push(i);(it.ie&&it.ie_version<=11||it.ios&&t.composing)&&e.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Jc&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var e;((e=this.view.docView)===null||e===void 0?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(t.contentDOM)),this.addWindowListeners(this.win=t.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runScrollHandlers(this.view,t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((e,i)=>e!=t[i]))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(fc)?i.root.activeElement!=this.dom:!Kl(i.dom,r))return;let o=r.anchorNode&&i.docView.nearest(r.anchorNode);if(o&&o.ignoreEvent(t)){e||(this.selectionChanged=!1);return}(it.ie&&it.ie_version<=11||it.android&&it.chrome)&&!i.state.selection.main.empty&&r.focusNode&&ma(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=it.safari&&t.root.nodeType==11&&uC(this.dom.ownerDocument)==this.dom&&CO(this.view)||ga(t.root);if(!e||this.selectionRange.eq(e))return!1;let i=Kl(this.dom,e);return i&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&yC(this.dom,e)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(e),i&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let i=this.dom;i;)if(i.nodeType==1)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==i?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=e)i.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,SO),Jc&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Jc&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var i;if(!this.delayedAndroidKey){let r=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),!this.flush()&&o.force&&ns(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||t=="Enter")&&(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,i=-1,r=!1;for(let o of t){let s=this.readMutation(o);s&&(s.typeOver&&(r=!0),e==-1?{from:e,to:i}=s:(e=Math.min(s.from,e),i=Math.max(s.to,i)))}return{from:e,to:i,typeOver:r}}readChange(){let{from:t,to:e,typeOver:i}=this.processRecords(),r=this.selectionChanged&&Kl(this.dom,this.selectionRange);return t<0&&!r?null:(t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new vO(this.view,t,e,i))}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return!1;let i=this.view.state,r=Fv(this.view,e);return this.view.state==i&&this.view.update([]),r}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty(t.type=="attributes"),t.type=="attributes"&&(e.dirty|=4),t.type=="childList"){let i=Sp(e,t.previousSibling||t.target.previousSibling,-1),r=Sp(e,t.nextSibling||t.target.nextSibling,1);return{from:i?e.posAfter(i):e.posAtStart,to:r?e.posBefore(r):e.posAtEnd,typeOver:!1}}else return t.type=="characterData"?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var t,e,i,r;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(e=this.gapIntersection)===null||e===void 0||e.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect(),(r=this.resizeContent)===null||r===void 0||r.disconnect();for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Sp(n,t,e){for(;t;){let i=Qt.get(t);if(i&&i.parent==n)return i;let r=t.parentNode;t=r!=n.dom?r:e>0?t.nextSibling:t.previousSibling}return null}function CO(n){let t=null;function e(a){a.preventDefault(),a.stopImmediatePropagation(),t=a.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",e,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",e,!0),!t)return null;let i=t.startContainer,r=t.startOffset,o=t.endContainer,s=t.endOffset,l=n.docView.domAtPos(n.state.selection.main.anchor);return ma(l.node,l.offset,o,s)&&([i,r,o,s]=[o,s,i,r]),{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:s}}class et{constructor(t={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=t.dispatch||(e=>this.update([e])),this.dispatch=this.dispatch.bind(this),this._root=t.root||vC(t.parent)||document,this.viewState=new bp(t.state||Pt.create(t)),this.plugins=this.state.facet(zs).map(e=>new Kc(e));for(let e of this.plugins)e.update(this);this.observer=new wO(this),this.inputState=new KC(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new np(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...t){this._dispatch(t.length==1&&t[0]instanceof Se?t[0]:this.state.update(...t))}update(t){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e=!1,i=!1,r,o=this.state;for(let u of t){if(u.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=u.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,l=0,a=null;t.some(u=>u.annotation(Dv))?(this.inputState.notifiedFocused=s,l=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,a=Pv(o,s),a||(l=1));let c=this.observer.delayedAndroidKey,h=null;if(c?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(h=null)):this.observer.clear(),o.facet(Pt.phrases)!=this.state.facet(Pt.phrases))return this.setState(o);r=ba.create(this,o,t),r.flags|=l;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let u of t){if(f&&(f=f.map(u.changes)),u.scrollIntoView){let{main:d}=u.state.selection;f=new ya(d.empty?d:V.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of u.effects)d.is(_d)&&(f=d.value)}this.viewState.update(r,f),this.bidiCache=xa.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),e=this.docView.update(r),this.state.facet(Ks)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(e,t.some(u=>u.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(wl)!=r.state.facet(wl)&&(this.viewState.mustMeasureContent=!0),(e||i||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let u of this.state.facet(of))u(r);(a||h)&&Promise.resolve().then(()=>{a&&this.state==a.startState&&this.dispatch(a),h&&!Fv(this,h)&&c.force&&ns(this.contentDOM,c.key,c.keyCode)})}setState(t){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=t;return}this.updateState=2;let e=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new bp(t),this.plugins=t.facet(zs).map(i=>new Kc(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new np(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(zs),i=t.state.facet(zs);if(e!=i){let r=[];for(let o of i){let s=e.indexOf(o);if(s<0)r.push(new Kc(o));else{let l=this.plugins[s];l.mustUpdate=t,r.push(l)}}for(let o of this.plugins)o.mustUpdate!=t&&o.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let r of this.plugins)r.mustUpdate=t;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this)}measure(t=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,{scrollHeight:i,scrollTop:r,clientHeight:o}=this.scrollDOM,s=r>i-o-4?i:r;try{for(let l=0;;l++){this.updateState=1;let a=this.viewport,c=this.viewState.lineBlockAtHeight(s),h=this.viewState.measure(this);if(!h&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];h&4||([this.measureRequests,f]=[f,this.measureRequests]);let u=f.map(y=>{try{return y.read(this)}catch(v){return kn(this.state,v),wp}}),d=ba.create(this,this.state,[]),p=!1,g=!1;d.flags|=h,e?e.flags|=h:e=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),p=this.docView.update(d));for(let y=0;y<f.length;y++)if(u[y]!=wp)try{let v=f[y];v.write&&v.write(u[y],this)}catch(v){kn(this.state,v)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,g=!0;else{let y=this.viewState.lineBlockAt(c.from).top-c.top;(y>1||y<-1)&&(this.scrollDOM.scrollTop+=y,g=!0)}if(p&&this.docView.updateSelection(!0),this.viewport.from==a.from&&this.viewport.to==a.to&&!g&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let l of this.state.facet(of))l(e)}get themeClasses(){return df+" "+(this.state.facet(uf)?Nv:Lv)+" "+this.state.facet(wl)}updateAttrs(){let t=Cp(this,pv,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(fc)?"true":"false",class:"cm-content",style:`${it.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),Cp(this,bu,e);let i=this.observer.ignore(()=>{let r=rf(this.contentDOM,this.contentAttrs,e),o=rf(this.dom,this.editorAttrs,t);return r||o});return this.editorAttrs=t,this.contentAttrs=e,i}showAnnouncements(t){let e=!0;for(let i of t)for(let r of i.effects)if(r.is(et.announce)){e&&(this.announceDOM.textContent=""),e=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(Ks),Gi.mount(this.root,this.styleModules.concat(mO).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t){if(this.measureRequests.indexOf(t)>-1)return;if(t.key!=null){for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key){this.measureRequests[e]=t;return}}this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(e===void 0||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find(i=>i.spec==t)||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,i){return Yc(this,t,ap(this,t,e,i))}moveByGroup(t,e){return Yc(this,t,ap(this,t,e,i=>UC(this,t.head,i)))}moveToLineBoundary(t,e,i=!0){return WC(this,t,e,i)}moveVertically(t,e,i){return Yc(this,t,zC(this,t,e,i))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),Cv(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let i=this.docView.coordsAt(t,e);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(t),o=this.bidiSpans(r),s=o[is.find(o,t-r.from,-1,e)];return ac(i,s.dir==le.LTR==e>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(uv)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>OO)return yv(t.length);let e=this.textDirectionAt(t.from);for(let r of this.bidiCache)if(r.from==t.from&&r.dir==e)return r.order;let i=TC(t.text,e);return this.bidiCache.push(new xa(t.from,t.to,e,i)),i}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||it.safari&&((t=this.inputState)===null||t===void 0?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{K0(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((t.nodeType==9?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return _d.of(new ya(typeof t=="number"?V.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}static domEventHandlers(t){return be.define(()=>({}),{eventHandlers:t})}static theme(t,e){let i=Gi.newName(),r=[wl.of(i),Ks.of(pf(`.${i}`,t))];return e&&e.dark&&r.push(uf.of(!0)),r}static baseTheme(t){return Cs.lowest(Ks.of(pf("."+df,t,Bv)))}static findFromDOM(t){var e;let i=t.querySelector(".cm-content"),r=i&&Qt.get(i)||Qt.get(t);return((e=r==null?void 0:r.rootView)===null||e===void 0?void 0:e.view)||null}}et.styleModule=Ks;et.inputHandler=hv;et.focusChangeEffect=fv;et.perLineTextDirection=uv;et.exceptionSink=cv;et.updateListener=of;et.editable=fc;et.mouseSelectionStyle=av;et.dragMovesSelection=lv;et.clickAddsSelectionRange=ov;et.decorations=Co;et.atomicRanges=gv;et.scrollMargins=mv;et.darkTheme=uf;et.contentAttributes=bu;et.editorAttributes=pv;et.lineWrapping=et.contentAttributes.of({class:"cm-lineWrapping"});et.announce=At.define();const OO=4096,wp={};class xa{constructor(t,e,i,r){this.from=t,this.to=e,this.dir=i,this.order=r}static update(t,e){if(e.empty)return t;let i=[],r=t.length?t[t.length-1].dir:le.LTR;for(let o=Math.max(0,t.length-10);o<t.length;o++){let s=t[o];s.dir==r&&!e.touchesRange(s.from,s.to)&&i.push(new xa(e.mapPos(s.from,1),e.mapPos(s.to,-1),s.dir,s.order))}return i}}function Cp(n,t,e){for(let i=n.state.facet(t),r=i.length-1;r>=0;r--){let o=i[r],s=typeof o=="function"?o(n):o;s&&nf(s,e)}return e}const AO=it.mac?"mac":it.windows?"win":it.linux?"linux":"key";function kO(n,t){const e=n.split(/-(?!$)/);let i=e[e.length-1];i=="Space"&&(i=" ");let r,o,s,l;for(let a=0;a<e.length-1;++a){const c=e[a];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))t=="mac"?l=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(i="Alt-"+i),o&&(i="Ctrl-"+i),l&&(i="Meta-"+i),s&&(i="Shift-"+i),i}function Cl(n,t,e){return t.altKey&&(n="Alt-"+n),t.ctrlKey&&(n="Ctrl-"+n),t.metaKey&&(n="Meta-"+n),e!==!1&&t.shiftKey&&(n="Shift-"+n),n}const EO=Cs.default(et.domEventHandlers({keydown(n,t){return jv(Hv(t.state),n,t,"editor")}})),uc=st.define({enables:EO}),Op=new WeakMap;function Hv(n){let t=n.facet(uc),e=Op.get(t);return e||Op.set(t,e=DO(t.reduce((i,r)=>i.concat(r),[]))),e}function TO(n,t,e){return jv(Hv(n.state),t,n,e)}let Ei=null;const MO=4e3;function DO(n,t=AO){let e=Object.create(null),i=Object.create(null),r=(s,l)=>{let a=i[s];if(a==null)i[s]=l;else if(a!=l)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,l,a,c)=>{var h,f;let u=e[s]||(e[s]=Object.create(null)),d=l.split(/ (?!$)/).map(y=>kO(y,t));for(let y=1;y<d.length;y++){let v=d.slice(0,y).join(" ");r(v,!0),u[v]||(u[v]={preventDefault:!0,run:[m=>{let b=Ei={view:m,prefix:v,scope:s};return setTimeout(()=>{Ei==b&&(Ei=null)},MO),!0}]})}let p=d.join(" ");r(p,!1);let g=u[p]||(u[p]={preventDefault:!1,run:((f=(h=u._any)===null||h===void 0?void 0:h.run)===null||f===void 0?void 0:f.slice())||[]});a&&g.run.push(a),c&&(g.preventDefault=!0)};for(let s of n){let l=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let c of l){let h=e[c]||(e[c]=Object.create(null));h._any||(h._any={preventDefault:!1,run:[]});for(let f in h)h[f].run.push(s.any)}let a=s[t]||s.key;if(a)for(let c of l)o(c,a,s.run,s.preventDefault),s.shift&&o(c,"Shift-"+a,s.shift,s.preventDefault)}return e}function jv(n,t,e,i){let r=fC(t),o=Ee(r,0),s=On(o)==r.length&&r!=" ",l="",a=!1;Ei&&Ei.view==e&&Ei.scope==i&&(l=Ei.prefix+" ",(a=Av.indexOf(t.keyCode)<0)&&(Ei=null));let c=new Set,h=p=>{if(p){for(let g of p.run)if(!c.has(g)&&(c.add(g),g(e,t)))return!0;p.preventDefault&&(a=!0)}return!1},f=n[i],u,d;if(f){if(h(f[l+Cl(r,t,!s)]))return!0;if(s&&(t.altKey||t.metaKey||t.ctrlKey)&&!(it.windows&&t.ctrlKey&&t.altKey)&&(u=Yi[t.keyCode])&&u!=r){if(h(f[l+Cl(u,t,!0)]))return!0;if(t.shiftKey&&(d=So[t.keyCode])!=r&&d!=u&&h(f[l+Cl(d,t,!1)]))return!0}else if(s&&t.shiftKey&&h(f[l+Cl(r,t,!0)]))return!0;if(h(f._any))return!0}return a}class Ko{constructor(t,e,i,r,o){this.className=t,this.left=e,this.top=i,this.width=r,this.height=o}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,e){return e.className!=this.className?!1:(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",this.width!=null&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,e,i){if(i.empty){let r=t.coordsAtPos(i.head,i.assoc||1);if(!r)return[];let o=Vv(t);return[new Ko(e,r.left-o.left,r.top-o.top,null,r.bottom-r.top)]}else return PO(t,e,i)}}function Vv(n){let t=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==le.LTR?t.left:t.right-n.scrollDOM.clientWidth)-n.scrollDOM.scrollLeft,top:t.top-n.scrollDOM.scrollTop}}function Ap(n,t,e){let i=V.cursor(t);return{from:Math.max(e.from,n.moveToLineBoundary(i,!1,!0).from),to:Math.min(e.to,n.moveToLineBoundary(i,!0,!0).from),type:Gt.Text}}function kp(n,t){let e=n.lineBlockAt(t);if(Array.isArray(e.type)){for(let i of e.type)if(i.to>t||i.to==t&&(i.to==e.to||i.type==Gt.Text))return i}return e}function PO(n,t,e){if(e.to<=n.viewport.from||e.from>=n.viewport.to)return[];let i=Math.max(e.from,n.viewport.from),r=Math.min(e.to,n.viewport.to),o=n.textDirection==le.LTR,s=n.contentDOM,l=s.getBoundingClientRect(),a=Vv(n),c=s.querySelector(".cm-line"),h=c&&window.getComputedStyle(c),f=l.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),u=l.right-(h?parseInt(h.paddingRight):0),d=kp(n,i),p=kp(n,r),g=d.type==Gt.Text?d:null,y=p.type==Gt.Text?p:null;if(n.lineWrapping&&(g&&(g=Ap(n,i,g)),y&&(y=Ap(n,r,y))),g&&y&&g.from==y.from)return m(b(e.from,e.to,g));{let S=g?b(e.from,null,g):x(d,!1),w=y?b(null,e.to,y):x(p,!0),E=[];return(g||d).to<(y||p).from-1?E.push(v(f,S.bottom,u,w.top)):S.bottom<w.top&&n.elementAtHeight((S.bottom+w.top)/2).type==Gt.Text&&(S.bottom=w.top=(S.bottom+w.top)/2),m(S).concat(E).concat(m(w))}function v(S,w,E,k){return new Ko(t,S-a.left,w-a.top-.01,E-S,k-w+.01)}function m({top:S,bottom:w,horizontal:E}){let k=[];for(let O=0;O<E.length;O+=2)k.push(v(E[O],S,E[O+1],w));return k}function b(S,w,E){let k=1e9,O=-1e9,M=[];function I(P,Q,H,Y,q){let ft=n.coordsAtPos(P,P==E.to?-2:2),xt=n.coordsAtPos(H,H==E.from?2:-2);!ft||!xt||(k=Math.min(ft.top,xt.top,k),O=Math.max(ft.bottom,xt.bottom,O),q==le.LTR?M.push(o&&Q?f:ft.left,o&&Y?u:xt.right):M.push(!o&&Y?f:xt.left,!o&&Q?u:ft.right))}let B=S??E.from,R=w??E.to;for(let P of n.visibleRanges)if(P.to>B&&P.from<R)for(let Q=Math.max(P.from,B),H=Math.min(P.to,R);;){let Y=n.state.doc.lineAt(Q);for(let q of n.bidiSpans(Y)){let ft=q.from+Y.from,xt=q.to+Y.from;if(ft>=H)break;xt>Q&&I(Math.max(ft,Q),S==null&&ft<=B,Math.min(xt,H),w==null&&xt>=R,q.dir)}if(Q=Y.to+1,Q>=H)break}return M.length==0&&I(B,S==null,R,w==null,n.textDirection),{top:k,bottom:O,horizontal:M}}function x(S,w){let E=l.top+(w?S.top:S.bottom);return{top:E,bottom:E,horizontal:[]}}}function IO(n,t){return n.constructor==t.constructor&&n.eq(t)}class RO{constructor(t,e){this.view=t,this.layer=e,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),e.above&&this.dom.classList.add("cm-layer-above"),e.class&&this.dom.classList.add(e.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),e.mount&&e.mount(this.dom,t)}update(t){t.startState.facet(Yl)!=t.state.facet(Yl)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&t.view.requestMeasure(this.measureReq)}setOrder(t){let e=0,i=t.facet(Yl);for(;e<i.length&&i[e]!=this.layer;)e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-e)}measure(){return this.layer.markers(this.view)}draw(t){if(t.length!=this.drawn.length||t.some((e,i)=>!IO(e,this.drawn[i]))){let e=this.dom.firstChild,i=0;for(let r of t)r.update&&e&&r.constructor&&this.drawn[i].constructor&&r.update(e,this.drawn[i])?(e=e.nextSibling,i++):this.dom.insertBefore(r.draw(),e);for(;e;){let r=e.nextSibling;e.remove(),e=r}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Yl=st.define();function $v(n){return[be.define(t=>new RO(t,n)),Yl.of(n)]}const Wv=!it.ios,Oo=st.define({combine(n){return ti(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})}});function LO(n={}){return[Oo.of(n),NO,BO,FO,dv.of(!0)]}function Uv(n){return n.startState.facet(Oo)!=n.state.facet(Oo)}const NO=$v({above:!0,markers(n){let{state:t}=n,e=t.facet(Oo),i=[];for(let r of t.selection.ranges){let o=r==t.selection.main;if(r.empty?!o||Wv:e.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=r.empty?r:V.cursor(r.head,r.head>r.anchor?-1:1);for(let a of Ko.forRange(n,s,l))i.push(a)}}return i},update(n,t){n.transactions.some(i=>i.selection)&&(t.style.animationName=t.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let e=Uv(n);return e&&Ep(n.state,t),n.docChanged||n.selectionSet||e},mount(n,t){Ep(t.state,n)},class:"cm-cursorLayer"});function Ep(n,t){t.style.animationDuration=n.facet(Oo).cursorBlinkRate+"ms"}const BO=$v({above:!1,markers(n){return n.state.selection.ranges.map(t=>t.empty?[]:Ko.forRange(n,"cm-selectionBackground",t)).reduce((t,e)=>t.concat(e))},update(n,t){return n.docChanged||n.selectionSet||n.viewportChanged||Uv(n)},class:"cm-selectionLayer"}),zv={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Wv&&(zv[".cm-line"].caretColor="transparent !important");const FO=Cs.highest(et.theme(zv)),Kv=At.define({map(n,t){return n==null?null:t.mapPos(n)}}),Ys=Ie.define({create(){return null},update(n,t){return n!=null&&(n=t.changes.mapPos(n)),t.effects.reduce((e,i)=>i.is(Kv)?i.value:e,n)}}),HO=be.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var t;let e=n.state.field(Ys);e==null?this.cursor!=null&&((t=this.cursor)===null||t===void 0||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Ys)!=e||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let n=this.view.state.field(Ys),t=n!=null&&this.view.coordsAtPos(n);if(!t)return null;let e=this.view.scrollDOM.getBoundingClientRect();return{left:t.left-e.left+this.view.scrollDOM.scrollLeft,top:t.top-e.top+this.view.scrollDOM.scrollTop,height:t.bottom-t.top}}drawCursor(n){this.cursor&&(n?(this.cursor.style.left=n.left+"px",this.cursor.style.top=n.top+"px",this.cursor.style.height=n.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Ys)!=n&&this.view.dispatch({effects:Kv.of(n)})}},{eventHandlers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function jO(){return[Ys,HO]}function Tp(n,t,e,i,r){t.lastIndex=0;for(let o=n.iterRange(e,i),s=e,l;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;l=t.exec(o.value);)r(s+l.index,l)}function VO(n,t){let e=n.visibleRanges;if(e.length==1&&e[0].from==n.viewport.from&&e[0].to==n.viewport.to)return e;let i=[];for(let{from:r,to:o}of e)r=Math.max(n.state.doc.lineAt(r).from,r-t),o=Math.min(n.state.doc.lineAt(o).to,o+t),i.length&&i[i.length-1].to>=r?i[i.length-1].to=o:i.push({from:r,to:o});return i}class $O{constructor(t){const{regexp:e,decoration:i,decorate:r,boundary:o,maxLength:s=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,r)this.addMatch=(l,a,c,h)=>r(h,c,c+l[0].length,l,a);else if(typeof i=="function")this.addMatch=(l,a,c,h)=>{let f=i(l,a,c);f&&h(c,c+l[0].length,f)};else if(i)this.addMatch=(l,a,c,h)=>h(c,c+l[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=s}createDeco(t){let e=new Ki,i=e.add.bind(e);for(let{from:r,to:o}of VO(t,this.maxLength))Tp(t.state.doc,this.regexp,r,o,(s,l)=>this.addMatch(l,t,s,i));return e.finish()}updateDeco(t,e){let i=1e9,r=-1;return t.docChanged&&t.changes.iterChanges((o,s,l,a)=>{a>t.view.viewport.from&&l<t.view.viewport.to&&(i=Math.min(l,i),r=Math.max(a,r))}),t.viewportChanged||r-i>1e3?this.createDeco(t.view):r>-1?this.updateRange(t.view,e.map(t.changes),i,r):e}updateRange(t,e,i,r){for(let o of t.visibleRanges){let s=Math.max(o.from,i),l=Math.min(o.to,r);if(l>s){let a=t.state.doc.lineAt(s),c=a.to<l?t.state.doc.lineAt(l):a,h=Math.max(o.from,a.from),f=Math.min(o.to,c.to);if(this.boundary){for(;s>a.from;s--)if(this.boundary.test(a.text[s-1-a.from])){h=s;break}for(;l<c.to;l++)if(this.boundary.test(c.text[l-c.from])){f=l;break}}let u=[],d,p=(g,y,v)=>u.push(v.range(g,y));if(a==c)for(this.regexp.lastIndex=h-a.from;(d=this.regexp.exec(a.text))&&d.index<f-a.from;)this.addMatch(d,t,d.index+a.from,p);else Tp(t.state.doc,this.regexp,h,f,(g,y)=>this.addMatch(y,t,g,p));e=e.update({filterFrom:h,filterTo:f,filter:(g,y)=>g<h||y>f,add:u})}}return e}}const gf=/x/.unicode!=null?"gu":"g",WO=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,gf),UO={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Qc=null;function zO(){var n;if(Qc==null&&typeof document<"u"&&document.body){let t=document.body.style;Qc=((n=t.tabSize)!==null&&n!==void 0?n:t.MozTabSize)!=null}return Qc||!1}const Xl=st.define({combine(n){let t=ti(n,{render:null,specialChars:WO,addSpecialChars:null});return(t.replaceTabs=!zO())&&(t.specialChars=new RegExp("	|"+t.specialChars.source,gf)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,gf)),t}});function KO(n={}){return[Xl.of(n),GO()]}let Mp=null;function GO(){return Mp||(Mp=be.fromClass(class{constructor(n){this.view=n,this.decorations=ut.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Xl)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new $O({regexp:n.specialChars,decoration:(t,e,i)=>{let{doc:r}=e.state,o=Ee(t[0],0);if(o==9){let s=r.lineAt(i),l=e.state.tabSize,a=Uo(s.text,l,i-s.from);return ut.replace({widget:new QO((l-a%l)*this.view.defaultCharacterWidth)})}return this.decorationCache[o]||(this.decorationCache[o]=ut.replace({widget:new JO(n,o)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let t=n.state.facet(Xl);n.startState.facet(Xl)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const YO="";function XO(n){return n>=32?YO:n==10?"":String.fromCharCode(9216+n)}class JO extends vi{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=XO(this.code),i=t.state.phrase("Control character")+" "+(UO[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,e);if(r)return r;let o=document.createElement("span");return o.textContent=e,o.title=i,o.setAttribute("aria-label",i),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class QO extends vi{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="	",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}function ZO(){return _O}const qO=ut.line({class:"cm-activeLine"}),_O=be.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let t=-1,e=[];for(let i of n.state.selection.ranges){let r=n.lineBlockAt(i.head);r.from>t&&(e.push(qO.range(r.from)),t=r.from)}return ut.set(e)}},{decorations:n=>n.decorations});class tA extends vi{constructor(t){super(),this.content=t}toDOM(){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?t.setAttribute("aria-label","placeholder "+this.content):t.setAttribute("aria-hidden","true"),t}coordsAt(t){let e=t.firstChild?us(t.firstChild):[];if(!e.length)return null;let i=window.getComputedStyle(t.parentNode),r=ac(e[0],i.direction!="rtl"),o=parseInt(i.lineHeight);return r.bottom-r.top>o*1.5?{left:r.left,right:r.right,top:r.top,bottom:r.top+o}:r}ignoreEvent(){return!1}}function eA(n){return be.fromClass(class{constructor(t){this.view=t,this.placeholder=ut.set([ut.widget({widget:new tA(n),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?ut.none:this.placeholder}},{decorations:t=>t.decorations})}const mf=2e3;function nA(n,t,e){let i=Math.min(t.line,e.line),r=Math.max(t.line,e.line),o=[];if(t.off>mf||e.off>mf||t.col<0||e.col<0){let s=Math.min(t.off,e.off),l=Math.max(t.off,e.off);for(let a=i;a<=r;a++){let c=n.doc.line(a);c.length<=l&&o.push(V.range(c.from+s,c.to+l))}}else{let s=Math.min(t.col,e.col),l=Math.max(t.col,e.col);for(let a=i;a<=r;a++){let c=n.doc.line(a),h=Xh(c.text,s,n.tabSize,!0);if(h<0)o.push(V.cursor(c.to));else{let f=Xh(c.text,l,n.tabSize);o.push(V.range(c.from+h,c.from+f))}}}return o}function iA(n,t){let e=n.coordsAtPos(n.viewport.from);return e?Math.round(Math.abs((e.left-t)/n.defaultCharacterWidth)):-1}function Dp(n,t){let e=n.posAtCoords({x:t.clientX,y:t.clientY},!1),i=n.state.doc.lineAt(e),r=e-i.from,o=r>mf?-1:r==i.length?iA(n,t.clientX):Uo(i.text,n.state.tabSize,e-i.from);return{line:i.number,col:o,off:r}}function rA(n,t){let e=Dp(n,t),i=n.state.selection;return e?{update(r){if(r.docChanged){let o=r.changes.mapPos(r.startState.doc.line(e.line).from),s=r.state.doc.lineAt(o);e={line:s.number,col:e.col,off:Math.min(e.off,s.length)},i=i.map(r.changes)}},get(r,o,s){let l=Dp(n,r);if(!l)return i;let a=nA(n.state,e,l);return a.length?s?V.create(a.concat(i.ranges)):V.create(a):i}}:null}function sA(n){let t=(n==null?void 0:n.eventFilter)||(e=>e.altKey&&e.button==0);return et.mouseSelectionStyle.of((e,i)=>t(i)?rA(e,i):null)}const oA={Alt:[18,n=>n.altKey],Control:[17,n=>n.ctrlKey],Shift:[16,n=>n.shiftKey],Meta:[91,n=>n.metaKey]},lA={style:"cursor: crosshair"};function aA(n={}){let[t,e]=oA[n.key||"Alt"],i=be.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventHandlers:{keydown(r){this.set(r.keyCode==t||e(r))},keyup(r){(r.keyCode==t||!e(r))&&this.set(!1)},mousemove(r){this.set(e(r))}}});return[i,et.contentAttributes.of(r=>{var o;return!((o=r.plugin(i))===null||o===void 0)&&o.isDown?lA:null})]}const Ol="-10000px";class Gv{constructor(t,e,i){this.facet=e,this.createTooltipView=i,this.input=t.state.facet(e),this.tooltips=this.input.filter(r=>r),this.tooltipViews=this.tooltips.map(i)}update(t){var e;let i=t.state.facet(this.facet),r=i.filter(s=>s);if(i===this.input){for(let s of this.tooltipViews)s.update&&s.update(t);return!1}let o=[];for(let s=0;s<r.length;s++){let l=r[s],a=-1;if(l){for(let c=0;c<this.tooltips.length;c++){let h=this.tooltips[c];h&&h.create==l.create&&(a=c)}if(a<0)o[s]=this.createTooltipView(l);else{let c=o[s]=this.tooltipViews[a];c.update&&c.update(t)}}}for(let s of this.tooltipViews)o.indexOf(s)<0&&(s.dom.remove(),(e=s.destroy)===null||e===void 0||e.call(s));return this.input=i,this.tooltips=r,this.tooltipViews=o,!0}}function cA(n){let{win:t}=n;return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}const Zc=st.define({combine:n=>{var t,e,i;return{position:it.ios?"absolute":((t=n.find(r=>r.position))===null||t===void 0?void 0:t.position)||"fixed",parent:((e=n.find(r=>r.parent))===null||e===void 0?void 0:e.parent)||null,tooltipSpace:((i=n.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||cA}}}),Pp=new WeakMap,Yv=be.fromClass(class{constructor(n){this.view=n,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let t=n.state.facet(Zc);this.position=t.position,this.parent=t.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Gv(n,Su,e=>this.createTooltip(e)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(n);t&&this.observeIntersection();let e=t||n.geometryChanged,i=n.state.facet(Zc);if(i.position!=this.position){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;e=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);e=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);e&&this.maybeMeasure()}createTooltip(n){let t=n.create(this.view);if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",t.dom.appendChild(e)}return t.dom.style.position=this.position,t.dom.style.top=Ol,this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}destroy(){var n,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let e of this.manager.tooltipViews)e.dom.remove(),(n=e.destroy)===null||n===void 0||n.call(e);(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect();return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((t,e)=>{let i=this.manager.tooltipViews[e];return i.getCoords?i.getCoords(t.pos):this.view.coordsAtPos(t.pos)}),size:this.manager.tooltipViews.map(({dom:t})=>t.getBoundingClientRect()),space:this.view.state.facet(Zc).tooltipSpace(this.view)}}writeMeasure(n){var t;let{editor:e,space:i}=n,r=[];for(let o=0;o<this.manager.tooltips.length;o++){let s=this.manager.tooltips[o],l=this.manager.tooltipViews[o],{dom:a}=l,c=n.pos[o],h=n.size[o];if(!c||c.bottom<=Math.max(e.top,i.top)||c.top>=Math.min(e.bottom,i.bottom)||c.right<Math.max(e.left,i.left)-.1||c.left>Math.min(e.right,i.right)+.1){a.style.top=Ol;continue}let f=s.arrow?l.dom.querySelector(".cm-tooltip-arrow"):null,u=f?7:0,d=h.right-h.left,p=(t=Pp.get(l))!==null&&t!==void 0?t:h.bottom-h.top,g=l.offset||fA,y=this.view.textDirection==le.LTR,v=h.width>i.right-i.left?y?i.left:i.right-h.width:y?Math.min(c.left-(f?14:0)+g.x,i.right-d):Math.max(i.left,c.left-d+(f?14:0)-g.x),m=!!s.above;!s.strictSide&&(m?c.top-(h.bottom-h.top)-g.y<i.top:c.bottom+(h.bottom-h.top)+g.y>i.bottom)&&m==i.bottom-c.bottom>c.top-i.top&&(m=!m);let b=(m?c.top-i.top:i.bottom-c.bottom)-u;if(b<p&&l.resize!==!1){if(b<this.view.defaultLineHeight){a.style.top=Ol;continue}Pp.set(l,p),a.style.height=(p=b)+"px"}else a.style.height&&(a.style.height="");let x=m?c.top-p-u-g.y:c.bottom+u+g.y,S=v+d;if(l.overlap!==!0)for(let w of r)w.left<S&&w.right>v&&w.top<x+p&&w.bottom>x&&(x=m?w.top-p-2-u:w.bottom+u+2);this.position=="absolute"?(a.style.top=x-n.parent.top+"px",a.style.left=v-n.parent.left+"px"):(a.style.top=x+"px",a.style.left=v+"px"),f&&(f.style.left=`${c.left+(y?g.x:-g.x)-(v+14-7)}px`),l.overlap!==!0&&r.push({left:v,top:x,right:S,bottom:x+p}),a.classList.toggle("cm-tooltip-above",m),a.classList.toggle("cm-tooltip-below",!m),l.positioned&&l.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Ol}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),hA=et.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),fA={x:0,y:0},Su=st.define({enables:[Yv,hA]}),Sa=st.define();class wu{constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Gv(t,Sa,e=>this.createHostedView(e))}static create(t){return new wu(t)}createHostedView(t){let e=t.create(this.view);return e.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(e.dom),this.mounted&&e.mount&&e.mount(this.view),e}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(t){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let e of this.manager.tooltipViews)(t=e.destroy)===null||t===void 0||t.call(e)}}const uA=Su.compute([Sa],n=>{let t=n.facet(Sa).filter(e=>e);return t.length===0?null:{pos:Math.min(...t.map(e=>e.pos)),end:Math.max(...t.filter(e=>e.end!=null).map(e=>e.end)),create:wu.create,above:t[0].above,arrow:t.some(e=>e.arrow)}});class dA{constructor(t,e,i,r,o){this.view=t,this.source=e,this.field=i,this.setHover=r,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:t}=this,e=this.view.contentDOM.contains(t.target)?this.view.posAtCoords(t):null;if(e==null)return;let i=this.view.coordsAtPos(e);if(i==null||t.y<i.top||t.y>i.bottom||t.x<i.left-this.view.defaultCharacterWidth||t.x>i.right+this.view.defaultCharacterWidth)return;let r=this.view.bidiSpans(this.view.state.doc.lineAt(e)).find(l=>l.from<=e&&l.to>=e),o=r&&r.dir==le.RTL?-1:1,s=this.source(this.view,e,t.x<i.left?-o:o);if(s!=null&&s.then){let l=this.pending={pos:e};s.then(a=>{this.pending==l&&(this.pending=null,a&&this.view.dispatch({effects:this.setHover.of(a)}))},a=>kn(this.view.state,a,"hover tooltip"))}else s&&this.view.dispatch({effects:this.setHover.of(s)})}mousemove(t){var e;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!Ip(this.lastMove.target)||this.pending){let{pos:r}=i||this.pending,o=(e=i==null?void 0:i.end)!==null&&e!==void 0?e:r;(r==o?this.view.posAtCoords(this.lastMove)!=r:!pA(this.view,r,o,t.clientX,t.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!Ip(t.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function Ip(n){for(let t=n;t;t=t.parentNode)if(t.nodeType==1&&t.classList.contains("cm-tooltip"))return!0;return!1}function pA(n,t,e,i,r,o){let s=document.createRange(),l=n.domAtPos(t),a=n.domAtPos(e);s.setEnd(a.node,a.offset),s.setStart(l.node,l.offset);let c=s.getClientRects();s.detach();for(let h=0;h<c.length;h++){let f=c[h];if(Math.max(f.top-r,r-f.bottom,f.left-i,i-f.right)<=o)return!0}return!1}function gA(n,t={}){let e=At.define(),i=Ie.define({create(){return null},update(r,o){if(r&&(t.hideOnChange&&(o.docChanged||o.selection)||t.hideOn&&t.hideOn(o,r)))return null;if(r&&o.docChanged){let s=o.changes.mapPos(r.pos,-1,Ye.TrackDel);if(s==null)return null;let l=Object.assign(Object.create(null),r);l.pos=s,r.end!=null&&(l.end=o.changes.mapPos(r.end)),r=l}for(let s of o.effects)s.is(e)&&(r=s.value),s.is(mA)&&(r=null);return r},provide:r=>Sa.from(r)});return[i,be.define(r=>new dA(r,n,i,e,t.hoverTime||300)),uA]}function Xv(n,t){let e=n.plugin(Yv);if(!e)return null;let i=e.manager.tooltips.indexOf(t);return i<0?null:e.manager.tooltipViews[i]}const mA=At.define(),Rp=st.define({combine(n){let t,e;for(let i of n)t=t||i.topContainer,e=e||i.bottomContainer;return{topContainer:t,bottomContainer:e}}});function Ao(n,t){let e=n.plugin(Jv),i=e?e.specs.indexOf(t):-1;return i>-1?e.panels[i]:null}const Jv=be.fromClass(class{constructor(n){this.input=n.state.facet(ko),this.specs=this.input.filter(e=>e),this.panels=this.specs.map(e=>e(n));let t=n.state.facet(Rp);this.top=new Al(n,!0,t.topContainer),this.bottom=new Al(n,!1,t.bottomContainer),this.top.sync(this.panels.filter(e=>e.top)),this.bottom.sync(this.panels.filter(e=>!e.top));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(n){let t=n.state.facet(Rp);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new Al(n.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new Al(n.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let e=n.state.facet(ko);if(e!=this.input){let i=e.filter(a=>a),r=[],o=[],s=[],l=[];for(let a of i){let c=this.specs.indexOf(a),h;c<0?(h=a(n.view),l.push(h)):(h=this.panels[c],h.update&&h.update(n)),r.push(h),(h.top?o:s).push(h)}this.specs=i,this.panels=r,this.top.sync(o),this.bottom.sync(s);for(let a of l)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>et.scrollMargins.of(t=>{let e=t.plugin(n);return e&&{top:e.top.scrollMargin(),bottom:e.bottom.scrollMargin()}})});class Al{constructor(t,e,i){this.view=t,this.top=e,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=Lp(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=Lp(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function Lp(n){let t=n.nextSibling;return n.remove(),t}const ko=st.define({enables:Jv});class di extends Er{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}di.prototype.elementClass="";di.prototype.toDOM=void 0;di.prototype.mapMode=Ye.TrackBefore;di.prototype.startSide=di.prototype.endSide=-1;di.prototype.point=!0;const Jl=st.define(),vA={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>$t.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},co=st.define();function yA(n){return[Qv(),co.of(Object.assign(Object.assign({},vA),n))]}const vf=st.define({combine:n=>n.some(t=>t)});function Qv(n){let t=[bA];return n&&n.fixed===!1&&t.push(vf.of(!0)),t}const bA=be.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=n.state.facet(co).map(t=>new Bp(n,t));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!n.state.facet(vf),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let t=this.prevViewport,e=n.view.viewport,i=Math.min(t.to,e.to)-Math.max(t.from,e.from);this.syncGutters(i<(e.to-e.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(vf)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let t=this.dom.nextSibling;n&&this.dom.remove();let e=$t.iter(this.view.state.facet(Jl),this.view.viewport.from),i=[],r=this.gutters.map(o=>new xA(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks){let s;if(Array.isArray(o.type)){for(let l of o.type)if(l.type==Gt.Text){s=l;break}}else s=o.type==Gt.Text?o:void 0;if(s){i.length&&(i=[]),Zv(e,i,o.from);for(let l of r)l.line(this.view,s,i)}}for(let o of r)o.finish();n&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(n){let t=n.startState.facet(co),e=n.state.facet(co),i=n.docChanged||n.heightChanged||n.viewportChanged||!$t.eq(n.startState.facet(Jl),n.state.facet(Jl),n.view.viewport.from,n.view.viewport.to);if(t==e)for(let r of this.gutters)r.update(n)&&(i=!0);else{i=!0;let r=[];for(let o of e){let s=t.indexOf(o);s<0?r.push(new Bp(this.view,o)):(this.gutters[s].update(n),r.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),r.indexOf(o)<0&&o.destroy();for(let o of r)this.dom.appendChild(o.dom);this.gutters=r}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>et.scrollMargins.of(t=>{let e=t.plugin(n);return!e||e.gutters.length==0||!e.fixed?null:t.textDirection==le.LTR?{left:e.dom.offsetWidth}:{right:e.dom.offsetWidth}})});function Np(n){return Array.isArray(n)?n:[n]}function Zv(n,t,e){for(;n.value&&n.from<=e;)n.from==e&&t.push(n.value),n.next()}class xA{constructor(t,e,i){this.gutter=t,this.height=i,this.i=0,this.cursor=$t.iter(t.markers,e.from)}line(t,e,i){let r=[];Zv(this.cursor,r,e.from),i.length&&(r=r.concat(i));let o=this.gutter.config.lineMarker(t,e,r);o&&r.unshift(o);let s=this.gutter;if(r.length==0&&!s.config.renderEmptyElements)return;let l=e.top-this.height;if(this.i==s.elements.length){let a=new qv(t,e.height,l,r);s.elements.push(a),s.dom.appendChild(a.dom)}else s.elements[this.i].update(t,e.height,l,r);this.height=e.bottom,this.i++}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class Bp{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in e.domEventHandlers)this.dom.addEventListener(i,r=>{let o=r.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let a=o.getBoundingClientRect();s=(a.top+a.bottom)/2}else s=r.clientY;let l=t.lineBlockAtHeight(s-t.documentTop);e.domEventHandlers[i](t,l,r)&&r.preventDefault()});this.markers=Np(e.markers(t)),e.initialSpacer&&(this.spacer=new qv(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=Np(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],t);r!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[r])}let i=t.view.viewport;return!$t.eq(this.markers,e,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(t):!1)}destroy(){for(let t of this.elements)t.destroy()}}class qv{constructor(t,e,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,i,r)}update(t,e,i,r){this.height!=e&&(this.dom.style.height=(this.height=e)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),SA(this.markers,r)||this.setMarkers(t,r)}setMarkers(t,e){let i="cm-gutterElement",r=this.dom.firstChild;for(let o=0,s=0;;){let l=s,a=o<e.length?e[o++]:null,c=!1;if(a){let h=a.elementClass;h&&(i+=" "+h);for(let f=s;f<this.markers.length;f++)if(this.markers[f].compare(a)){l=f,c=!0;break}}else l=this.markers.length;for(;s<l;){let h=this.markers[s++];if(h.toDOM){h.destroy(r);let f=r.nextSibling;r.remove(),r=f}}if(!a)break;a.toDOM&&(c?r=r.nextSibling:this.dom.insertBefore(a.toDOM(t),r)),c&&s++}this.dom.className=i,this.markers=e}destroy(){this.setMarkers(null,[])}}function SA(n,t){if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(!n[e].compare(t[e]))return!1;return!0}const wA=st.define(),Kr=st.define({combine(n){return ti(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let i=Object.assign({},t);for(let r in e){let o=i[r],s=e[r];i[r]=o?(l,a,c)=>o(l,a,c)||s(l,a,c):s}return i}})}});class qc extends di{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function _c(n,t){return n.state.facet(Kr).formatNumber(t,n.state)}const CA=co.compute([Kr],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(t){return t.state.facet(wA)},lineMarker(t,e,i){return i.some(r=>r.toDOM)?null:new qc(_c(t,t.state.doc.lineAt(e.from).number))},lineMarkerChange:t=>t.startState.facet(Kr)!=t.state.facet(Kr),initialSpacer(t){return new qc(_c(t,Fp(t.state.doc.lines)))},updateSpacer(t,e){let i=_c(e.view,Fp(e.view.state.doc.lines));return i==t.number?t:new qc(i)},domEventHandlers:n.facet(Kr).domEventHandlers}));function OA(n={}){return[Kr.of(n),Qv(),CA]}function Fp(n){let t=9;for(;t<n;)t=t*10+9;return t}const AA=new class extends di{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},kA=Jl.compute(["selection"],n=>{let t=[],e=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.head).from;r>e&&(e=r,t.push(AA.range(r)))}return $t.of(t)});function EA(){return kA}const _v=1024;let TA=0;class th{constructor(t,e){this.from=t,this.to=e}}class Mt{constructor(t={}){this.id=TA++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=an.match(t)),e=>{let i=t(e);return i===void 0?null:[this,i]}}}Mt.closedBy=new Mt({deserialize:n=>n.split(" ")});Mt.openedBy=new Mt({deserialize:n=>n.split(" ")});Mt.group=new Mt({deserialize:n=>n.split(" ")});Mt.contextHash=new Mt({perNode:!0});Mt.lookAhead=new Mt({perNode:!0});Mt.mounted=new Mt({perNode:!0});const MA=Object.create(null);class an{constructor(t,e,i,r=0){this.name=t,this.props=e,this.id=i,this.flags=r}static define(t){let e=t.props&&t.props.length?Object.create(null):MA,i=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),r=new an(t.name||"",e,t.id,i);if(t.props){for(let o of t.props)if(Array.isArray(o)||(o=o(r)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[o[0].id]=o[1]}}return r}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(Mt.group);return e?e.indexOf(t)>-1:!1}return this.id==t}static match(t){let e=Object.create(null);for(let i in t)for(let r of i.split(" "))e[r]=t[i];return i=>{for(let r=i.prop(Mt.group),o=-1;o<(r?r.length:0);o++){let s=e[o<0?i.name:r[o]];if(s)return s}}}}an.none=new an("",Object.create(null),0,8);class Cu{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let i of this.types){let r=null;for(let o of t){let s=o(i);s&&(r||(r=Object.assign({},i.props)),r[s[0].id]=s[1])}e.push(r?new an(i.name,r,i.id,i.flags):i)}return new Cu(e)}}const kl=new WeakMap,Hp=new WeakMap;var Me;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Me||(Me={}));class ye{constructor(t,e,i,r,o){if(this.type=t,this.children=e,this.positions=i,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,l]of o)this.props[typeof s=="number"?s:s.id]=l}}toString(){let t=this.prop(Mt.mounted);if(t&&!t.overlay)return t.tree.toString();let e="";for(let i of this.children){let r=i.toString();r&&(e&&(e+=","),e+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new Oa(this.topNode,t)}cursorAt(t,e=0,i=0){let r=kl.get(this)||this.topNode,o=new Oa(r);return o.moveTo(t,e),kl.set(this,o._tree),o}get topNode(){return new hi(this,0,0,null)}resolve(t,e=0){let i=gs(kl.get(this)||this.topNode,t,e,!1);return kl.set(this,i),i}resolveInner(t,e=0){let i=gs(Hp.get(this)||this.topNode,t,e,!0);return Hp.set(this,i),i}iterate(t){let{enter:e,leave:i,from:r=0,to:o=this.length}=t;for(let s=this.cursor((t.mode||0)|Me.IncludeAnonymous);;){let l=!1;if(s.from<=o&&s.to>=r&&(s.type.isAnonymous||e(s)!==!1)){if(s.firstChild())continue;l=!0}for(;l&&i&&!s.type.isAnonymous&&i(s),!s.nextSibling();){if(!s.parent())return;l=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:ku(an.none,this.children,this.positions,0,this.children.length,0,this.length,(e,i,r)=>new ye(this.type,e,i,r,this.propValues),t.makeTree||((e,i,r)=>new ye(an.none,e,i,r)))}static build(t){return PA(t)}}ye.empty=new ye(an.none,[],[],0);class Ou{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Ou(this.buffer,this.index)}}class Lr{constructor(t,e,i){this.buffer=t,this.length=e,this.set=i}get type(){return an.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],i=this.buffer[t+3],r=this.set.types[e],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),t+=4,i==t)return o;let s=[];for(;t<i;)s.push(this.childString(t)),t=this.buffer[t+3];return o+"("+s.join(",")+")"}findChild(t,e,i,r,o){let{buffer:s}=this,l=-1;for(let a=t;a!=e&&!(ty(o,r,s[a+1],s[a+2])&&(l=a,i>0));a=s[a+3]);return l}slice(t,e,i){let r=this.buffer,o=new Uint16Array(e-t),s=0;for(let l=t,a=0;l<e;){o[a++]=r[l++],o[a++]=r[l++]-i;let c=o[a++]=r[l++]-i;o[a++]=r[l++]-t,s=Math.max(s,c)}return new Lr(o,s,this.set)}}function ty(n,t,e,i){switch(n){case-2:return e<t;case-1:return i>=t&&e<t;case 0:return e<t&&i>t;case 1:return e<=t&&i>t;case 2:return i>t;case 4:return!0}}function ey(n,t){let e=n.childBefore(t);for(;e;){let i=e.lastChild;if(!i||i.to!=e.to)break;i.type.isError&&i.from==i.to?(n=e,e=i.prevSibling):e=i}return n}function gs(n,t,e,i){for(var r;n.from==n.to||(e<1?n.from>=t:n.from>t)||(e>-1?n.to<=t:n.to<t);){let s=!i&&n instanceof hi&&n.index<0?null:n.parent;if(!s)return n;n=s}let o=i?0:Me.IgnoreOverlays;if(i)for(let s=n,l=s.parent;l;s=l,l=s.parent)s instanceof hi&&s.index<0&&((r=l.enter(t,e,o))===null||r===void 0?void 0:r.from)!=s.from&&(n=l);for(;;){let s=n.enter(t,e,o);if(!s)return n;n=s}}class hi{constructor(t,e,i,r){this._tree=t,this.from=e,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,i,r,o=0){for(let s=this;;){for(let{children:l,positions:a}=s._tree,c=e>0?l.length:-1;t!=c;t+=e){let h=l[t],f=a[t]+s.from;if(ty(r,i,f,f+h.length)){if(h instanceof Lr){if(o&Me.ExcludeBuffers)continue;let u=h.findChild(0,h.buffer.length,e,i-f,r);if(u>-1)return new Li(new DA(s,h,t,f),null,u)}else if(o&Me.IncludeAnonymous||!h.type.isAnonymous||Au(h)){let u;if(!(o&Me.IgnoreMounts)&&h.props&&(u=h.prop(Mt.mounted))&&!u.overlay)return new hi(u.tree,f,t,s);let d=new hi(h,f,t,s);return o&Me.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(e<0?h.children.length-1:0,e,i,r)}}}if(o&Me.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?t=s.index+e:t=e<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,i=0){let r;if(!(i&Me.IgnoreOverlays)&&(r=this._tree.prop(Mt.mounted))&&r.overlay){let o=t-this.from;for(let{from:s,to:l}of r.overlay)if((e>0?s<=o:s<o)&&(e<0?l>=o:l>o))return new hi(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,i)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(t=0){return new Oa(this,t)}get tree(){return this._tree}toTree(){return this._tree}resolve(t,e=0){return gs(this,t,e,!1)}resolveInner(t,e=0){return gs(this,t,e,!0)}enterUnfinishedNodesBefore(t){return ey(this,t)}getChild(t,e=null,i=null){let r=wa(this,t,e,i);return r.length?r[0]:null}getChildren(t,e=null,i=null){return wa(this,t,e,i)}toString(){return this._tree.toString()}get node(){return this}matchContext(t){return Ca(this,t)}}function wa(n,t,e,i){let r=n.cursor(),o=[];if(!r.firstChild())return o;if(e!=null){for(;!r.type.is(e);)if(!r.nextSibling())return o}for(;;){if(i!=null&&r.type.is(i))return o;if(r.type.is(t)&&o.push(r.node),!r.nextSibling())return i==null?o:[]}}function Ca(n,t,e=t.length-1){for(let i=n.parent;e>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(t[e]&&t[e]!=i.name)return!1;e--}}return!0}class DA{constructor(t,e,i,r){this.parent=t,this.buffer=e,this.index=i,this.start=r}}class Li{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,i){this.context=t,this._parent=e,this.index=i,this.type=t.buffer.set.types[t.buffer.buffer[i]]}child(t,e,i){let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.context.start,i);return o<0?null:new Li(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,i=0){if(i&Me.ExcludeBuffers)return null;let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return o<0?null:new Li(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Li(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Li(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}cursor(t=0){return new Oa(this,t)}get tree(){return null}toTree(){let t=[],e=[],{buffer:i}=this.context,r=this.index+4,o=i.buffer[this.index+3];if(o>r){let s=i.buffer[this.index+1];t.push(i.slice(r,o,s)),e.push(0)}return new ye(this.type,t,e,this.to-this.from)}resolve(t,e=0){return gs(this,t,e,!1)}resolveInner(t,e=0){return gs(this,t,e,!0)}enterUnfinishedNodesBefore(t){return ey(this,t)}toString(){return this.context.buffer.childString(this.index)}getChild(t,e=null,i=null){let r=wa(this,t,e,i);return r.length?r[0]:null}getChildren(t,e=null,i=null){return wa(this,t,e,i)}get node(){return this}matchContext(t){return Ca(this,t)}}class Oa{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof hi)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let i=t._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,e){this.index=t;let{start:i,buffer:r}=this.buffer;return this.type=e||r.set.types[r.buffer[t]],this.from=i+r.buffer[t+1],this.to=i+r.buffer[t+2],!0}yield(t){return t?t instanceof hi?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,i){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,i,this.mode));let{buffer:r}=this.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.buffer.start,i);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,i=this.mode){return this.buffer?i&Me.ExcludeBuffers?!1:this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Me.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Me.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:e}=this.buffer,i=this.stack.length-1;if(t<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(e.findChild(r,this.index,-1,0,4))}else{let r=e.buffer[this.index+3];if(r<(i<0?e.buffer.length:e.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,i,{buffer:r}=this;if(r){if(t>0){if(this.index<r.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(r.buffer.buffer[o+3]<this.index)return!1;({index:e,parent:i}=r)}else({index:e,_parent:i}=this._tree);for(;i;{index:e,_parent:i}=i)if(e>-1)for(let o=e+t,s=t<0?-1:i._tree.children.length;o!=s;o+=t){let l=i._tree.children[o];if(this.mode&Me.IncludeAnonymous||l instanceof Lr||!l.type.isAnonymous||Au(l))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,i=0;if(t&&t.context==this.buffer)t:for(let r=this.index,o=this.stack.length;o>=0;){for(let s=t;s;s=s._parent)if(s.index==r){if(r==this.index)return s;e=s,i=o+1;break t}r=this.stack[--o]}for(let r=i;r<this.stack.length;r++)e=new Li(this.buffer,e,this.stack[r]);return this.bufferNode=new Li(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let i=0;;){let r=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&e&&e(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(t){if(!this.buffer)return Ca(this.node,t);let{buffer:e}=this.buffer,{types:i}=e.set;for(let r=t.length-1,o=this.stack.length-1;r>=0;o--){if(o<0)return Ca(this.node,t,r);let s=i[e.buffer[this.stack[o]]];if(!s.isAnonymous){if(t[r]&&t[r]!=s.name)return!1;r--}}return!0}}function Au(n){return n.children.some(t=>t instanceof Lr||!t.type.isAnonymous||Au(t))}function PA(n){var t;let{buffer:e,nodeSet:i,maxBufferLength:r=_v,reused:o=[],minRepeatType:s=i.types.length}=n,l=Array.isArray(e)?new Ou(e,e.length):e,a=i.types,c=0,h=0;function f(x,S,w,E,k){let{id:O,start:M,end:I,size:B}=l,R=h;for(;B<0;)if(l.next(),B==-1){let q=o[O];w.push(q),E.push(M-x);return}else if(B==-3){c=O;return}else if(B==-4){h=O;return}else throw new RangeError(`Unrecognized record size: ${B}`);let P=a[O],Q,H,Y=M-x;if(I-M<=r&&(H=g(l.pos-S,k))){let q=new Uint16Array(H.size-H.skip),ft=l.pos-H.size,xt=q.length;for(;l.pos>ft;)xt=y(H.start,q,xt);Q=new Lr(q,I-H.start,i),Y=H.start-x}else{let q=l.pos-B;l.next();let ft=[],xt=[],kt=O>=s?O:-1,Ot=0,zt=I;for(;l.pos>q;)kt>=0&&l.id==kt&&l.size>=0?(l.end<=zt-r&&(d(ft,xt,M,Ot,l.end,zt,kt,R),Ot=ft.length,zt=l.end),l.next()):f(M,q,ft,xt,kt);if(kt>=0&&Ot>0&&Ot<ft.length&&d(ft,xt,M,Ot,M,zt,kt,R),ft.reverse(),xt.reverse(),kt>-1&&Ot>0){let re=u(P);Q=ku(P,ft,xt,0,ft.length,0,I-M,re,re)}else Q=p(P,ft,xt,I-M,R-I)}w.push(Q),E.push(Y)}function u(x){return(S,w,E)=>{let k=0,O=S.length-1,M,I;if(O>=0&&(M=S[O])instanceof ye){if(!O&&M.type==x&&M.length==E)return M;(I=M.prop(Mt.lookAhead))&&(k=w[O]+M.length+I)}return p(x,S,w,E,k)}}function d(x,S,w,E,k,O,M,I){let B=[],R=[];for(;x.length>E;)B.push(x.pop()),R.push(S.pop()+w-k);x.push(p(i.types[M],B,R,O-k,I-O)),S.push(k-w)}function p(x,S,w,E,k=0,O){if(c){let M=[Mt.contextHash,c];O=O?[M].concat(O):[M]}if(k>25){let M=[Mt.lookAhead,k];O=O?[M].concat(O):[M]}return new ye(x,S,w,E,O)}function g(x,S){let w=l.fork(),E=0,k=0,O=0,M=w.end-r,I={size:0,start:0,skip:0};t:for(let B=w.pos-x;w.pos>B;){let R=w.size;if(w.id==S&&R>=0){I.size=E,I.start=k,I.skip=O,O+=4,E+=4,w.next();continue}let P=w.pos-R;if(R<0||P<B||w.start<M)break;let Q=w.id>=s?4:0,H=w.start;for(w.next();w.pos>P;){if(w.size<0)if(w.size==-3)Q+=4;else break t;else w.id>=s&&(Q+=4);w.next()}k=H,E+=R,O+=Q}return(S<0||E==x)&&(I.size=E,I.start=k,I.skip=O),I.size>4?I:void 0}function y(x,S,w){let{id:E,start:k,end:O,size:M}=l;if(l.next(),M>=0&&E<s){let I=w;if(M>4){let B=l.pos-(M-4);for(;l.pos>B;)w=y(x,S,w)}S[--w]=I,S[--w]=O-x,S[--w]=k-x,S[--w]=E}else M==-3?c=E:M==-4&&(h=E);return w}let v=[],m=[];for(;l.pos>0;)f(n.start||0,n.bufferStart||0,v,m,-1);let b=(t=n.length)!==null&&t!==void 0?t:v.length?m[0]+v[0].length:0;return new ye(a[n.topID],v.reverse(),m.reverse(),b)}const jp=new WeakMap;function Ql(n,t){if(!n.isAnonymous||t instanceof Lr||t.type!=n)return 1;let e=jp.get(t);if(e==null){e=1;for(let i of t.children){if(i.type!=n||!(i instanceof ye)){e=1;break}e+=Ql(n,i)}jp.set(t,e)}return e}function ku(n,t,e,i,r,o,s,l,a){let c=0;for(let p=i;p<r;p++)c+=Ql(n,t[p]);let h=Math.ceil(c*1.5/8),f=[],u=[];function d(p,g,y,v,m){for(let b=y;b<v;){let x=b,S=g[b],w=Ql(n,p[b]);for(b++;b<v;b++){let E=Ql(n,p[b]);if(w+E>=h)break;w+=E}if(b==x+1){if(w>h){let E=p[x];d(E.children,E.positions,0,E.children.length,g[x]+m);continue}f.push(p[x])}else{let E=g[b-1]+p[b-1].length-S;f.push(ku(n,p,g,x,b,S,E,null,a))}u.push(S+m-o)}}return d(t,e,i,r,0),(l||a)(f,u,s)}class wr{constructor(t,e,i,r,o=!1,s=!1){this.from=t,this.to=e,this.tree=i,this.offset=r,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,e=[],i=!1){let r=[new wr(0,t.length,t,0,!1,i)];for(let o of e)o.to>t.length&&r.push(o);return r}static applyChanges(t,e,i=128){if(!e.length)return t;let r=[],o=1,s=t.length?t[0]:null;for(let l=0,a=0,c=0;;l++){let h=l<e.length?e[l]:null,f=h?h.fromA:1e9;if(f-a>=i)for(;s&&s.from<f;){let u=s;if(a>=u.from||f<=u.to||c){let d=Math.max(u.from,a)-c,p=Math.min(u.to,f)-c;u=d>=p?null:new wr(d,p,u.tree,u.offset+c,l>0,!!h)}if(u&&r.push(u),s.to>f)break;s=o<t.length?t[o++]:null}if(!h)break;a=h.toA,c=h.toA-h.toB}return r}}class ny{startParse(t,e,i){return typeof t=="string"&&(t=new IA(t)),i=i?i.length?i.map(r=>new th(r.from,r.to)):[new th(0,0)]:[new th(0,t.length)],this.createParse(t,e||[],i)}parse(t,e,i){let r=this.startParse(t,e,i);for(;;){let o=r.advance();if(o)return o}}}class IA{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new Mt({perNode:!0});let RA=0;class zn{constructor(t,e,i){this.set=t,this.base=e,this.modified=i,this.id=RA++}static define(t){if(t!=null&&t.base)throw new Error("Can not derive from a modified tag");let e=new zn([],null,[]);if(e.set.push(e),t)for(let i of t.set)e.set.push(i);return e}static defineModifier(){let t=new Aa;return e=>e.modified.indexOf(t)>-1?e:Aa.get(e.base||e,e.modified.concat(t).sort((i,r)=>i.id-r.id))}}let LA=0;class Aa{constructor(){this.instances=[],this.id=LA++}static get(t,e){if(!e.length)return t;let i=e[0].instances.find(l=>l.base==t&&NA(e,l.modified));if(i)return i;let r=[],o=new zn(r,t,e);for(let l of e)l.instances.push(o);let s=BA(e);for(let l of t.set)if(!l.modified.length)for(let a of s)r.push(Aa.get(l,a));return o}}function NA(n,t){return n.length==t.length&&n.every((e,i)=>e==t[i])}function BA(n){let t=[[]];for(let e=0;e<n.length;e++)for(let i=0,r=t.length;i<r;i++)t.push(t[i].concat(n[e]));return t.sort((e,i)=>i.length-e.length)}function iy(n){let t=Object.create(null);for(let e in n){let i=n[e];Array.isArray(i)||(i=[i]);for(let r of e.split(" "))if(r){let o=[],s=2,l=r;for(let f=0;;){if(l=="..."&&f>0&&f+3==r.length){s=1;break}let u=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!u)throw new RangeError("Invalid path: "+r);if(o.push(u[0]=="*"?"":u[0][0]=='"'?JSON.parse(u[0]):u[0]),f+=u[0].length,f==r.length)break;let d=r[f++];if(f==r.length&&d=="!"){s=0;break}if(d!="/")throw new RangeError("Invalid path: "+r);l=r.slice(f)}let a=o.length-1,c=o[a];if(!c)throw new RangeError("Invalid path: "+r);let h=new ka(i,s,a>0?o.slice(0,a):null);t[c]=h.sort(t[c])}}return ry.add(t)}const ry=new Mt;class ka{constructor(t,e,i,r){this.tags=t,this.mode=e,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}ka.empty=new ka([],2,null);function sy(n,t){let e=Object.create(null);for(let o of n)if(!Array.isArray(o.tag))e[o.tag.id]=o.class;else for(let s of o.tag)e[s.id]=o.class;let{scope:i,all:r=null}=t||{};return{style:o=>{let s=r;for(let l of o)for(let a of l.set){let c=e[a.id];if(c){s=s?s+" "+c:c;break}}return s},scope:i}}function FA(n,t){let e=null;for(let i of n){let r=i.style(t);r&&(e=e?e+" "+r:r)}return e}function HA(n,t,e,i=0,r=n.length){let o=new jA(i,Array.isArray(t)?t:[t],e);o.highlightRange(n.cursor(),i,r,"",o.highlighters),o.flush(r)}class jA{constructor(t,e,i){this.at=t,this.highlighters=e,this.span=i,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,i,r,o){let{type:s,from:l,to:a}=t;if(l>=i||a<=e)return;s.isTop&&(o=this.highlighters.filter(d=>!d.scope||d.scope(s)));let c=r,h=VA(t)||ka.empty,f=FA(o,h.tags);if(f&&(c&&(c+=" "),c+=f,h.mode==1&&(r+=(r?" ":"")+f)),this.startSpan(t.from,c),h.opaque)return;let u=t.tree&&t.tree.prop(Mt.mounted);if(u&&u.overlay){let d=t.node.enter(u.overlay[0].from+l,1),p=this.highlighters.filter(y=>!y.scope||y.scope(u.tree.type)),g=t.firstChild();for(let y=0,v=l;;y++){let m=y<u.overlay.length?u.overlay[y]:null,b=m?m.from+l:a,x=Math.max(e,v),S=Math.min(i,b);if(x<S&&g)for(;t.from<S&&(this.highlightRange(t,x,S,r,o),this.startSpan(Math.min(S,t.to),c),!(t.to>=b||!t.nextSibling())););if(!m||b>i)break;v=m.to+l,v>e&&(this.highlightRange(d.cursor(),Math.max(e,m.from+l),Math.min(i,v),r,p),this.startSpan(v,c))}g&&t.parent()}else if(t.firstChild()){do if(!(t.to<=e)){if(t.from>=i)break;this.highlightRange(t,e,i,r,o),this.startSpan(Math.min(i,t.to),c)}while(t.nextSibling());t.parent()}}}function VA(n){let t=n.type.prop(ry);for(;t&&t.context&&!n.matchContext(t.context);)t=t.next;return t||null}const J=zn.define,El=J(),Oi=J(),Vp=J(Oi),$p=J(Oi),Ai=J(),Tl=J(Ai),eh=J(Ai),Wn=J(),nr=J(Wn),Vn=J(),$n=J(),yf=J(),Rs=J(yf),Ml=J(),F={comment:El,lineComment:J(El),blockComment:J(El),docComment:J(El),name:Oi,variableName:J(Oi),typeName:Vp,tagName:J(Vp),propertyName:$p,attributeName:J($p),className:J(Oi),labelName:J(Oi),namespace:J(Oi),macroName:J(Oi),literal:Ai,string:Tl,docString:J(Tl),character:J(Tl),attributeValue:J(Tl),number:eh,integer:J(eh),float:J(eh),bool:J(Ai),regexp:J(Ai),escape:J(Ai),color:J(Ai),url:J(Ai),keyword:Vn,self:J(Vn),null:J(Vn),atom:J(Vn),unit:J(Vn),modifier:J(Vn),operatorKeyword:J(Vn),controlKeyword:J(Vn),definitionKeyword:J(Vn),moduleKeyword:J(Vn),operator:$n,derefOperator:J($n),arithmeticOperator:J($n),logicOperator:J($n),bitwiseOperator:J($n),compareOperator:J($n),updateOperator:J($n),definitionOperator:J($n),typeOperator:J($n),controlOperator:J($n),punctuation:yf,separator:J(yf),bracket:Rs,angleBracket:J(Rs),squareBracket:J(Rs),paren:J(Rs),brace:J(Rs),content:Wn,heading:nr,heading1:J(nr),heading2:J(nr),heading3:J(nr),heading4:J(nr),heading5:J(nr),heading6:J(nr),contentSeparator:J(Wn),list:J(Wn),quote:J(Wn),emphasis:J(Wn),strong:J(Wn),link:J(Wn),monospace:J(Wn),strikethrough:J(Wn),inserted:J(),deleted:J(),changed:J(),invalid:J(),meta:Ml,documentMeta:J(Ml),annotation:J(Ml),processingInstruction:J(Ml),definition:zn.defineModifier(),constant:zn.defineModifier(),function:zn.defineModifier(),standard:zn.defineModifier(),local:zn.defineModifier(),special:zn.defineModifier()};sy([{tag:F.link,class:"tok-link"},{tag:F.heading,class:"tok-heading"},{tag:F.emphasis,class:"tok-emphasis"},{tag:F.strong,class:"tok-strong"},{tag:F.keyword,class:"tok-keyword"},{tag:F.atom,class:"tok-atom"},{tag:F.bool,class:"tok-bool"},{tag:F.url,class:"tok-url"},{tag:F.labelName,class:"tok-labelName"},{tag:F.inserted,class:"tok-inserted"},{tag:F.deleted,class:"tok-deleted"},{tag:F.literal,class:"tok-literal"},{tag:F.string,class:"tok-string"},{tag:F.number,class:"tok-number"},{tag:[F.regexp,F.escape,F.special(F.string)],class:"tok-string2"},{tag:F.variableName,class:"tok-variableName"},{tag:F.local(F.variableName),class:"tok-variableName tok-local"},{tag:F.definition(F.variableName),class:"tok-variableName tok-definition"},{tag:F.special(F.variableName),class:"tok-variableName2"},{tag:F.definition(F.propertyName),class:"tok-propertyName tok-definition"},{tag:F.typeName,class:"tok-typeName"},{tag:F.namespace,class:"tok-namespace"},{tag:F.className,class:"tok-className"},{tag:F.macroName,class:"tok-macroName"},{tag:F.propertyName,class:"tok-propertyName"},{tag:F.operator,class:"tok-operator"},{tag:F.comment,class:"tok-comment"},{tag:F.meta,class:"tok-meta"},{tag:F.invalid,class:"tok-invalid"},{tag:F.punctuation,class:"tok-punctuation"}]);var nh;const Gr=new Mt;function $A(n){return st.define({combine:n?t=>t.concat(n):void 0})}const WA=new Mt;class Bn{constructor(t,e,i=[],r=""){this.data=t,this.name=r,Pt.prototype.hasOwnProperty("tree")||Object.defineProperty(Pt.prototype,"tree",{get(){return Ve(this)}}),this.parser=e,this.extension=[Xi.of(this),Pt.languageData.of((o,s,l)=>{let a=Wp(o,s,l),c=a.type.prop(Gr);if(!c)return[];let h=o.facet(c),f=a.type.prop(WA);if(f){let u=a.resolve(s-a.from,l);for(let d of f)if(d.test(u,o)){let p=o.facet(d.facet);return d.type=="replace"?p:p.concat(h)}}return h})].concat(i)}isActiveAt(t,e,i=-1){return Wp(t,e,i).type.prop(Gr)==this.data}findRegions(t){let e=t.facet(Xi);if((e==null?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let i=[],r=(o,s)=>{if(o.prop(Gr)==this.data){i.push({from:s,to:s+o.length});return}let l=o.prop(Mt.mounted);if(l){if(l.tree.prop(Gr)==this.data){if(l.overlay)for(let a of l.overlay)i.push({from:a.from+s,to:a.to+s});else i.push({from:s,to:s+o.length});return}else if(l.overlay){let a=i.length;if(r(l.tree,l.overlay[0].from+s),i.length>a)return}}for(let a=0;a<o.children.length;a++){let c=o.children[a];c instanceof ye&&r(c,o.positions[a]+s)}};return r(Ve(t),0),i}get allowsNesting(){return!0}}Bn.setState=At.define();function Wp(n,t,e){let i=n.facet(Xi),r=Ve(n).topNode;if(!i||i.allowsNesting)for(let o=r;o;o=o.enter(t,e,Me.ExcludeBuffers))o.type.isTop&&(r=o);return r}class Ea extends Bn{constructor(t,e,i){super(t,e,[],i),this.parser=e}static define(t){let e=$A(t.languageData);return new Ea(e,t.parser.configure({props:[Gr.add(i=>i.isTop?e:void 0)]}),t.name)}configure(t,e){return new Ea(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Ve(n){let t=n.field(Bn.state,!1);return t?t.tree:ye.empty}class UA{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let i=this.cursorPos-this.string.length;return t<i||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-i,e-i)}}let Ls=null;class Ta{constructor(t,e,i=[],r,o,s,l,a){this.parser=t,this.state=e,this.fragments=i,this.tree=r,this.treeLen=o,this.viewport=s,this.skipped=l,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(t,e,i){return new Ta(t,e,[],ye.empty,0,i,[],null)}startParse(){return this.parser.startParse(new UA(this.state.doc),this.fragments)}work(t,e){return e!=null&&e>=this.state.doc.length&&(e=void 0),this.tree!=ye.empty&&this.isDone(e??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof t=="number"){let r=Date.now()+t;t=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),e!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(wr.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(e??this.state.doc.length))this.parse=this.startParse();else return!0;if(t())return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(e=this.parse.advance()););}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(wr.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=Ls;Ls=this;try{return t()}finally{Ls=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=Up(t,e.from,e.to);return t}changes(t,e){let{fragments:i,tree:r,treeLen:o,viewport:s,skipped:l}=this;if(this.takeTree(),!t.empty){let a=[];if(t.iterChangedRanges((c,h,f,u)=>a.push({fromA:c,toA:h,fromB:f,toB:u})),i=wr.applyChanges(i,a),r=ye.empty,o=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){l=[];for(let c of this.skipped){let h=t.mapPos(c.from,1),f=t.mapPos(c.to,-1);h<f&&l.push({from:h,to:f})}}}return new Ta(this.parser,e,i,r,o,s,l,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:o}=this.skipped[i];r<t.to&&o>t.from&&(this.fragments=Up(this.fragments,r,o),this.skipped.splice(i--,1))}return this.skipped.length>=e?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends ny{createParse(e,i,r){let o=r[0].from,s=r[r.length-1].to;return{parsedPos:o,advance(){let a=Ls;if(a){for(let c of r)a.tempSkipped.push(c);t&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,t]):t)}return this.parsedPos=s,new ye(an.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&e[0].from==0&&e[0].to>=t}static get(){return Ls}}function Up(n,t,e){return wr.applyChanges(n,[{fromA:t,toA:e,fromB:t,toB:e}])}class ms{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),i=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,i)||e.takeTree(),new ms(e)}static init(t){let e=Math.min(3e3,t.doc.length),i=Ta.create(t.facet(Xi).parser,t,{from:0,to:e});return i.work(20,e)||i.takeTree(),new ms(i)}}Bn.state=Ie.define({create:ms.init,update(n,t){for(let e of t.effects)if(e.is(Bn.setState))return e.value;return t.startState.facet(Xi)!=t.state.facet(Xi)?ms.init(t.state):n.apply(t)}});let oy=n=>{let t=setTimeout(()=>n(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(oy=n=>{let t=-1,e=setTimeout(()=>{t=requestIdleCallback(n,{timeout:500-100})},100);return()=>t<0?clearTimeout(e):cancelIdleCallback(t)});const ih=typeof navigator<"u"&&(!((nh=navigator.scheduling)===null||nh===void 0)&&nh.isInputPending)?()=>navigator.scheduling.isInputPending():null,zA=be.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(Bn.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),t.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(Bn.state);(e.tree!=e.context.tree||!e.context.isDone(t.doc.length))&&(this.working=oy(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,o=i.field(Bn.state);if(o.tree==o.context.tree&&o.context.isDone(r+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!ih?Math.max(25,t.timeRemaining()-5):1e9),l=o.context.treeLen<r&&i.doc.length>r+1e3,a=o.context.work(()=>ih&&ih()||Date.now()>s,r+(l?0:1e5));this.chunkBudget-=Date.now()-e,(a||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Bn.setState.of(new ms(o.context))})),this.chunkBudget>0&&!(a&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(e=>kn(this.view.state,e)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Xi=st.define({combine(n){return n.length?n[0]:null},enables:n=>[Bn.state,zA,et.contentAttributes.compute([n],t=>{let e=t.facet(n);return e&&e.name?{"data-language":e.name}:{}})]});class KA{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}const GA=st.define(),dc=st.define({combine:n=>{if(!n.length)return"  ";let t=n[0];if(!t||/\S/.test(t)||Array.from(t).some(e=>e!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return t}});function Ma(n){let t=n.facet(dc);return t.charCodeAt(0)==9?n.tabSize*t.length:t.length}function Eo(n,t){let e="",i=n.tabSize,r=n.facet(dc)[0];if(r=="	"){for(;t>=i;)e+="	",t-=i;r=" "}for(let o=0;o<t;o++)e+=r;return e}function Eu(n,t){n instanceof Pt&&(n=new pc(n));for(let i of n.state.facet(GA)){let r=i(n,t);if(r!==void 0)return r}let e=Ve(n.state);return e?YA(n,e,t):null}class pc{constructor(t,e={}){this.state=t,this.options=e,this.unit=Ma(t)}lineAt(t,e=1){let i=this.state.doc.lineAt(t),{simulateBreak:r,simulateDoubleBreak:o}=this.options;return r!=null&&r>=i.from&&r<=i.to?o&&r==t?{text:"",from:t}:(e<0?r<t:r<=t)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(t,e);return i.slice(t-r,Math.min(i.length,t+100-r))}column(t,e=1){let{text:i,from:r}=this.lineAt(t,e),o=this.countColumn(i,t-r),s=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return s>-1&&(o+=s-this.countColumn(i,i.search(/\S|$/))),o}countColumn(t,e=t.length){return Uo(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:i,from:r}=this.lineAt(t,e),o=this.options.overrideIndentation;if(o){let s=o(r);if(s>-1)return s}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const ly=new Mt;function YA(n,t,e){return ay(t.resolveInner(e).enterUnfinishedNodesBefore(e),e,n)}function XA(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function JA(n){let t=n.type.prop(ly);if(t)return t;let e=n.firstChild,i;if(e&&(i=e.type.prop(Mt.closedBy))){let r=n.lastChild,o=r&&i.indexOf(r.name)>-1;return s=>_A(s,!0,1,void 0,o&&!XA(s)?r.from:void 0)}return n.parent==null?QA:null}function ay(n,t,e){for(;n;n=n.parent){let i=JA(n);if(i)return i(Tu.create(e,t,n))}return null}function QA(){return 0}class Tu extends pc{constructor(t,e,i){super(t.state,t.options),this.base=t,this.pos=e,this.node=i}static create(t,e,i){return new Tu(t,e,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let t=this.state.doc.lineAt(this.node.from);for(;;){let e=this.node.resolve(t.from);for(;e.parent&&e.parent.from==e.from;)e=e.parent;if(ZA(e,this.node))break;t=this.state.doc.lineAt(e.from)}return this.lineIndent(t.from)}continue(){let t=this.node.parent;return t?ay(t,this.pos,this.base):0}}function ZA(n,t){for(let e=t;e;e=e.parent)if(n==e)return!0;return!1}function qA(n){let t=n.node,e=t.childAfter(t.from),i=t.lastChild;if(!e)return null;let r=n.options.simulateBreak,o=n.state.doc.lineAt(e.from),s=r==null||r<=o.from?o.to:Math.min(o.to,r);for(let l=e.to;;){let a=t.childAfter(l);if(!a||a==i)return null;if(!a.type.isSkipped)return a.from<s?e:null;l=a.to}}function _A(n,t,e,i,r){let o=n.textAfter,s=o.match(/^\s*/)[0].length,l=i&&o.slice(s,s+i.length)==i||r==n.pos+s,a=t?qA(n):null;return a?l?n.column(a.from):n.column(a.to):n.baseIndent+(l?0:n.unit*e)}function zp({except:n,units:t=1}={}){return e=>{let i=n&&n.test(e.textAfter);return e.baseIndent+(i?0:t*e.unit)}}const tk=200;function ek(){return Pt.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let t=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!t.length)return n;let e=n.newDoc,{head:i}=n.newSelection.main,r=e.lineAt(i);if(i>r.from+tk)return n;let o=e.sliceString(r.from,i);if(!t.some(c=>c.test(o)))return n;let{state:s}=n,l=-1,a=[];for(let{head:c}of s.selection.ranges){let h=s.doc.lineAt(c);if(h.from==l)continue;l=h.from;let f=Eu(s,h.from);if(f==null)continue;let u=/^\s*/.exec(h.text)[0],d=Eo(s,f);u!=d&&a.push({from:h.from,to:h.from+u.length,insert:d})}return a.length?[n,{changes:a,sequential:!0}]:n})}const nk=st.define(),cy=new Mt;function ik(n){let t=n.firstChild,e=n.lastChild;return t&&t.to<e.from?{from:t.to,to:e.type.isError?n.to:e.from}:null}function rk(n,t,e){let i=Ve(n);if(i.length<e)return null;let r=i.resolveInner(e,1),o=null;for(let s=r;s;s=s.parent){if(s.to<=e||s.from>e)continue;if(o&&s.from<t)break;let l=s.type.prop(cy);if(l&&(s.to<i.length-50||i.length==n.doc.length||!sk(s))){let a=l(s,n);a&&a.from<=e&&a.from>=t&&a.to>e&&(o=a)}}return o}function sk(n){let t=n.lastChild;return t&&t.to==n.to&&t.type.isError}function Da(n,t,e){for(let i of n.facet(nk)){let r=i(n,t,e);if(r)return r}return rk(n,t,e)}function hy(n,t){let e=t.mapPos(n.from,1),i=t.mapPos(n.to,-1);return e>=i?void 0:{from:e,to:i}}const gc=At.define({map:hy}),Go=At.define({map:hy});function fy(n){let t=[];for(let{head:e}of n.state.selection.ranges)t.some(i=>i.from<=e&&i.to>=e)||t.push(n.lineBlockAt(e));return t}const Dr=Ie.define({create(){return ut.none},update(n,t){n=n.map(t.changes);for(let e of t.effects)e.is(gc)&&!ok(n,e.value.from,e.value.to)?n=n.update({add:[Kp.range(e.value.from,e.value.to)]}):e.is(Go)&&(n=n.update({filter:(i,r)=>e.value.from!=i||e.value.to!=r,filterFrom:e.value.from,filterTo:e.value.to}));if(t.selection){let e=!1,{head:i}=t.selection.main;n.between(i,i,(r,o)=>{r<i&&o>i&&(e=!0)}),e&&(n=n.update({filterFrom:i,filterTo:i,filter:(r,o)=>o<=i||r>=i}))}return n},provide:n=>et.decorations.from(n),toJSON(n,t){let e=[];return n.between(0,t.doc.length,(i,r)=>{e.push(i,r)}),e},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let e=0;e<n.length;){let i=n[e++],r=n[e++];if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");t.push(Kp.range(i,r))}return ut.set(t,!0)}});function Pa(n,t,e){var i;let r=null;return(i=n.field(Dr,!1))===null||i===void 0||i.between(t,e,(o,s)=>{(!r||r.from>o)&&(r={from:o,to:s})}),r}function ok(n,t,e){let i=!1;return n.between(t,t,(r,o)=>{r==t&&o==e&&(i=!0)}),i}function uy(n,t){return n.field(Dr,!1)?t:t.concat(At.appendConfig.of(gy()))}const lk=n=>{for(let t of fy(n)){let e=Da(n.state,t.from,t.to);if(e)return n.dispatch({effects:uy(n.state,[gc.of(e),dy(n,e)])}),!0}return!1},ak=n=>{if(!n.state.field(Dr,!1))return!1;let t=[];for(let e of fy(n)){let i=Pa(n.state,e.from,e.to);i&&t.push(Go.of(i),dy(n,i,!1))}return t.length&&n.dispatch({effects:t}),t.length>0};function dy(n,t,e=!0){let i=n.state.doc.lineAt(t.from).number,r=n.state.doc.lineAt(t.to).number;return et.announce.of(`${n.state.phrase(e?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${r}.`)}const ck=n=>{let{state:t}=n,e=[];for(let i=0;i<t.doc.length;){let r=n.lineBlockAt(i),o=Da(t,r.from,r.to);o&&e.push(gc.of(o)),i=(o?n.lineBlockAt(o.to):r).to+1}return e.length&&n.dispatch({effects:uy(n.state,e)}),!!e.length},hk=n=>{let t=n.state.field(Dr,!1);if(!t||!t.size)return!1;let e=[];return t.between(0,n.state.doc.length,(i,r)=>{e.push(Go.of({from:i,to:r}))}),n.dispatch({effects:e}),!0},fk=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:lk},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:ak},{key:"Ctrl-Alt-[",run:ck},{key:"Ctrl-Alt-]",run:hk}],uk={placeholderDOM:null,placeholderText:""},py=st.define({combine(n){return ti(n,uk)}});function gy(n){let t=[Dr,gk];return n&&t.push(py.of(n)),t}const Kp=ut.replace({widget:new class extends vi{toDOM(n){let{state:t}=n,e=t.facet(py),i=o=>{let s=n.lineBlockAt(n.posAtDOM(o.target)),l=Pa(n.state,s.from,s.to);l&&n.dispatch({effects:Go.of(l)}),o.preventDefault()};if(e.placeholderDOM)return e.placeholderDOM(n,i);let r=document.createElement("span");return r.textContent=e.placeholderText,r.setAttribute("aria-label",t.phrase("folded code")),r.title=t.phrase("unfold"),r.className="cm-foldPlaceholder",r.onclick=i,r}}}),dk={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class rh extends di{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function pk(n={}){let t=Object.assign(Object.assign({},dk),n),e=new rh(t,!0),i=new rh(t,!1),r=be.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(Xi)!=s.state.facet(Xi)||s.startState.field(Dr,!1)!=s.state.field(Dr,!1)||Ve(s.startState)!=Ve(s.state)||t.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let l=new Ki;for(let a of s.viewportLineBlocks){let c=Pa(s.state,a.from,a.to)?i:Da(s.state,a.from,a.to)?e:null;c&&l.add(a.from,a.from,c)}return l.finish()}}),{domEventHandlers:o}=t;return[r,yA({class:"cm-foldGutter",markers(s){var l;return((l=s.plugin(r))===null||l===void 0?void 0:l.markers)||$t.empty},initialSpacer(){return new rh(t,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(s,l,a)=>{if(o.click&&o.click(s,l,a))return!0;let c=Pa(s.state,l.from,l.to);if(c)return s.dispatch({effects:Go.of(c)}),!0;let h=Da(s.state,l.from,l.to);return h?(s.dispatch({effects:gc.of(h)}),!0):!1}})}),gy()]}const gk=et.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Yo{constructor(t,e){this.specs=t;let i;function r(l){let a=Gi.newName();return(i||(i=Object.create(null)))["."+a]=l,a}const o=typeof e.all=="string"?e.all:e.all?r(e.all):void 0,s=e.scope;this.scope=s instanceof Bn?l=>l.prop(Gr)==s.data:s?l=>l==s:void 0,this.style=sy(t.map(l=>({tag:l.tag,class:l.class||r(Object.assign({},l,{tag:null}))})),{all:o}).style,this.module=i?new Gi(i):null,this.themeType=e.themeType}static define(t,e){return new Yo(t,e||{})}}const bf=st.define(),my=st.define({combine(n){return n.length?[n[0]]:null}});function sh(n){let t=n.facet(bf);return t.length?t:n.facet(my)}function vy(n,t){let e=[vk],i;return n instanceof Yo&&(n.module&&e.push(et.styleModule.of(n.module)),i=n.themeType),t!=null&&t.fallback?e.push(my.of(n)):i?e.push(bf.computeN([et.darkTheme],r=>r.facet(et.darkTheme)==(i=="dark")?[n]:[])):e.push(bf.of(n)),e}class mk{constructor(t){this.markCache=Object.create(null),this.tree=Ve(t.state),this.decorations=this.buildDeco(t,sh(t.state))}update(t){let e=Ve(t.state),i=sh(t.state),r=i!=sh(t.startState);e.length<t.view.viewport.to&&!r&&e.type==this.tree.type?this.decorations=this.decorations.map(t.changes):(e!=this.tree||t.viewportChanged||r)&&(this.tree=e,this.decorations=this.buildDeco(t.view,i))}buildDeco(t,e){if(!e||!this.tree.length)return ut.none;let i=new Ki;for(let{from:r,to:o}of t.visibleRanges)HA(this.tree,e,(s,l,a)=>{i.add(s,l,this.markCache[a]||(this.markCache[a]=ut.mark({class:a})))},r,o);return i.finish()}}const vk=Cs.high(be.fromClass(mk,{decorations:n=>n.decorations})),yk=Yo.define([{tag:F.meta,color:"#404740"},{tag:F.link,textDecoration:"underline"},{tag:F.heading,textDecoration:"underline",fontWeight:"bold"},{tag:F.emphasis,fontStyle:"italic"},{tag:F.strong,fontWeight:"bold"},{tag:F.strikethrough,textDecoration:"line-through"},{tag:F.keyword,color:"#708"},{tag:[F.atom,F.bool,F.url,F.contentSeparator,F.labelName],color:"#219"},{tag:[F.literal,F.inserted],color:"#164"},{tag:[F.string,F.deleted],color:"#a11"},{tag:[F.regexp,F.escape,F.special(F.string)],color:"#e40"},{tag:F.definition(F.variableName),color:"#00f"},{tag:F.local(F.variableName),color:"#30a"},{tag:[F.typeName,F.namespace],color:"#085"},{tag:F.className,color:"#167"},{tag:[F.special(F.variableName),F.macroName],color:"#256"},{tag:F.definition(F.propertyName),color:"#00c"},{tag:F.comment,color:"#940"},{tag:F.invalid,color:"#f00"}]),bk=et.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),yy=1e4,by="()[]{}",xy=st.define({combine(n){return ti(n,{afterCursor:!0,brackets:by,maxScanDistance:yy,renderMatch:wk})}}),xk=ut.mark({class:"cm-matchingBracket"}),Sk=ut.mark({class:"cm-nonmatchingBracket"});function wk(n){let t=[],e=n.matched?xk:Sk;return t.push(e.range(n.start.from,n.start.to)),n.end&&t.push(e.range(n.end.from,n.end.to)),t}const Ck=Ie.define({create(){return ut.none},update(n,t){if(!t.docChanged&&!t.selection)return n;let e=[],i=t.state.facet(xy);for(let r of t.state.selection.ranges){if(!r.empty)continue;let o=Yn(t.state,r.head,-1,i)||r.head>0&&Yn(t.state,r.head-1,1,i)||i.afterCursor&&(Yn(t.state,r.head,1,i)||r.head<t.state.doc.length&&Yn(t.state,r.head+1,-1,i));o&&(e=e.concat(i.renderMatch(o,t.state)))}return ut.set(e,!0)},provide:n=>et.decorations.from(n)}),Ok=[Ck,bk];function Ak(n={}){return[xy.of(n),Ok]}const kk=new Mt;function xf(n,t,e){let i=n.prop(t<0?Mt.openedBy:Mt.closedBy);if(i)return i;if(n.name.length==1){let r=e.indexOf(n.name);if(r>-1&&r%2==(t<0?1:0))return[e[r+t]]}return null}function Sf(n){let t=n.type.prop(kk);return t?t(n.node):n}function Yn(n,t,e,i={}){let r=i.maxScanDistance||yy,o=i.brackets||by,s=Ve(n),l=s.resolveInner(t,e);for(let a=l;a;a=a.parent){let c=xf(a.type,e,o);if(c&&a.from<a.to){let h=Sf(a);if(h&&(e>0?t>=h.from&&t<h.to:t>h.from&&t<=h.to))return Ek(n,t,e,a,h,c,o)}}return Tk(n,t,e,s,l.type,r,o)}function Ek(n,t,e,i,r,o,s){let l=i.parent,a={from:r.from,to:r.to},c=0,h=l==null?void 0:l.cursor();if(h&&(e<0?h.childBefore(i.from):h.childAfter(i.to)))do if(e<0?h.to<=i.from:h.from>=i.to){if(c==0&&o.indexOf(h.type.name)>-1&&h.from<h.to){let f=Sf(h);return{start:a,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(xf(h.type,e,s))c++;else if(xf(h.type,-e,s)){if(c==0){let f=Sf(h);return{start:a,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}c--}}while(e<0?h.prevSibling():h.nextSibling());return{start:a,matched:!1}}function Tk(n,t,e,i,r,o,s){let l=e<0?n.sliceDoc(t-1,t):n.sliceDoc(t,t+1),a=s.indexOf(l);if(a<0||a%2==0!=e>0)return null;let c={from:e<0?t-1:t,to:e>0?t+1:t},h=n.doc.iterRange(t,e>0?n.doc.length:0),f=0;for(let u=0;!h.next().done&&u<=o;){let d=h.value;e<0&&(u+=d.length);let p=t+u*e;for(let g=e>0?0:d.length-1,y=e>0?d.length:-1;g!=y;g+=e){let v=s.indexOf(d[g]);if(!(v<0||i.resolveInner(p+g,1).type!=r))if(v%2==0==e>0)f++;else{if(f==1)return{start:c,end:{from:p+g,to:p+g+1},matched:v>>1==a>>1};f--}}e>0&&(u+=d.length)}return h.done?{start:c,matched:!1}:null}const Mk=Object.create(null),Gp=[an.none],Yp=[],Dk=Object.create(null);for(let[n,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Dk[n]=Pk(Mk,t);function oh(n,t){Yp.indexOf(n)>-1||(Yp.push(n),console.warn(t))}function Pk(n,t){let e=null;for(let o of t.split(".")){let s=n[o]||F[o];s?typeof s=="function"?e?e=s(e):oh(o,`Modifier ${o} used at start of tag`):e?oh(o,`Tag ${o} used as modifier`):e=s:oh(o,`Unknown highlighting tag ${o}`)}if(!e)return 0;let i=t.replace(/ /g,"_"),r=an.define({id:Gp.length,name:i,props:[iy({[i]:e})]});return Gp.push(r),r.id}const Ik=n=>{let{state:t}=n,e=t.doc.lineAt(t.selection.main.from),i=Du(n.state,e.from);return i.line?Rk(n):i.block?Nk(n):!1};function Mu(n,t){return({state:e,dispatch:i})=>{if(e.readOnly)return!1;let r=n(t,e);return r?(i(e.update(r)),!0):!1}}const Rk=Mu(Hk,0),Lk=Mu(Sy,0),Nk=Mu((n,t)=>Sy(n,t,Fk(t)),0);function Du(n,t){let e=n.languageDataAt("commentTokens",t);return e.length?e[0]:{}}const Ns=50;function Bk(n,{open:t,close:e},i,r){let o=n.sliceDoc(i-Ns,i),s=n.sliceDoc(r,r+Ns),l=/\s*$/.exec(o)[0].length,a=/^\s*/.exec(s)[0].length,c=o.length-l;if(o.slice(c-t.length,c)==t&&s.slice(a,a+e.length)==e)return{open:{pos:i-l,margin:l&&1},close:{pos:r+a,margin:a&&1}};let h,f;r-i<=2*Ns?h=f=n.sliceDoc(i,r):(h=n.sliceDoc(i,i+Ns),f=n.sliceDoc(r-Ns,r));let u=/^\s*/.exec(h)[0].length,d=/\s*$/.exec(f)[0].length,p=f.length-d-e.length;return h.slice(u,u+t.length)==t&&f.slice(p,p+e.length)==e?{open:{pos:i+u+t.length,margin:/\s/.test(h.charAt(u+t.length))?1:0},close:{pos:r-d-e.length,margin:/\s/.test(f.charAt(p-1))?1:0}}:null}function Fk(n){let t=[];for(let e of n.selection.ranges){let i=n.doc.lineAt(e.from),r=e.to<=i.to?i:n.doc.lineAt(e.to),o=t.length-1;o>=0&&t[o].to>i.from?t[o].to=r.to:t.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return t}function Sy(n,t,e=t.selection.ranges){let i=e.map(o=>Du(t,o.from).block);if(!i.every(o=>o))return null;let r=e.map((o,s)=>Bk(t,i[s],o.from,o.to));if(n!=2&&!r.every(o=>o))return{changes:t.changes(e.map((o,s)=>r[s]?[]:[{from:o.from,insert:i[s].open+" "},{from:o.to,insert:" "+i[s].close}]))};if(n!=1&&r.some(o=>o)){let o=[];for(let s=0,l;s<r.length;s++)if(l=r[s]){let a=i[s],{open:c,close:h}=l;o.push({from:c.pos-a.open.length,to:c.pos+c.margin},{from:h.pos-h.margin,to:h.pos+a.close.length})}return{changes:o}}return null}function Hk(n,t,e=t.selection.ranges){let i=[],r=-1;for(let{from:o,to:s}of e){let l=i.length,a=1e9,c=Du(t,o).line;if(c){for(let h=o;h<=s;){let f=t.doc.lineAt(h);if(f.from>r&&(o==s||s>f.from)){r=f.from;let u=/^\s*/.exec(f.text)[0].length,d=u==f.length,p=f.text.slice(u,u+c.length)==c?u:-1;u<f.text.length&&u<a&&(a=u),i.push({line:f,comment:p,token:c,indent:u,empty:d,single:!1})}h=f.to+1}if(a<1e9)for(let h=l;h<i.length;h++)i[h].indent<i[h].line.text.length&&(i[h].indent=a);i.length==l+1&&(i[l].single=!0)}}if(n!=2&&i.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:l,token:a,indent:c,empty:h,single:f}of i)(f||!h)&&o.push({from:l.from+c,insert:a+" "});let s=t.changes(o);return{changes:s,selection:t.selection.map(s,1)}}else if(n!=1&&i.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:l,token:a}of i)if(l>=0){let c=s.from+l,h=c+a.length;s.text[h-s.from]==" "&&h++,o.push({from:c,to:h})}return{changes:o}}return null}const wf=mi.define(),jk=mi.define(),Vk=st.define(),wy=st.define({combine(n){return ti(n,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(i,r)=>t(i,r)||e(i,r)})}});function $k(n){let t=0;return n.iterChangedRanges((e,i)=>t=i),t}const Cy=Ie.define({create(){return Xn.empty},update(n,t){let e=t.state.facet(wy),i=t.annotation(wf);if(i){let a=t.docChanged?V.single($k(t.changes)):void 0,c=rn.fromTransaction(t,a),h=i.side,f=h==0?n.undone:n.done;return c?f=Ia(f,f.length,e.minDepth,c):f=ky(f,t.startState.selection),new Xn(h==0?i.rest:f,h==0?f:i.rest)}let r=t.annotation(jk);if((r=="full"||r=="before")&&(n=n.isolate()),t.annotation(Se.addToHistory)===!1)return t.changes.empty?n:n.addMapping(t.changes.desc);let o=rn.fromTransaction(t),s=t.annotation(Se.time),l=t.annotation(Se.userEvent);return o?n=n.addChanges(o,s,l,e,t):t.selection&&(n=n.addSelection(t.startState.selection,s,l,e.newGroupDelay)),(r=="full"||r=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(t=>t.toJSON()),undone:n.undone.map(t=>t.toJSON())}},fromJSON(n){return new Xn(n.done.map(rn.fromJSON),n.undone.map(rn.fromJSON))}});function Wk(n={}){return[Cy,wy.of(n),et.domEventHandlers({beforeinput(t,e){let i=t.inputType=="historyUndo"?Oy:t.inputType=="historyRedo"?Cf:null;return i?(t.preventDefault(),i(e)):!1}})]}function mc(n,t){return function({state:e,dispatch:i}){if(!t&&e.readOnly)return!1;let r=e.field(Cy,!1);if(!r)return!1;let o=r.pop(n,e,t);return o?(i(o),!0):!1}}const Oy=mc(0,!1),Cf=mc(1,!1),Uk=mc(0,!0),zk=mc(1,!0);class rn{constructor(t,e,i,r,o){this.changes=t,this.effects=e,this.mapped=i,this.startSelection=r,this.selectionsAfter=o}setSelAfter(t){return new rn(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,i;return{changes:(t=this.changes)===null||t===void 0?void 0:t.toJSON(),mapped:(e=this.mapped)===null||e===void 0?void 0:e.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(t){return new rn(t.changes&&xe.fromJSON(t.changes),[],t.mapped&&Qn.fromJSON(t.mapped),t.startSelection&&V.fromJSON(t.startSelection),t.selectionsAfter.map(V.fromJSON))}static fromTransaction(t,e){let i=An;for(let r of t.startState.facet(Vk)){let o=r(t);o.length&&(i=i.concat(o))}return!i.length&&t.changes.empty?null:new rn(t.changes.invert(t.startState.doc),i,void 0,e||t.startState.selection,An)}static selection(t){return new rn(void 0,An,void 0,void 0,t)}}function Ia(n,t,e,i){let r=t+1>e+20?t-e-1:0,o=n.slice(r,t);return o.push(i),o}function Kk(n,t){let e=[],i=!1;return n.iterChangedRanges((r,o)=>e.push(r,o)),t.iterChangedRanges((r,o,s,l)=>{for(let a=0;a<e.length;){let c=e[a++],h=e[a++];l>=c&&s<=h&&(i=!0)}}),i}function Gk(n,t){return n.ranges.length==t.ranges.length&&n.ranges.filter((e,i)=>e.empty!=t.ranges[i].empty).length===0}function Ay(n,t){return n.length?t.length?n.concat(t):n:t}const An=[],Yk=200;function ky(n,t){if(n.length){let e=n[n.length-1],i=e.selectionsAfter.slice(Math.max(0,e.selectionsAfter.length-Yk));return i.length&&i[i.length-1].eq(t)?n:(i.push(t),Ia(n,n.length-1,1e9,e.setSelAfter(i)))}else return[rn.selection([t])]}function Xk(n){let t=n[n.length-1],e=n.slice();return e[n.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),e}function lh(n,t){if(!n.length)return n;let e=n.length,i=An;for(;e;){let r=Jk(n[e-1],t,i);if(r.changes&&!r.changes.empty||r.effects.length){let o=n.slice(0,e);return o[e-1]=r,o}else t=r.mapped,e--,i=r.selectionsAfter}return i.length?[rn.selection(i)]:An}function Jk(n,t,e){let i=Ay(n.selectionsAfter.length?n.selectionsAfter.map(l=>l.map(t)):An,e);if(!n.changes)return rn.selection(i);let r=n.changes.map(t),o=t.mapDesc(n.changes,!0),s=n.mapped?n.mapped.composeDesc(o):o;return new rn(r,At.mapEffects(n.effects,t),s,n.startSelection.map(o),i)}const Qk=/^(input\.type|delete)($|\.)/;class Xn{constructor(t,e,i=0,r=void 0){this.done=t,this.undone=e,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new Xn(this.done,this.undone):this}addChanges(t,e,i,r,o){let s=this.done,l=s[s.length-1];return l&&l.changes&&!l.changes.empty&&t.changes&&(!i||Qk.test(i))&&(!l.selectionsAfter.length&&e-this.prevTime<r.newGroupDelay&&r.joinToEvent(o,Kk(l.changes,t.changes))||i=="input.type.compose")?s=Ia(s,s.length-1,r.minDepth,new rn(t.changes.compose(l.changes),Ay(t.effects,l.effects),l.mapped,l.startSelection,An)):s=Ia(s,s.length,r.minDepth,t),new Xn(s,An,e,i)}addSelection(t,e,i,r){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:An;return o.length>0&&e-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&Gk(o[o.length-1],t)?this:new Xn(ky(this.done,t),this.undone,e,i)}addMapping(t){return new Xn(lh(this.done,t),lh(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,i){let r=t==0?this.done:this.undone;if(r.length==0)return null;let o=r[r.length-1];if(i&&o.selectionsAfter.length)return e.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:wf.of({side:t,rest:Xk(r)}),userEvent:t==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let s=r.length==1?An:r.slice(0,r.length-1);return o.mapped&&(s=lh(s,o.mapped)),e.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:wf.of({side:t,rest:s}),filter:!1,userEvent:t==0?"undo":"redo",scrollIntoView:!0})}else return null}}Xn.empty=new Xn(An,An);const Zk=[{key:"Mod-z",run:Oy,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Cf,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Cf,preventDefault:!0},{key:"Mod-u",run:Uk,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:zk,preventDefault:!0}];function Os(n,t){return V.create(n.ranges.map(t),n.mainIndex)}function ei(n,t){return n.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Hn({state:n,dispatch:t},e){let i=Os(n.selection,e);return i.eq(n.selection)?!1:(t(ei(n,i)),!0)}function vc(n,t){return V.cursor(t?n.to:n.from)}function Ey(n,t){return Hn(n,e=>e.empty?n.moveByChar(e,t):vc(e,t))}function $e(n){return n.textDirectionAt(n.state.selection.main.head)==le.LTR}const Ty=n=>Ey(n,!$e(n)),My=n=>Ey(n,$e(n));function Dy(n,t){return Hn(n,e=>e.empty?n.moveByGroup(e,t):vc(e,t))}const qk=n=>Dy(n,!$e(n)),_k=n=>Dy(n,$e(n));function tE(n,t,e){if(t.type.prop(e))return!0;let i=t.to-t.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(t.from,t.to)))||t.firstChild}function yc(n,t,e){let i=Ve(n).resolveInner(t.head),r=e?Mt.closedBy:Mt.openedBy;for(let a=t.head;;){let c=e?i.childAfter(a):i.childBefore(a);if(!c)break;tE(n,c,r)?i=c:a=e?c.to:c.from}let o=i.type.prop(r),s,l;return o&&(s=e?Yn(n,i.from,1):Yn(n,i.to,-1))&&s.matched?l=e?s.end.to:s.end.from:l=e?i.to:i.from,V.cursor(l,e?-1:1)}const eE=n=>Hn(n,t=>yc(n.state,t,!$e(n))),nE=n=>Hn(n,t=>yc(n.state,t,$e(n)));function Py(n,t){return Hn(n,e=>{if(!e.empty)return vc(e,t);let i=n.moveVertically(e,t);return i.head!=e.head?i:n.moveToLineBoundary(e,t)})}const Iy=n=>Py(n,!1),Ry=n=>Py(n,!0);function Ly(n){let t=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,e=0,i=0,r;if(t){for(let o of n.state.facet(et.scrollMargins)){let s=o(n);s!=null&&s.top&&(e=Math.max(s==null?void 0:s.top,e)),s!=null&&s.bottom&&(i=Math.max(s==null?void 0:s.bottom,i))}r=n.scrollDOM.clientHeight-e-i}else r=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:e,marginBottom:i,selfScroll:t,height:Math.max(n.defaultLineHeight,r-5)}}function Ny(n,t){let e=Ly(n),{state:i}=n,r=Os(i.selection,s=>s.empty?n.moveVertically(s,t,e.height):vc(s,t));if(r.eq(i.selection))return!1;let o;if(e.selfScroll){let s=n.coordsAtPos(i.selection.main.head),l=n.scrollDOM.getBoundingClientRect(),a=l.top+e.marginTop,c=l.bottom-e.marginBottom;s&&s.top>a&&s.bottom<c&&(o=et.scrollIntoView(r.main.head,{y:"start",yMargin:s.top-a}))}return n.dispatch(ei(i,r),{effects:o}),!0}const Xp=n=>Ny(n,!1),Of=n=>Ny(n,!0);function Zi(n,t,e){let i=n.lineBlockAt(t.head),r=n.moveToLineBoundary(t,e);if(r.head==t.head&&r.head!=(e?i.to:i.from)&&(r=n.moveToLineBoundary(t,e,!1)),!e&&r.head==i.from&&i.length){let o=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;o&&t.head!=i.from+o&&(r=V.cursor(i.from+o))}return r}const iE=n=>Hn(n,t=>Zi(n,t,!0)),rE=n=>Hn(n,t=>Zi(n,t,!1)),sE=n=>Hn(n,t=>Zi(n,t,!$e(n))),oE=n=>Hn(n,t=>Zi(n,t,$e(n))),lE=n=>Hn(n,t=>V.cursor(n.lineBlockAt(t.head).from,1)),aE=n=>Hn(n,t=>V.cursor(n.lineBlockAt(t.head).to,-1));function cE(n,t,e){let i=!1,r=Os(n.selection,o=>{let s=Yn(n,o.head,-1)||Yn(n,o.head,1)||o.head>0&&Yn(n,o.head-1,1)||o.head<n.doc.length&&Yn(n,o.head+1,-1);if(!s||!s.end)return o;i=!0;let l=s.start.from==o.head?s.end.to:s.end.from;return e?V.range(o.anchor,l):V.cursor(l)});return i?(t(ei(n,r)),!0):!1}const hE=({state:n,dispatch:t})=>cE(n,t,!1);function Tn(n,t){let e=Os(n.state.selection,i=>{let r=t(i);return V.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return e.eq(n.state.selection)?!1:(n.dispatch(ei(n.state,e)),!0)}function By(n,t){return Tn(n,e=>n.moveByChar(e,t))}const Fy=n=>By(n,!$e(n)),Hy=n=>By(n,$e(n));function jy(n,t){return Tn(n,e=>n.moveByGroup(e,t))}const fE=n=>jy(n,!$e(n)),uE=n=>jy(n,$e(n)),dE=n=>Tn(n,t=>yc(n.state,t,!$e(n))),pE=n=>Tn(n,t=>yc(n.state,t,$e(n)));function Vy(n,t){return Tn(n,e=>n.moveVertically(e,t))}const $y=n=>Vy(n,!1),Wy=n=>Vy(n,!0);function Uy(n,t){return Tn(n,e=>n.moveVertically(e,t,Ly(n).height))}const Jp=n=>Uy(n,!1),Qp=n=>Uy(n,!0),gE=n=>Tn(n,t=>Zi(n,t,!0)),mE=n=>Tn(n,t=>Zi(n,t,!1)),vE=n=>Tn(n,t=>Zi(n,t,!$e(n))),yE=n=>Tn(n,t=>Zi(n,t,$e(n))),bE=n=>Tn(n,t=>V.cursor(n.lineBlockAt(t.head).from)),xE=n=>Tn(n,t=>V.cursor(n.lineBlockAt(t.head).to)),Zp=({state:n,dispatch:t})=>(t(ei(n,{anchor:0})),!0),qp=({state:n,dispatch:t})=>(t(ei(n,{anchor:n.doc.length})),!0),_p=({state:n,dispatch:t})=>(t(ei(n,{anchor:n.selection.main.anchor,head:0})),!0),tg=({state:n,dispatch:t})=>(t(ei(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),SE=({state:n,dispatch:t})=>(t(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),wE=({state:n,dispatch:t})=>{let e=xc(n).map(({from:i,to:r})=>V.range(i,Math.min(r+1,n.doc.length)));return t(n.update({selection:V.create(e),userEvent:"select"})),!0},CE=({state:n,dispatch:t})=>{let e=Os(n.selection,i=>{var r;let o=Ve(n).resolveInner(i.head,1);for(;!(o.from<i.from&&o.to>=i.to||o.to>i.to&&o.from<=i.from||!(!((r=o.parent)===null||r===void 0)&&r.parent));)o=o.parent;return V.range(o.to,o.from)});return t(ei(n,e)),!0},OE=({state:n,dispatch:t})=>{let e=n.selection,i=null;return e.ranges.length>1?i=V.create([e.main]):e.main.empty||(i=V.create([V.cursor(e.main.head)])),i?(t(ei(n,i)),!0):!1};function bc(n,t){if(n.state.readOnly)return!1;let e="delete.selection",{state:i}=n,r=i.changeByRange(o=>{let{from:s,to:l}=o;if(s==l){let a=t(s);a<s?(e="delete.backward",a=Dl(n,a,!1)):a>s&&(e="delete.forward",a=Dl(n,a,!0)),s=Math.min(s,a),l=Math.max(l,a)}else s=Dl(n,s,!1),l=Dl(n,l,!0);return s==l?{range:o}:{changes:{from:s,to:l},range:V.cursor(s)}});return r.changes.empty?!1:(n.dispatch(i.update(r,{scrollIntoView:!0,userEvent:e,effects:e=="delete.selection"?et.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function Dl(n,t,e){if(n instanceof et)for(let i of n.state.facet(et.atomicRanges).map(r=>r(n)))i.between(t,t,(r,o)=>{r<t&&o>t&&(t=e?o:r)});return t}const zy=(n,t)=>bc(n,e=>{let{state:i}=n,r=i.doc.lineAt(e),o,s;if(!t&&e>r.from&&e<r.from+200&&!/[^ \t]/.test(o=r.text.slice(0,e-r.from))){if(o[o.length-1]=="	")return e-1;let l=Uo(o,i.tabSize),a=l%Ma(i)||Ma(i);for(let c=0;c<a&&o[o.length-1-c]==" ";c++)e--;s=e}else s=Xe(r.text,e-r.from,t,t)+r.from,s==e&&r.number!=(t?i.doc.lines:1)&&(s+=t?1:-1);return s}),Af=n=>zy(n,!1),Ky=n=>zy(n,!0),Gy=(n,t)=>bc(n,e=>{let i=e,{state:r}=n,o=r.doc.lineAt(i),s=r.charCategorizer(i);for(let l=null;;){if(i==(t?o.to:o.from)){i==e&&o.number!=(t?r.doc.lines:1)&&(i+=t?1:-1);break}let a=Xe(o.text,i-o.from,t)+o.from,c=o.text.slice(Math.min(i,a)-o.from,Math.max(i,a)-o.from),h=s(c);if(l!=null&&h!=l)break;(c!=" "||i!=e)&&(l=h),i=a}return i}),Yy=n=>Gy(n,!1),AE=n=>Gy(n,!0),Xy=n=>bc(n,t=>{let e=n.lineBlockAt(t).to;return t<e?e:Math.min(n.state.doc.length,t+1)}),kE=n=>bc(n,t=>{let e=n.lineBlockAt(t).from;return t>e?e:Math.max(0,t-1)}),EE=({state:n,dispatch:t})=>{if(n.readOnly)return!1;let e=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:Vt.of(["",""])},range:V.cursor(i.from)}));return t(n.update(e,{scrollIntoView:!0,userEvent:"input"})),!0},TE=({state:n,dispatch:t})=>{if(n.readOnly)return!1;let e=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let r=i.from,o=n.doc.lineAt(r),s=r==o.from?r-1:Xe(o.text,r-o.from,!1)+o.from,l=r==o.to?r+1:Xe(o.text,r-o.from,!0)+o.from;return{changes:{from:s,to:l,insert:n.doc.slice(r,l).append(n.doc.slice(s,r))},range:V.cursor(l)}});return e.changes.empty?!1:(t(n.update(e,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function xc(n){let t=[],e=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.from),o=n.doc.lineAt(i.to);if(!i.empty&&i.to==o.from&&(o=n.doc.lineAt(i.to-1)),e>=r.number){let s=t[t.length-1];s.to=o.to,s.ranges.push(i)}else t.push({from:r.from,to:o.to,ranges:[i]});e=o.number+1}return t}function Jy(n,t,e){if(n.readOnly)return!1;let i=[],r=[];for(let o of xc(n)){if(e?o.to==n.doc.length:o.from==0)continue;let s=n.doc.lineAt(e?o.to+1:o.from-1),l=s.length+1;if(e){i.push({from:o.to,to:s.to},{from:o.from,insert:s.text+n.lineBreak});for(let a of o.ranges)r.push(V.range(Math.min(n.doc.length,a.anchor+l),Math.min(n.doc.length,a.head+l)))}else{i.push({from:s.from,to:o.from},{from:o.to,insert:n.lineBreak+s.text});for(let a of o.ranges)r.push(V.range(a.anchor-l,a.head-l))}}return i.length?(t(n.update({changes:i,scrollIntoView:!0,selection:V.create(r,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const ME=({state:n,dispatch:t})=>Jy(n,t,!1),DE=({state:n,dispatch:t})=>Jy(n,t,!0);function Qy(n,t,e){if(n.readOnly)return!1;let i=[];for(let r of xc(n))e?i.push({from:r.from,insert:n.doc.slice(r.from,r.to)+n.lineBreak}):i.push({from:r.to,insert:n.lineBreak+n.doc.slice(r.from,r.to)});return t(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const PE=({state:n,dispatch:t})=>Qy(n,t,!1),IE=({state:n,dispatch:t})=>Qy(n,t,!0),RE=n=>{if(n.state.readOnly)return!1;let{state:t}=n,e=t.changes(xc(t).map(({from:r,to:o})=>(r>0?r--:o<t.doc.length&&o++,{from:r,to:o}))),i=Os(t.selection,r=>n.moveVertically(r,!0)).map(e);return n.dispatch({changes:e,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function LE(n,t){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(t-1,t+1)))return{from:t,to:t};let e=Ve(n).resolveInner(t),i=e.childBefore(t),r=e.childAfter(t),o;return i&&r&&i.to<=t&&r.from>=t&&(o=i.type.prop(Mt.closedBy))&&o.indexOf(r.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(r.from).from?{from:i.to,to:r.from}:null}const NE=Zy(!1),BE=Zy(!0);function Zy(n){return({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=t.changeByRange(r=>{let{from:o,to:s}=r,l=t.doc.lineAt(o),a=!n&&o==s&&LE(t,o);n&&(o=s=(s<=l.to?l:t.doc.lineAt(s)).to);let c=new pc(t,{simulateBreak:o,simulateDoubleBreak:!!a}),h=Eu(c,o);for(h==null&&(h=/^\s*/.exec(t.doc.lineAt(o).text)[0].length);s<l.to&&/\s/.test(l.text[s-l.from]);)s++;a?{from:o,to:s}=a:o>l.from&&o<l.from+100&&!/\S/.test(l.text.slice(0,o))&&(o=l.from);let f=["",Eo(t,h)];return a&&f.push(Eo(t,c.lineIndent(l.from,-1))),{changes:{from:o,to:s,insert:Vt.of(f)},range:V.cursor(o+1+f[1].length)}});return e(t.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Pu(n,t){let e=-1;return n.changeByRange(i=>{let r=[];for(let s=i.from;s<=i.to;){let l=n.doc.lineAt(s);l.number>e&&(i.empty||i.to>l.from)&&(t(l,r,i),e=l.number),s=l.to+1}let o=n.changes(r);return{changes:r,range:V.range(o.mapPos(i.anchor,1),o.mapPos(i.head,1))}})}const FE=({state:n,dispatch:t})=>{if(n.readOnly)return!1;let e=Object.create(null),i=new pc(n,{overrideIndentation:o=>{let s=e[o];return s??-1}}),r=Pu(n,(o,s,l)=>{let a=Eu(i,o.from);if(a==null)return;/\S/.test(o.text)||(a=0);let c=/^\s*/.exec(o.text)[0],h=Eo(n,a);(c!=h||l.from<o.from+c.length)&&(e[o.from]=a,s.push({from:o.from,to:o.from+c.length,insert:h}))});return r.changes.empty||t(n.update(r,{userEvent:"indent"})),!0},qy=({state:n,dispatch:t})=>n.readOnly?!1:(t(n.update(Pu(n,(e,i)=>{i.push({from:e.from,insert:n.facet(dc)})}),{userEvent:"input.indent"})),!0),_y=({state:n,dispatch:t})=>n.readOnly?!1:(t(n.update(Pu(n,(e,i)=>{let r=/^\s*/.exec(e.text)[0];if(!r)return;let o=Uo(r,n.tabSize),s=0,l=Eo(n,Math.max(0,o-Ma(n)));for(;s<r.length&&s<l.length&&r.charCodeAt(s)==l.charCodeAt(s);)s++;i.push({from:e.from+s,to:e.from+r.length,insert:l.slice(s)})}),{userEvent:"delete.dedent"})),!0),HE=[{key:"Ctrl-b",run:Ty,shift:Fy,preventDefault:!0},{key:"Ctrl-f",run:My,shift:Hy},{key:"Ctrl-p",run:Iy,shift:$y},{key:"Ctrl-n",run:Ry,shift:Wy},{key:"Ctrl-a",run:lE,shift:bE},{key:"Ctrl-e",run:aE,shift:xE},{key:"Ctrl-d",run:Ky},{key:"Ctrl-h",run:Af},{key:"Ctrl-k",run:Xy},{key:"Ctrl-Alt-h",run:Yy},{key:"Ctrl-o",run:EE},{key:"Ctrl-t",run:TE},{key:"Ctrl-v",run:Of}],jE=[{key:"ArrowLeft",run:Ty,shift:Fy,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:qk,shift:fE,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:sE,shift:vE,preventDefault:!0},{key:"ArrowRight",run:My,shift:Hy,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:_k,shift:uE,preventDefault:!0},{mac:"Cmd-ArrowRight",run:oE,shift:yE,preventDefault:!0},{key:"ArrowUp",run:Iy,shift:$y,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Zp,shift:_p},{mac:"Ctrl-ArrowUp",run:Xp,shift:Jp},{key:"ArrowDown",run:Ry,shift:Wy,preventDefault:!0},{mac:"Cmd-ArrowDown",run:qp,shift:tg},{mac:"Ctrl-ArrowDown",run:Of,shift:Qp},{key:"PageUp",run:Xp,shift:Jp},{key:"PageDown",run:Of,shift:Qp},{key:"Home",run:rE,shift:mE,preventDefault:!0},{key:"Mod-Home",run:Zp,shift:_p},{key:"End",run:iE,shift:gE,preventDefault:!0},{key:"Mod-End",run:qp,shift:tg},{key:"Enter",run:NE},{key:"Mod-a",run:SE},{key:"Backspace",run:Af,shift:Af},{key:"Delete",run:Ky},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Yy},{key:"Mod-Delete",mac:"Alt-Delete",run:AE},{mac:"Mod-Backspace",run:kE},{mac:"Mod-Delete",run:Xy}].concat(HE.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),VE=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:eE,shift:dE},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:nE,shift:pE},{key:"Alt-ArrowUp",run:ME},{key:"Shift-Alt-ArrowUp",run:PE},{key:"Alt-ArrowDown",run:DE},{key:"Shift-Alt-ArrowDown",run:IE},{key:"Escape",run:OE},{key:"Mod-Enter",run:BE},{key:"Alt-l",mac:"Ctrl-l",run:wE},{key:"Mod-i",run:CE,preventDefault:!0},{key:"Mod-[",run:_y},{key:"Mod-]",run:qy},{key:"Mod-Alt-\\",run:FE},{key:"Shift-Mod-k",run:RE},{key:"Shift-Mod-\\",run:hE},{key:"Mod-/",run:Ik},{key:"Alt-A",run:Lk}].concat(jE),$E={key:"Tab",run:qy,shift:_y};function Jt(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var t=1,e=arguments[1];if(e&&typeof e=="object"&&e.nodeType==null&&!Array.isArray(e)){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i];typeof r=="string"?n.setAttribute(i,r):r!=null&&(n[i]=r)}t++}for(;t<arguments.length;t++)tb(n,arguments[t]);return n}function tb(n,t){if(typeof t=="string")n.appendChild(document.createTextNode(t));else if(t!=null)if(t.nodeType!=null)n.appendChild(t);else if(Array.isArray(t))for(var e=0;e<t.length;e++)tb(n,t[e]);else throw new RangeError("Unsupported child node: "+t)}const eg=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class vs{constructor(t,e,i=0,r=t.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(i,r),this.bufferStart=i,this.normalize=o?l=>o(eg(l)):eg,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Ee(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=uu(t),i=this.bufferStart+this.bufferPos;this.bufferPos+=On(t);let r=this.normalize(e);for(let o=0,s=i;;o++){let l=r.charCodeAt(o),a=this.match(l,s);if(a)return this.value=a,this;if(o==r.length-1)break;s==i&&o<e.length&&e.charCodeAt(o)==l&&s++}}}match(t,e){let i=null;for(let r=0;r<this.matches.length;r+=2){let o=this.matches[r],s=!1;this.query.charCodeAt(o)==t&&(o==this.query.length-1?i={from:this.matches[r+1],to:e+1}:(this.matches[r]++,s=!0)),s||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==t&&(this.query.length==1?i={from:e,to:e+1}:this.matches.push(1,e)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferPos)&&(i=null),i}}typeof Symbol<"u"&&(vs.prototype[Symbol.iterator]=function(){return this});const eb={from:-1,to:-1,match:/.*/.exec("")},Iu="gm"+(/x/.unicode==null?"":"u");class nb{constructor(t,e,i,r=0,o=t.length){if(this.text=t,this.to=o,this.curLine="",this.done=!1,this.value=eb,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new ib(t,e,i,r,o);this.re=new RegExp(e,Iu+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=t.iter();let s=t.lineAt(r);this.curLineStart=s.from,this.matchPos=Ra(t,r),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let i=this.curLineStart+e.index,r=i+e[0].length;if(this.matchPos=Ra(this.text,r+(i==r?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,e)))return this.value={from:i,to:r,match:e},this;t=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),t=0;else return this.done=!0,this}}}const ah=new WeakMap;class rs{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,i){let r=ah.get(t);if(!r||r.from>=i||r.to<=e){let l=new rs(e,t.sliceString(e,i));return ah.set(t,l),l}if(r.from==e&&r.to==i)return r;let{text:o,from:s}=r;return s>e&&(o=t.sliceString(e,s)+o,s=e),r.to<i&&(o+=t.sliceString(r.to,i)),ah.set(t,new rs(s,o)),new rs(e,o.slice(e-s,i-s))}}class ib{constructor(t,e,i,r,o){this.text=t,this.to=o,this.done=!1,this.value=eb,this.matchPos=Ra(t,r),this.re=new RegExp(e,Iu+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=rs.get(t,r,this.chunkEnd(r+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e){let i=this.flat.from+e.index,r=i+e[0].length;if((this.flat.to>=this.to||e.index+e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,r,e)))return this.value={from:i,to:r,match:e},this.matchPos=Ra(this.text,r+(i==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=rs.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(nb.prototype[Symbol.iterator]=ib.prototype[Symbol.iterator]=function(){return this});function WE(n){try{return new RegExp(n,Iu),!0}catch{return!1}}function Ra(n,t){if(t>=n.length)return t;let e=n.lineAt(t),i;for(;t<e.to&&(i=e.text.charCodeAt(t-e.from))>=56320&&i<57344;)t++;return t}function kf(n){let t=Jt("input",{class:"cm-textfield",name:"line"}),e=Jt("form",{class:"cm-gotoLine",onkeydown:r=>{r.keyCode==27?(r.preventDefault(),n.dispatch({effects:La.of(!1)}),n.focus()):r.keyCode==13&&(r.preventDefault(),i())},onsubmit:r=>{r.preventDefault(),i()}},Jt("label",n.state.phrase("Go to line"),": ",t)," ",Jt("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function i(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!r)return;let{state:o}=n,s=o.doc.lineAt(o.selection.main.head),[,l,a,c,h]=r,f=c?+c.slice(1):0,u=a?+a:s.number;if(a&&h){let p=u/100;l&&(p=p*(l=="-"?-1:1)+s.number/o.doc.lines),u=Math.round(o.doc.lines*p)}else a&&l&&(u=u*(l=="-"?-1:1)+s.number);let d=o.doc.line(Math.max(1,Math.min(o.doc.lines,u)));n.dispatch({effects:La.of(!1),selection:V.cursor(d.from+Math.max(0,Math.min(f,d.length))),scrollIntoView:!0}),n.focus()}return{dom:e}}const La=At.define(),ng=Ie.define({create(){return!0},update(n,t){for(let e of t.effects)e.is(La)&&(n=e.value);return n},provide:n=>ko.from(n,t=>t?kf:null)}),UE=n=>{let t=Ao(n,kf);if(!t){let e=[La.of(!0)];n.state.field(ng,!1)==null&&e.push(At.appendConfig.of([ng,zE])),n.dispatch({effects:e}),t=Ao(n,kf)}return t&&t.dom.querySelector("input").focus(),!0},zE=et.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),KE={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},rb=st.define({combine(n){return ti(n,KE,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})}});function GE(n){let t=[ZE,QE];return n&&t.push(rb.of(n)),t}const YE=ut.mark({class:"cm-selectionMatch"}),XE=ut.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function ig(n,t,e,i){return(e==0||n(t.sliceDoc(e-1,e))!=ne.Word)&&(i==t.doc.length||n(t.sliceDoc(i,i+1))!=ne.Word)}function JE(n,t,e,i){return n(t.sliceDoc(e,e+1))==ne.Word&&n(t.sliceDoc(i-1,i))==ne.Word}const QE=be.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let t=n.state.facet(rb),{state:e}=n,i=e.selection;if(i.ranges.length>1)return ut.none;let r=i.main,o,s=null;if(r.empty){if(!t.highlightWordAroundCursor)return ut.none;let a=e.wordAt(r.head);if(!a)return ut.none;s=e.charCategorizer(r.head),o=e.sliceDoc(a.from,a.to)}else{let a=r.to-r.from;if(a<t.minSelectionLength||a>200)return ut.none;if(t.wholeWords){if(o=e.sliceDoc(r.from,r.to),s=e.charCategorizer(r.head),!(ig(s,e,r.from,r.to)&&JE(s,e,r.from,r.to)))return ut.none}else if(o=e.sliceDoc(r.from,r.to).trim(),!o)return ut.none}let l=[];for(let a of n.visibleRanges){let c=new vs(e.doc,o,a.from,a.to);for(;!c.next().done;){let{from:h,to:f}=c.value;if((!s||ig(s,e,h,f))&&(r.empty&&h<=r.from&&f>=r.to?l.push(XE.range(h,f)):(h>=r.to||f<=r.from)&&l.push(YE.range(h,f)),l.length>t.maxMatches))return ut.none}}return ut.set(l)}},{decorations:n=>n.decorations}),ZE=et.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),qE=({state:n,dispatch:t})=>{let{selection:e}=n,i=V.create(e.ranges.map(r=>n.wordAt(r.head)||V.cursor(r.head)),e.mainIndex);return i.eq(e)?!1:(t(n.update({selection:i})),!0)};function _E(n,t){let{main:e,ranges:i}=n.selection,r=n.wordAt(e.head),o=r&&r.from==e.from&&r.to==e.to;for(let s=!1,l=new vs(n.doc,t,i[i.length-1].to);;)if(l.next(),l.done){if(s)return null;l=new vs(n.doc,t,0,Math.max(0,i[i.length-1].from-1)),s=!0}else{if(s&&i.some(a=>a.from==l.value.from))continue;if(o){let a=n.wordAt(l.value.from);if(!a||a.from!=l.value.from||a.to!=l.value.to)continue}return l.value}}const tT=({state:n,dispatch:t})=>{let{ranges:e}=n.selection;if(e.some(o=>o.from===o.to))return qE({state:n,dispatch:t});let i=n.sliceDoc(e[0].from,e[0].to);if(n.selection.ranges.some(o=>n.sliceDoc(o.from,o.to)!=i))return!1;let r=_E(n,i);return r?(t(n.update({selection:n.selection.addRange(V.range(r.from,r.to),!1),effects:et.scrollIntoView(r.to)})),!0):!1},As=st.define({combine(n){return ti(n,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:t=>new uT(t),scrollToMatch:t=>et.scrollIntoView(t)})}});class sb{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||WE(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,(e,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new rT(this):new nT(this)}getCursor(t,e=0,i){let r=t.doc?t:Pt.create({doc:t});return i==null&&(i=r.doc.length),this.regexp?Wr(this,r,e,i):$r(this,r,e,i)}}class ob{constructor(t){this.spec=t}}function $r(n,t,e,i){return new vs(t.doc,n.unquoted,e,i,n.caseSensitive?void 0:r=>r.toLowerCase(),n.wholeWord?eT(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}function eT(n,t){return(e,i,r,o)=>((o>e||o+r.length<i)&&(o=Math.max(0,e-2),r=n.sliceString(o,Math.min(n.length,i+2))),(t(Na(r,e-o))!=ne.Word||t(Ba(r,e-o))!=ne.Word)&&(t(Ba(r,i-o))!=ne.Word||t(Na(r,i-o))!=ne.Word))}class nT extends ob{constructor(t){super(t)}nextMatch(t,e,i){let r=$r(this.spec,t,i,t.doc.length).nextOverlapping();return r.done&&(r=$r(this.spec,t,0,e).nextOverlapping()),r.done?null:r.value}prevMatchInRange(t,e,i){for(let r=i;;){let o=Math.max(e,r-1e4-this.spec.unquoted.length),s=$r(this.spec,t,o,r),l=null;for(;!s.nextOverlapping().done;)l=s.value;if(l)return l;if(o==e)return null;r-=1e4}}prevMatch(t,e,i){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,i,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,e){let i=$r(this.spec,t,0,t.doc.length),r=[];for(;!i.next().done;){if(r.length>=e)return null;r.push(i.value)}return r}highlight(t,e,i,r){let o=$r(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,t.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}function Wr(n,t,e,i){return new nb(t.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?iT(t.charCategorizer(t.selection.main.head)):void 0},e,i)}function Na(n,t){return n.slice(Xe(n,t,!1),t)}function Ba(n,t){return n.slice(t,Xe(n,t))}function iT(n){return(t,e,i)=>!i[0].length||(n(Na(i.input,i.index))!=ne.Word||n(Ba(i.input,i.index))!=ne.Word)&&(n(Ba(i.input,i.index+i[0].length))!=ne.Word||n(Na(i.input,i.index+i[0].length))!=ne.Word)}class rT extends ob{nextMatch(t,e,i){let r=Wr(this.spec,t,i,t.doc.length).next();return r.done&&(r=Wr(this.spec,t,0,e).next()),r.done?null:r.value}prevMatchInRange(t,e,i){for(let r=1;;r++){let o=Math.max(e,i-r*1e4),s=Wr(this.spec,t,o,i),l=null;for(;!s.next().done;)l=s.value;if(l&&(o==e||l.from>o+10))return l;if(o==e)return null}}prevMatch(t,e,i){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,i,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(e,i)=>i=="$"?"$":i=="&"?t.match[0]:i!="0"&&+i<t.match.length?t.match[i]:e))}matchAll(t,e){let i=Wr(this.spec,t,0,t.doc.length),r=[];for(;!i.next().done;){if(r.length>=e)return null;r.push(i.value)}return r}highlight(t,e,i,r){let o=Wr(this.spec,t,Math.max(0,e-250),Math.min(i+250,t.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}const To=At.define(),Ru=At.define(),Hi=Ie.define({create(n){return new ch(Ef(n).create(),null)},update(n,t){for(let e of t.effects)e.is(To)?n=new ch(e.value.create(),n.panel):e.is(Ru)&&(n=new ch(n.query,e.value?Lu:null));return n},provide:n=>ko.from(n,t=>t.panel)});class ch{constructor(t,e){this.query=t,this.panel=e}}const sT=ut.mark({class:"cm-searchMatch"}),oT=ut.mark({class:"cm-searchMatch cm-searchMatch-selected"}),lT=be.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Hi))}update(n){let t=n.state.field(Hi);(t!=n.startState.field(Hi)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:n,panel:t}){if(!t||!n.spec.valid)return ut.none;let{view:e}=this,i=new Ki;for(let r=0,o=e.visibleRanges,s=o.length;r<s;r++){let{from:l,to:a}=o[r];for(;r<s-1&&a>o[r+1].from-2*250;)a=o[++r].to;n.highlight(e.state,l,a,(c,h)=>{let f=e.state.selection.ranges.some(u=>u.from==c&&u.to==h);i.add(c,h,f?oT:sT)})}return i.finish()}},{decorations:n=>n.decorations});function Xo(n){return t=>{let e=t.state.field(Hi,!1);return e&&e.query.spec.valid?n(t,e):cb(t)}}const Fa=Xo((n,{query:t})=>{let{to:e}=n.state.selection.main,i=t.nextMatch(n.state,e,e);if(!i)return!1;let r=V.single(i.from,i.to),o=n.state.facet(As);return n.dispatch({selection:r,effects:[Nu(n,i),o.scrollToMatch(r.main,n)],userEvent:"select.search"}),ab(n),!0}),Ha=Xo((n,{query:t})=>{let{state:e}=n,{from:i}=e.selection.main,r=t.prevMatch(e,i,i);if(!r)return!1;let o=V.single(r.from,r.to),s=n.state.facet(As);return n.dispatch({selection:o,effects:[Nu(n,r),s.scrollToMatch(o.main,n)],userEvent:"select.search"}),ab(n),!0}),aT=Xo((n,{query:t})=>{let e=t.matchAll(n.state,1e3);return!e||!e.length?!1:(n.dispatch({selection:V.create(e.map(i=>V.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),cT=({state:n,dispatch:t})=>{let e=n.selection;if(e.ranges.length>1||e.main.empty)return!1;let{from:i,to:r}=e.main,o=[],s=0;for(let l=new vs(n.doc,n.sliceDoc(i,r));!l.next().done;){if(o.length>1e3)return!1;l.value.from==i&&(s=o.length),o.push(V.range(l.value.from,l.value.to))}return t(n.update({selection:V.create(o,s),userEvent:"select.search.matches"})),!0},rg=Xo((n,{query:t})=>{let{state:e}=n,{from:i,to:r}=e.selection.main;if(e.readOnly)return!1;let o=t.nextMatch(e,i,i);if(!o)return!1;let s=[],l,a,c=[];if(o.from==i&&o.to==r&&(a=e.toText(t.getReplacement(o)),s.push({from:o.from,to:o.to,insert:a}),o=t.nextMatch(e,o.from,o.to),c.push(et.announce.of(e.phrase("replaced match on line $",e.doc.lineAt(i).number)+"."))),o){let h=s.length==0||s[0].from>=o.to?0:o.to-o.from-a.length;l=V.single(o.from-h,o.to-h),c.push(Nu(n,o)),c.push(e.facet(As).scrollToMatch(l.main,n))}return n.dispatch({changes:s,selection:l,effects:c,userEvent:"input.replace"}),!0}),hT=Xo((n,{query:t})=>{if(n.state.readOnly)return!1;let e=t.matchAll(n.state,1e9).map(r=>{let{from:o,to:s}=r;return{from:o,to:s,insert:t.getReplacement(r)}});if(!e.length)return!1;let i=n.state.phrase("replaced $ matches",e.length)+".";return n.dispatch({changes:e,effects:et.announce.of(i),userEvent:"input.replace.all"}),!0});function Lu(n){return n.state.facet(As).createPanel(n)}function Ef(n,t){var e,i,r,o;let s=n.selection.main,l=s.empty||s.to>s.from+100?"":n.sliceDoc(s.from,s.to);if(t&&!l)return t;let a=n.facet(As);return new sb({search:((e=t==null?void 0:t.literal)!==null&&e!==void 0?e:a.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(i=t==null?void 0:t.caseSensitive)!==null&&i!==void 0?i:a.caseSensitive,literal:(r=t==null?void 0:t.literal)!==null&&r!==void 0?r:a.literal,wholeWord:(o=t==null?void 0:t.wholeWord)!==null&&o!==void 0?o:a.wholeWord})}function lb(n){let t=Ao(n,Lu);return t&&t.dom.querySelector("[main-field]")}function ab(n){let t=lb(n);t&&t==n.root.activeElement&&t.select()}const cb=n=>{let t=n.state.field(Hi,!1);if(t&&t.panel){let e=lb(n);if(e&&e!=n.root.activeElement){let i=Ef(n.state,t.query.spec);i.valid&&n.dispatch({effects:To.of(i)}),e.focus(),e.select()}}else n.dispatch({effects:[Ru.of(!0),t?To.of(Ef(n.state,t.query.spec)):At.appendConfig.of(pT)]});return!0},hb=n=>{let t=n.state.field(Hi,!1);if(!t||!t.panel)return!1;let e=Ao(n,Lu);return e&&e.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:Ru.of(!1)}),!0},fT=[{key:"Mod-f",run:cb,scope:"editor search-panel"},{key:"F3",run:Fa,shift:Ha,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Fa,shift:Ha,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:hb,scope:"editor search-panel"},{key:"Mod-Shift-l",run:cT},{key:"Alt-g",run:UE},{key:"Mod-d",run:tT,preventDefault:!0}];class uT{constructor(t){this.view=t;let e=this.query=t.state.field(Hi).query.spec;this.commit=this.commit.bind(this),this.searchField=Jt("input",{value:e.search,placeholder:hn(t,"Find"),"aria-label":hn(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Jt("input",{value:e.replace,placeholder:hn(t,"Replace"),"aria-label":hn(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Jt("input",{type:"checkbox",name:"case",form:"",checked:e.caseSensitive,onchange:this.commit}),this.reField=Jt("input",{type:"checkbox",name:"re",form:"",checked:e.regexp,onchange:this.commit}),this.wordField=Jt("input",{type:"checkbox",name:"word",form:"",checked:e.wholeWord,onchange:this.commit});function i(r,o,s){return Jt("button",{class:"cm-button",name:r,onclick:o,type:"button"},s)}this.dom=Jt("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>Fa(t),[hn(t,"next")]),i("prev",()=>Ha(t),[hn(t,"previous")]),i("select",()=>aT(t),[hn(t,"all")]),Jt("label",null,[this.caseField,hn(t,"match case")]),Jt("label",null,[this.reField,hn(t,"regexp")]),Jt("label",null,[this.wordField,hn(t,"by word")]),...t.state.readOnly?[]:[Jt("br"),this.replaceField,i("replace",()=>rg(t),[hn(t,"replace")]),i("replaceAll",()=>hT(t),[hn(t,"replace all")])],Jt("button",{name:"close",onclick:()=>hb(t),"aria-label":hn(t,"close"),type:"button"},[""])])}commit(){let t=new sb({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:To.of(t)}))}keydown(t){TO(this.view,t,"search-panel")?t.preventDefault():t.keyCode==13&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?Ha:Fa)(this.view)):t.keyCode==13&&t.target==this.replaceField&&(t.preventDefault(),rg(this.view))}update(t){for(let e of t.transactions)for(let i of e.effects)i.is(To)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(As).top}}function hn(n,t){return n.state.phrase(t)}const Pl=30,Il=/[\s\.,:;?!]/;function Nu(n,{from:t,to:e}){let i=n.state.doc.lineAt(t),r=n.state.doc.lineAt(e).to,o=Math.max(i.from,t-Pl),s=Math.min(r,e+Pl),l=n.state.sliceDoc(o,s);if(o!=i.from){for(let a=0;a<Pl;a++)if(!Il.test(l[a+1])&&Il.test(l[a])){l=l.slice(a);break}}if(s!=r){for(let a=l.length-1;a>l.length-Pl;a--)if(!Il.test(l[a-1])&&Il.test(l[a])){l=l.slice(0,a);break}}return et.announce.of(`${n.state.phrase("current match")}. ${l} ${n.state.phrase("on line")} ${i.number}.`)}const dT=et.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),pT=[Hi,Cs.lowest(lT),dT];class fb{constructor(t,e,i){this.state=t,this.pos=e,this.explicit=i,this.abortListeners=[]}tokenBefore(t){let e=Ve(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),i=Math.max(e.from,this.pos-250),r=e.text.slice(i-e.from,this.pos-e.from),o=r.search(ub(t,!1));return o<0?null:{from:i+o,to:this.pos,text:r.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(t,e){t=="abort"&&this.abortListeners&&this.abortListeners.push(e)}}function sg(n){let t=Object.keys(n).join(""),e=/\w/.test(t);return e&&(t=t.replace(/\w/g,"")),`[${e?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function gT(n){let t=Object.create(null),e=Object.create(null);for(let{label:r}of n){t[r[0]]=!0;for(let o=1;o<r.length;o++)e[r[o]]=!0}let i=sg(t)+sg(e)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function mT(n){let t=n.map(r=>typeof r=="string"?{label:r}:r),[e,i]=t.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:gT(t);return r=>{let o=r.matchBefore(i);return o||r.explicit?{from:o?o.from:r.pos,options:t,validFor:e}:null}}class og{constructor(t,e,i,r){this.completion=t,this.source=e,this.match=i,this.score=r}}function ji(n){return n.selection.main.from}function ub(n,t){var e;let{source:i}=n,r=t&&i[0]!="^",o=i[i.length-1]!="$";return!r&&!o?n:new RegExp(`${r?"^":""}(?:${i})${o?"$":""}`,(e=n.flags)!==null&&e!==void 0?e:n.ignoreCase?"i":"")}const vT=mi.define();function yT(n,t,e,i){let{main:r}=n.selection,o=e-r.from,s=i-r.from;return Object.assign(Object.assign({},n.changeByRange(l=>l!=r&&e!=i&&n.sliceDoc(l.from+o,l.from+s)!=n.sliceDoc(e,i)?{range:l}:{changes:{from:l.from+o,to:i==r.from?l.to:l.from+s,insert:t},range:V.cursor(l.from+o+t.length)})),{userEvent:"input.complete"})}function db(n,t){const e=t.completion.apply||t.completion.label;let i=t.source;typeof e=="string"?n.dispatch(Object.assign(Object.assign({},yT(n.state,e,i.from,i.to)),{annotations:vT.of(t.completion)})):e(n,t.completion,i.from,i.to)}const lg=new WeakMap;function bT(n){if(!Array.isArray(n))return n;let t=lg.get(n);return t||lg.set(n,t=mT(n)),t}const Bu=At.define(),Mo=At.define();class xT{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let e=0;e<t.length;){let i=Ee(t,e),r=On(i);this.chars.push(i);let o=t.slice(e,e+r),s=o.toUpperCase();this.folded.push(Ee(s==o?o.toLowerCase():s,0)),e+=r}this.astral=t.length!=this.chars.length}match(t){if(this.pattern.length==0)return[0];if(t.length<this.pattern.length)return null;let{chars:e,folded:i,any:r,precise:o,byWord:s}=this;if(e.length==1){let m=Ee(t,0),b=On(m),x=b==t.length?0:-100;if(m!=e[0])if(m==i[0])x+=-200;else return null;return[x,0,b]}let l=t.indexOf(this.pattern);if(l==0)return[t.length==this.pattern.length?0:-100,0,this.pattern.length];let a=e.length,c=0;if(l<0){for(let m=0,b=Math.min(t.length,200);m<b&&c<a;){let x=Ee(t,m);(x==e[c]||x==i[c])&&(r[c++]=m),m+=On(x)}if(c<a)return null}let h=0,f=0,u=!1,d=0,p=-1,g=-1,y=/[a-z]/.test(t),v=!0;for(let m=0,b=Math.min(t.length,200),x=0;m<b&&f<a;){let S=Ee(t,m);l<0&&(h<a&&S==e[h]&&(o[h++]=m),d<a&&(S==e[d]||S==i[d]?(d==0&&(p=m),g=m+1,d++):d=0));let w,E=S<255?S>=48&&S<=57||S>=97&&S<=122?2:S>=65&&S<=90?1:0:(w=uu(S))!=w.toLowerCase()?1:w!=w.toUpperCase()?2:0;(!m||E==1&&y||x==0&&E!=0)&&(e[f]==S||i[f]==S&&(u=!0)?s[f++]=m:s.length&&(v=!1)),x=E,m+=On(S)}return f==a&&s[0]==0&&v?this.result(-100+(u?-200:0),s,t):d==a&&p==0?[-200-t.length+(g==t.length?0:-100),0,g]:l>-1?[-700-t.length,l,l+this.pattern.length]:d==a?[-200+-700-t.length,p,g]:f==a?this.result(-100+(u?-200:0)+-700+(v?0:-1100),s,t):e.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,t)}result(t,e,i){let r=[t-i.length],o=1;for(let s of e){let l=s+(this.astral?On(Ee(i,s)):1);o>1&&r[o-1]==s?r[o-1]=l:(r[o++]=s,r[o++]=l)}return r}}const sn=st.define({combine(n){return ti(n,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:ST,compareCompletions:(t,e)=>t.label.localeCompare(e.label),interactionDelay:75},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,tooltipClass:(t,e)=>i=>ag(t(i),e(i)),optionClass:(t,e)=>i=>ag(t(i),e(i)),addToOptions:(t,e)=>t.concat(e)})}});function ag(n,t){return n?t?n+" "+t:n:t}function ST(n,t,e,i,r){let o=n.textDirection==le.RTL,s=o,l=!1,a="top",c,h,f=t.left-r.left,u=r.right-t.right,d=i.right-i.left,p=i.bottom-i.top;if(s&&f<Math.min(d,u)?s=!1:!s&&u<Math.min(d,f)&&(s=!0),d<=(s?f:u))c=Math.max(r.top,Math.min(e.top,r.bottom-p))-t.top,h=Math.min(400,s?f:u);else{l=!0,h=Math.min(400,(o?t.right:r.right-t.left)-30);let g=r.bottom-t.bottom;g>=p||g>t.top?c=e.bottom-t.top:(a="bottom",c=t.bottom-e.top)}return{style:`${a}: ${c}px; max-width: ${h}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":s?"left":"right")}}function wT(n){let t=n.addToOptions.slice();return n.icons&&t.push({render(e){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),e.type&&i.classList.add(...e.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),t.push({render(e,i,r){let o=document.createElement("span");o.className="cm-completionLabel";let{label:s}=e,l=0;for(let a=1;a<r.length;){let c=r[a++],h=r[a++];c>l&&o.appendChild(document.createTextNode(s.slice(l,c)));let f=o.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(s.slice(c,h))),f.className="cm-completionMatchedText",l=h}return l<s.length&&o.appendChild(document.createTextNode(s.slice(l))),o},position:50},{render(e){if(!e.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=e.detail,i},position:80}),t.sort((e,i)=>e.position-i.position).map(e=>e.render)}function cg(n,t,e){if(n<=e)return{from:0,to:n};if(t<0&&(t=0),t<=n>>1){let r=Math.floor(t/e);return{from:r*e,to:(r+1)*e}}let i=Math.floor((n-t)/e);return{from:n-(i+1)*e,to:n-i*e}}class CT{constructor(t,e){this.view=t,this.stateField=e,this.info=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=t.state.field(e),{options:r,selected:o}=i.open,s=t.state.facet(sn);this.optionContent=wT(s),this.optionClass=s.optionClass,this.tooltipClass=s.tooltipClass,this.range=cg(r.length,o,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",l=>{for(let a=l.target,c;a&&a!=this.dom;a=a.parentNode)if(a.nodeName=="LI"&&(c=/-(\d+)$/.exec(a.id))&&+c[1]<r.length){db(t,r[+c[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let a=t.state.field(this.stateField,!1);a&&a.tooltip&&t.state.facet(sn).closeOnBlur&&l.relatedTarget!=t.contentDOM&&t.dispatch({effects:Mo.of(null)})}),this.list=this.dom.appendChild(this.createListBox(r,i.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}mount(){this.updateSel()}update(t){var e,i,r;let o=t.state.field(this.stateField),s=t.startState.field(this.stateField);this.updateTooltipClass(t.state),o!=s&&(this.updateSel(),((e=o.open)===null||e===void 0?void 0:e.disabled)!=((i=s.open)===null||i===void 0?void 0:i.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((r=o.open)===null||r===void 0)&&r.disabled)))}updateTooltipClass(t){let e=this.tooltipClass(t);if(e!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of e.split(" "))i&&this.dom.classList.add(i);this.currentClass=e}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected>-1&&e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=cg(e.options.length,e.selected,this.view.state.facet(sn).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e.options,t.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})),this.updateSelectedOption(e.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:i}=e.options[e.selected],{info:r}=i;if(!r)return;let o=typeof r=="string"?document.createTextNode(r):r(i);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(s)}).catch(s=>kn(this.view.state,s,"completion info")):this.addInfoPane(o)}}addInfoPane(t){let e=this.info=document.createElement("div");e.className="cm-tooltip cm-completionInfo",e.appendChild(t),this.dom.appendChild(e),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let e=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)i.nodeName!="LI"||!i.id?r--:r==t?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),e=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return e&&AT(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=t.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:s.innerWidth,bottom:s.innerHeight}}return r.top>Math.min(o.bottom,e.bottom)-10||r.bottom<Math.max(o.top,e.top)+10?null:this.view.state.facet(sn).positionInfo(this.view,e,r,i,o)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,e,i){const r=document.createElement("ul");r.id=e,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let s=i.from;s<i.to;s++){let{completion:l,match:a}=t[s],{section:c}=l;if(c){let u=typeof c=="string"?c:c.name;if(u!=o&&(s>i.from||i.from==0))if(o=u,typeof c!="string"&&c.header)r.appendChild(c.header(c));else{let d=r.appendChild(document.createElement("completion-section"));d.textContent=u}}const h=r.appendChild(document.createElement("li"));h.id=e+"-"+s,h.setAttribute("role","option");let f=this.optionClass(l);f&&(h.className=f);for(let u of this.optionContent){let d=u(l,this.view.state,a);d&&h.appendChild(d)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<t.length&&r.classList.add("cm-completionListIncompleteBottom"),r}}function OT(n){return t=>new CT(t,n)}function AT(n,t){let e=n.getBoundingClientRect(),i=t.getBoundingClientRect();i.top<e.top?n.scrollTop-=e.top-i.top:i.bottom>e.bottom&&(n.scrollTop+=i.bottom-e.bottom)}function hg(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function kT(n,t){let e=[],i=null,r=a=>{e.push(a);let{section:c}=a.completion;if(c){i||(i=[]);let h=typeof c=="string"?c:c.name;i.some(f=>f.name==h)||i.push(typeof c=="string"?{name:h}:c)}};for(let a of n)if(a.hasResult())if(a.result.filter===!1){let c=a.result.getMatch;for(let h of a.result.options){let f=[1e9-e.length];if(c)for(let u of c(h))f.push(u);r(new og(h,a,f,f[0]))}}else{let c=new xT(t.sliceDoc(a.from,a.to)),h;for(let f of a.result.options)(h=c.match(f.label))&&r(new og(f,a,h,h[0]+(f.boost||0)))}if(i){let a=Object.create(null),c=0,h=(f,u)=>{var d,p;return((d=f.rank)!==null&&d!==void 0?d:1e9)-((p=u.rank)!==null&&p!==void 0?p:1e9)||(f.name<u.name?-1:1)};for(let f of i.sort(h))c-=1e5,a[f.name]=c;for(let f of e){let{section:u}=f.completion;u&&(f.score+=a[typeof u=="string"?u:u.name])}}let o=[],s=null,l=t.facet(sn).compareCompletions;for(let a of e.sort((c,h)=>h.score-c.score||l(c.completion,h.completion)))!s||s.label!=a.completion.label||s.detail!=a.completion.detail||s.type!=null&&a.completion.type!=null&&s.type!=a.completion.type||s.apply!=a.completion.apply?o.push(a):hg(a.completion)>hg(s)&&(o[o.length-1]=a),s=a.completion;return o}class Yr{constructor(t,e,i,r,o,s){this.options=t,this.attrs=e,this.tooltip=i,this.timestamp=r,this.selected=o,this.disabled=s}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new Yr(this.options,fg(e,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,e,i,r,o){let s=kT(t,e);if(!s.length)return r&&t.some(a=>a.state==1)?new Yr(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let l=e.facet(sn).selectOnOpen?0:-1;if(r&&r.selected!=l&&r.selected!=-1){let a=r.options[r.selected].completion;for(let c=0;c<s.length;c++)if(s[c].completion==a){l=c;break}}return new Yr(s,fg(i,l),{pos:t.reduce((a,c)=>c.hasResult()?Math.min(a,c.from):a,1e8),create:OT(wn),above:o.aboveCursor},r?r.timestamp:Date.now(),l,!1)}map(t){return new Yr(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class ja{constructor(t,e,i){this.active=t,this.id=e,this.open=i}static start(){return new ja(MT,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(t){let{state:e}=t,i=e.facet(sn),o=(i.override||e.languageDataAt("autocomplete",ji(e)).map(bT)).map(l=>(this.active.find(c=>c.source==l)||new en(l,this.active.some(c=>c.state!=0)?1:0)).update(t,i));o.length==this.active.length&&o.every((l,a)=>l==this.active[a])&&(o=this.active);let s=this.open;s&&t.docChanged&&(s=s.map(t.changes)),t.selection||o.some(l=>l.hasResult()&&t.changes.touchesRange(l.from,l.to))||!ET(o,this.active)?s=Yr.build(o,e,this.id,s,i):s&&s.disabled&&!o.some(l=>l.state==1)&&(s=null),!s&&o.every(l=>l.state!=1)&&o.some(l=>l.hasResult())&&(o=o.map(l=>l.hasResult()?new en(l.source,0):l));for(let l of t.effects)l.is(gb)&&(s=s&&s.setSelected(l.value,this.id));return o==this.active&&s==this.open?this:new ja(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:TT}}function ET(n,t){if(n==t)return!0;for(let e=0,i=0;;){for(;e<n.length&&!n[e].hasResult;)e++;for(;i<t.length&&!t[i].hasResult;)i++;let r=e==n.length,o=i==t.length;if(r||o)return r==o;if(n[e++].result!=t[i++].result)return!1}}const TT={"aria-autocomplete":"list"};function fg(n,t){let e={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return t>-1&&(e["aria-activedescendant"]=n+"-"+t),e}const MT=[];function Tf(n){return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}class en{constructor(t,e,i=-1){this.source=t,this.state=e,this.explicitPos=i}hasResult(){return!1}update(t,e){let i=Tf(t),r=this;i?r=r.handleUserEvent(t,i,e):t.docChanged?r=r.handleChange(t):t.selection&&r.state!=0&&(r=new en(r.source,0));for(let o of t.effects)if(o.is(Bu))r=new en(r.source,1,o.value?ji(t.state):-1);else if(o.is(Mo))r=new en(r.source,0);else if(o.is(pb))for(let s of o.value)s.source==r.source&&(r=s);return r}handleUserEvent(t,e,i){return e=="delete"||!i.activateOnTyping?this.map(t.changes):new en(this.source,1)}handleChange(t){return t.changes.touchesRange(ji(t.startState))?new en(this.source,0):this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new en(this.source,this.state,t.mapPos(this.explicitPos))}}class ho extends en{constructor(t,e,i,r,o){super(t,2,e),this.result=i,this.from=r,this.to=o}hasResult(){return!0}handleUserEvent(t,e,i){var r;let o=t.changes.mapPos(this.from),s=t.changes.mapPos(this.to,1),l=ji(t.state);if((this.explicitPos<0?l<=o:l<this.from)||l>s||e=="delete"&&ji(t.startState)==this.from)return new en(this.source,e=="input"&&i.activateOnTyping?1:0);let a=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos),c;return DT(this.result.validFor,t.state,o,s)?new ho(this.source,a,this.result,o,s):this.result.update&&(c=this.result.update(this.result,o,s,new fb(t.state,l,a>=0)))?new ho(this.source,a,c,c.from,(r=c.to)!==null&&r!==void 0?r:ji(t.state)):new en(this.source,1,a)}handleChange(t){return t.changes.touchesRange(this.from,this.to)?new en(this.source,0):this.map(t.changes)}map(t){return t.empty?this:new ho(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1))}}function DT(n,t,e,i){if(!n)return!1;let r=t.sliceDoc(e,i);return typeof n=="function"?n(r,e,i,t):ub(n,!0).test(r)}const pb=At.define({map(n,t){return n.map(e=>e.map(t))}}),gb=At.define(),wn=Ie.define({create(){return ja.start()},update(n,t){return n.update(t)},provide:n=>[Su.from(n,t=>t.tooltip),et.contentAttributes.from(n,t=>t.attrs)]});function Rl(n,t="option"){return e=>{let i=e.state.field(wn,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<e.state.facet(sn).interactionDelay)return!1;let r=1,o;t=="page"&&(o=Xv(e,i.open.tooltip))&&(r=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=i.open.options,l=i.open.selected>-1?i.open.selected+r*(n?1:-1):n?0:s-1;return l<0?l=t=="page"?0:s-1:l>=s&&(l=t=="page"?s-1:0),e.dispatch({effects:gb.of(l)}),!0}}const PT=n=>{let t=n.state.field(wn,!1);return n.state.readOnly||!t||!t.open||t.open.selected<0||Date.now()-t.open.timestamp<n.state.facet(sn).interactionDelay?!1:(t.open.disabled||db(n,t.open.options[t.open.selected]),!0)},IT=n=>n.state.field(wn,!1)?(n.dispatch({effects:Bu.of(!0)}),!0):!1,RT=n=>{let t=n.state.field(wn,!1);return!t||!t.active.some(e=>e.state!=0)?!1:(n.dispatch({effects:Mo.of(null)}),!0)};class LT{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const ug=50,NT=50,BT=1e3,FT=be.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let t of n.state.field(wn).active)t.state==1&&this.startQuery(t)}update(n){let t=n.state.field(wn);if(!n.selectionSet&&!n.docChanged&&n.startState.field(wn)==t)return;let e=n.transactions.some(i=>(i.selection||i.docChanged)&&!Tf(i));for(let i=0;i<this.running.length;i++){let r=this.running[i];if(e||r.updates.length+n.transactions.length>NT&&Date.now()-r.time>BT){for(let o of r.context.abortListeners)try{o()}catch(s){kn(this.view.state,s)}r.context.abortListeners=null,this.running.splice(i--,1)}else r.updates.push(...n.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=t.active.some(i=>i.state==1&&!this.running.some(r=>r.active.source==i.source))?setTimeout(()=>this.startUpdate(),ug):-1,this.composing!=0)for(let i of n.transactions)Tf(i)=="input"?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:n}=this.view,t=n.field(wn);for(let e of t.active)e.state==1&&!this.running.some(i=>i.active.source==e.source)&&this.startQuery(e)}startQuery(n){let{state:t}=this.view,e=ji(t),i=new fb(t,e,n.explicitPos==e),r=new LT(n,i);this.running.push(r),Promise.resolve(n.source(i)).then(o=>{r.context.aborted||(r.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:Mo.of(null)}),kn(this.view.state,o)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),ug))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],e=this.view.state.facet(sn);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(r.done===void 0)continue;if(this.running.splice(i--,1),r.done){let s=new ho(r.active.source,r.active.explicitPos,r.done,r.done.from,(n=r.done.to)!==null&&n!==void 0?n:ji(r.updates.length?r.updates[0].startState:this.view.state));for(let l of r.updates)s=s.update(l,e);if(s.hasResult()){t.push(s);continue}}let o=this.view.state.field(wn).active.find(s=>s.source==r.active.source);if(o&&o.state==1)if(r.done==null){let s=new en(r.active.source,0);for(let l of r.updates)s=s.update(l,e);s.state!=1&&t.push(s)}else this.startQuery(o)}t.length&&this.view.dispatch({effects:pb.of(t)})}},{eventHandlers:{blur(n){let t=this.view.state.field(wn,!1);if(t&&t.tooltip&&this.view.state.facet(sn).closeOnBlur){let e=t.open&&Xv(this.view,t.open.tooltip);(!e||!e.dom.contains(n.relatedTarget))&&this.view.dispatch({effects:Mo.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Bu.of(!1)}),20),this.composing=0}}}),HT=et.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Do={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},pr=At.define({map(n,t){let e=t.mapPos(n,-1,Ye.TrackAfter);return e??void 0}}),Fu=new class extends Er{};Fu.startSide=1;Fu.endSide=-1;const mb=Ie.define({create(){return $t.empty},update(n,t){if(t.selection){let e=t.state.doc.lineAt(t.selection.main.head).from,i=t.startState.doc.lineAt(t.startState.selection.main.head).from;e!=t.changes.mapPos(i,-1)&&(n=$t.empty)}n=n.map(t.changes);for(let e of t.effects)e.is(pr)&&(n=n.update({add:[Fu.range(e.value,e.value+1)]}));return n}});function jT(){return[$T,mb]}const hh="()[]{}<>";function vb(n){for(let t=0;t<hh.length;t+=2)if(hh.charCodeAt(t)==n)return hh.charAt(t+1);return uu(n<128?n:n+1)}function yb(n,t){return n.languageDataAt("closeBrackets",t)[0]||Do}const VT=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),$T=et.inputHandler.of((n,t,e,i)=>{if((VT?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let r=n.state.selection.main;if(i.length>2||i.length==2&&On(Ee(i,0))==1||t!=r.from||e!=r.to)return!1;let o=zT(n.state,i);return o?(n.dispatch(o),!0):!1}),WT=({state:n,dispatch:t})=>{if(n.readOnly)return!1;let i=yb(n,n.selection.main.head).brackets||Do.brackets,r=null,o=n.changeByRange(s=>{if(s.empty){let l=KT(n.doc,s.head);for(let a of i)if(a==l&&Sc(n.doc,s.head)==vb(Ee(a,0)))return{changes:{from:s.head-a.length,to:s.head+a.length},range:V.cursor(s.head-a.length)}}return{range:r=s}});return r||t(n.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},UT=[{key:"Backspace",run:WT}];function zT(n,t){let e=yb(n,n.selection.main.head),i=e.brackets||Do.brackets;for(let r of i){let o=vb(Ee(r,0));if(t==r)return o==r?XT(n,r,i.indexOf(r+r+r)>-1,e):GT(n,r,o,e.before||Do.before);if(t==o&&bb(n,n.selection.main.from))return YT(n,r,o)}return null}function bb(n,t){let e=!1;return n.field(mb).between(0,n.doc.length,i=>{i==t&&(e=!0)}),e}function Sc(n,t){let e=n.sliceString(t,t+2);return e.slice(0,On(Ee(e,0)))}function KT(n,t){let e=n.sliceString(t-2,t);return On(Ee(e,0))==e.length?e:e.slice(1)}function GT(n,t,e,i){let r=null,o=n.changeByRange(s=>{if(!s.empty)return{changes:[{insert:t,from:s.from},{insert:e,from:s.to}],effects:pr.of(s.to+t.length),range:V.range(s.anchor+t.length,s.head+t.length)};let l=Sc(n.doc,s.head);return!l||/\s/.test(l)||i.indexOf(l)>-1?{changes:{insert:t+e,from:s.head},effects:pr.of(s.head+t.length),range:V.cursor(s.head+t.length)}:{range:r=s}});return r?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function YT(n,t,e){let i=null,r=n.changeByRange(o=>o.empty&&Sc(n.doc,o.head)==e?{changes:{from:o.head,to:o.head+e.length,insert:e},range:V.cursor(o.head+e.length)}:i={range:o});return i?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function XT(n,t,e,i){let r=i.stringPrefixes||Do.stringPrefixes,o=null,s=n.changeByRange(l=>{if(!l.empty)return{changes:[{insert:t,from:l.from},{insert:t,from:l.to}],effects:pr.of(l.to+t.length),range:V.range(l.anchor+t.length,l.head+t.length)};let a=l.head,c=Sc(n.doc,a),h;if(c==t){if(dg(n,a))return{changes:{insert:t+t,from:a},effects:pr.of(a+t.length),range:V.cursor(a+t.length)};if(bb(n,a)){let u=e&&n.sliceDoc(a,a+t.length*3)==t+t+t?t+t+t:t;return{changes:{from:a,to:a+u.length,insert:u},range:V.cursor(a+u.length)}}}else{if(e&&n.sliceDoc(a-2*t.length,a)==t+t&&(h=pg(n,a-2*t.length,r))>-1&&dg(n,h))return{changes:{insert:t+t+t+t,from:a},effects:pr.of(a+t.length),range:V.cursor(a+t.length)};if(n.charCategorizer(a)(c)!=ne.Word&&pg(n,a,r)>-1&&!JT(n,a,t,r))return{changes:{insert:t+t,from:a},effects:pr.of(a+t.length),range:V.cursor(a+t.length)}}return{range:o=l}});return o?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function dg(n,t){let e=Ve(n).resolveInner(t+1);return e.parent&&e.from==t}function JT(n,t,e,i){let r=Ve(n).resolveInner(t,-1),o=i.reduce((s,l)=>Math.max(s,l.length),0);for(let s=0;s<5;s++){let l=n.sliceDoc(r.from,Math.min(r.to,r.from+e.length+o)),a=l.indexOf(e);if(!a||a>-1&&i.indexOf(l.slice(0,a))>-1){let h=r.firstChild;for(;h&&h.from==r.from&&h.to-h.from>e.length+a;){if(n.sliceDoc(h.to-e.length,h.to)==e)return!1;h=h.firstChild}return!0}let c=r.to==t&&r.parent;if(!c)break;r=c}return!1}function pg(n,t,e){let i=n.charCategorizer(t);if(i(n.sliceDoc(t-1,t))!=ne.Word)return t;for(let r of e){let o=t-r.length;if(n.sliceDoc(o,t)==r&&i(n.sliceDoc(o-1,o))!=ne.Word)return o}return-1}function QT(n={}){return[wn,sn.of(n),FT,ZT,HT]}const xb=[{key:"Ctrl-Space",run:IT},{key:"Escape",run:RT},{key:"ArrowDown",run:Rl(!0)},{key:"ArrowUp",run:Rl(!1)},{key:"PageDown",run:Rl(!0,"page")},{key:"PageUp",run:Rl(!1,"page")},{key:"Enter",run:PT}],ZT=Cs.highest(uc.computeN([sn],n=>n.facet(sn).defaultKeymap?[xb]:[]));class qT{constructor(t,e,i){this.from=t,this.to=e,this.diagnostic=i}}class cr{constructor(t,e,i){this.diagnostics=t,this.panel=e,this.selected=i}static init(t,e,i){let r=t,o=i.facet(Cb).markerFilter;o&&(r=o(r));let s=ut.set(r.map(l=>l.from==l.to||l.from==l.to-1&&i.doc.lineAt(l.from).to==l.from?ut.widget({widget:new lM(l),diagnostic:l}).range(l.from):ut.mark({attributes:{class:"cm-lintRange cm-lintRange-"+l.severity},diagnostic:l}).range(l.from,l.to)),!0);return new cr(s,e,ys(s))}}function ys(n,t=null,e=0){let i=null;return n.between(e,1e9,(r,o,{spec:s})=>{if(!(t&&s.diagnostic!=t))return i=new qT(r,o,s.diagnostic),!1}),i}function _T(n,t){return!!(n.effects.some(e=>e.is(Sb))||n.changes.touchesRange(t.pos))}function tM(n,t){return n.field(vn,!1)?t:t.concat(At.appendConfig.of(hM))}const Sb=At.define(),Hu=At.define(),wb=At.define(),vn=Ie.define({create(){return new cr(ut.none,null,null)},update(n,t){if(t.docChanged){let e=n.diagnostics.map(t.changes),i=null;if(n.selected){let r=t.changes.mapPos(n.selected.from,1);i=ys(e,n.selected.diagnostic,r)||ys(e,null,r)}n=new cr(e,n.panel,i)}for(let e of t.effects)e.is(Sb)?n=cr.init(e.value,n.panel,t.state):e.is(Hu)?n=new cr(n.diagnostics,e.value?wc.open:null,n.selected):e.is(wb)&&(n=new cr(n.diagnostics,n.panel,e.value));return n},provide:n=>[ko.from(n,t=>t.panel),et.decorations.from(n,t=>t.diagnostics)]}),eM=ut.mark({class:"cm-lintRange cm-lintRange-active"});function nM(n,t,e){let{diagnostics:i}=n.state.field(vn),r=[],o=2e8,s=0;i.between(t-(e<0?1:0),t+(e>0?1:0),(a,c,{spec:h})=>{t>=a&&t<=c&&(a==c||(t>a||e>0)&&(t<c||e<0))&&(r.push(h.diagnostic),o=Math.min(a,o),s=Math.max(c,s))});let l=n.state.facet(Cb).tooltipFilter;return l&&(r=l(r)),r.length?{pos:o,end:s,above:n.state.doc.lineAt(o).to<s,create(){return{dom:iM(n,r)}}}:null}function iM(n,t){return Jt("ul",{class:"cm-tooltip-lint"},t.map(e=>Ab(n,e,!1)))}const rM=n=>{let t=n.state.field(vn,!1);(!t||!t.panel)&&n.dispatch({effects:tM(n.state,[Hu.of(!0)])});let e=Ao(n,wc.open);return e&&e.dom.querySelector(".cm-panel-lint ul").focus(),!0},gg=n=>{let t=n.state.field(vn,!1);return!t||!t.panel?!1:(n.dispatch({effects:Hu.of(!1)}),!0)},sM=n=>{let t=n.state.field(vn,!1);if(!t)return!1;let e=n.state.selection.main,i=t.diagnostics.iter(e.to+1);return!i.value&&(i=t.diagnostics.iter(0),!i.value||i.from==e.from&&i.to==e.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},oM=[{key:"Mod-Shift-m",run:rM,preventDefault:!0},{key:"F8",run:sM}],Cb=st.define({combine(n){return Object.assign({sources:n.map(t=>t.source)},ti(n.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(t,e)=>t?e?i=>t(i)||e(i):t:e}))}});function Ob(n){let t=[];if(n)t:for(let{name:e}of n){for(let i=0;i<e.length;i++){let r=e[i];if(/[a-zA-Z]/.test(r)&&!t.some(o=>o.toLowerCase()==r.toLowerCase())){t.push(r);continue t}}t.push("")}return t}function Ab(n,t,e){var i;let r=e?Ob(t.actions):[];return Jt("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},Jt("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage():t.message),(i=t.actions)===null||i===void 0?void 0:i.map((o,s)=>{let l=!1,a=u=>{if(u.preventDefault(),l)return;l=!0;let d=ys(n.state.field(vn).diagnostics,t);d&&o.apply(n,d.from,d.to)},{name:c}=o,h=r[s]?c.indexOf(r[s]):-1,f=h<0?c:[c.slice(0,h),Jt("u",c.slice(h,h+1)),c.slice(h+1)];return Jt("button",{type:"button",class:"cm-diagnosticAction",onclick:a,onmousedown:a,"aria-label":` Action: ${c}${h<0?"":` (access key "${r[s]})"`}.`},f)}),t.source&&Jt("div",{class:"cm-diagnosticSource"},t.source))}class lM extends vi{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return Jt("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class mg{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=Ab(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class wc{constructor(t){this.view=t,this.items=[];let e=r=>{if(r.keyCode==27)gg(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=Ob(o.actions);for(let l=0;l<s.length;l++)if(s[l].toUpperCase().charCodeAt(0)==r.keyCode){let a=ys(this.view.state.field(vn).diagnostics,o);a&&o.actions[l].apply(t,a.from,a.to)}}else return;r.preventDefault()},i=r=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(r.target)&&this.moveSelection(o)};this.list=Jt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e,onclick:i}),this.dom=Jt("div",{class:"cm-panel-lint"},this.list,Jt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>gg(this.view)},"")),this.update()}get selectedIndex(){let t=this.view.state.field(vn).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(vn),i=0,r=!1,o=null;for(t.between(0,this.view.state.doc.length,(s,l,{spec:a})=>{let c=-1,h;for(let f=i;f<this.items.length;f++)if(this.items[f].diagnostic==a.diagnostic){c=f;break}c<0?(h=new mg(this.view,a.diagnostic),this.items.splice(i,0,h),r=!0):(h=this.items[c],c>i&&(this.items.splice(i,c-i),r=!0)),e&&h.diagnostic==e.diagnostic?h.dom.hasAttribute("aria-selected")||(h.dom.setAttribute("aria-selected","true"),o=h):h.dom.hasAttribute("aria-selected")&&h.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new mg(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:l})=>{s.top<l.top?this.list.scrollTop-=l.top-s.top:s.bottom>l.bottom&&(this.list.scrollTop+=s.bottom-l.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let t=this.list.firstChild;function e(){let i=t;t=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;t!=i.dom;)e();t=i.dom.nextSibling}else this.list.insertBefore(i.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=this.view.state.field(vn),i=ys(e.diagnostics,this.items[t].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:wb.of(i)})}static open(t){return new wc(t)}}function aM(n,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(n)}</svg>')`}function fh(n){return aM(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const cM=et.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:fh("#d11")},".cm-lintRange-warning":{backgroundImage:fh("orange")},".cm-lintRange-info":{backgroundImage:fh("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),hM=[vn,et.decorations.compute([vn],n=>{let{selected:t,panel:e}=n.field(vn);return!t||!e||t.from==t.to?ut.none:ut.set([eM.range(t.from,t.to)])}),gA(nM,{hideOn:_T}),cM],fM=(()=>[OA(),EA(),KO(),Wk(),pk(),LO(),jO(),Pt.allowMultipleSelections.of(!0),ek(),vy(yk,{fallback:!0}),Ak(),jT(),QT(),sA(),aA(),ZO(),GE(),uc.of([...UT,...VE,...fT,...Zk,...fk,...xb,...oM])])();/*!
* VueCodemirror v6.1.1
* Copyright (c) Surmon. All rights reserved.
* Released under the MIT License.
* Surmon
*/var uM=Object.freeze({autofocus:!1,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"",autoDestroy:!0,extensions:[fM]}),dM=Symbol("vue-codemirror-global-config"),Ge,pM=function(n){var t=n.onUpdate,e=n.onChange,i=n.onFocus,r=n.onBlur,o=function(s,l){var a={};for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&l.indexOf(c)<0&&(a[c]=s[c]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function"){var h=0;for(c=Object.getOwnPropertySymbols(s);h<c.length;h++)l.indexOf(c[h])<0&&Object.prototype.propertyIsEnumerable.call(s,c[h])&&(a[c[h]]=s[c[h]])}return a}(n,["onUpdate","onChange","onFocus","onBlur"]);return Pt.create({doc:o.doc,selection:o.selection,extensions:(Array.isArray(o.extensions)?o.extensions:[o.extensions]).concat([et.updateListener.of(function(s){t(s),s.docChanged&&e(s.state.doc.toString(),s),s.focusChanged&&(s.view.hasFocus?i(s):r(s))})])})},Ur=function(n){var t=new Wo;return{compartment:t,run:function(e){t.get(n.state)?n.dispatch({effects:t.reconfigure(e)}):n.dispatch({effects:At.appendConfig.of(t.of(e))})}}},vg=function(n,t){var e=Ur(n),i=e.compartment,r=e.run;return function(o){var s=i.get(n.state);r(o??s!==t?t:[])}},Ll={type:Boolean,default:void 0},gM={autofocus:Ll,disabled:Ll,indentWithTab:Ll,tabSize:Number,placeholder:String,style:Object,autoDestroy:Ll,phrases:Object,root:Object,extensions:Array,selection:Object},mM={modelValue:{type:String,default:""}},vM=Object.assign(Object.assign({},gM),mM);(function(n){n.Change="change",n.Update="update",n.Focus="focus",n.Blur="blur",n.Ready="ready",n.ModelUpdate="update:modelValue"})(Ge||(Ge={}));var hr={};hr[Ge.Change]=function(n,t){return!0},hr[Ge.Update]=function(n){return!0},hr[Ge.Focus]=function(n){return!0},hr[Ge.Blur]=function(n){return!0},hr[Ge.Ready]=function(n){return!0};var kb={};kb[Ge.ModelUpdate]=hr[Ge.Change];var yM=Object.assign(Object.assign({},hr),kb),bM=Ji({name:"VueCodemirror",props:Object.assign({},vM),emits:Object.assign({},yM),setup:function(n,t){var e=Qs(),i=Qs(),r=Qs(),o=Object.assign(Object.assign({},uM),_r(dM,{})),s=br(function(){var l={};return Object.keys(It(n)).forEach(function(a){var c;a!=="modelValue"&&(l[a]=(c=n[a])!==null&&c!==void 0?c:o[a])}),l});return ws(function(){var l;i.value=pM({doc:n.modelValue,selection:s.value.selection,extensions:(l=o.extensions)!==null&&l!==void 0?l:[],onFocus:function(c){return t.emit(Ge.Focus,c)},onBlur:function(c){return t.emit(Ge.Blur,c)},onUpdate:function(c){return t.emit(Ge.Update,c)},onChange:function(c,h){c!==n.modelValue&&(t.emit(Ge.Change,c,h),t.emit(Ge.ModelUpdate,c,h))}}),r.value=function(c){return new et(Object.assign({},c))}({state:i.value,parent:e.value,root:s.value.root});var a=function(c){var h=function(){return c.state.doc.toString()},f=Ur(c).run,u=vg(c,[et.editable.of(!1),Pt.readOnly.of(!0)]),d=vg(c,uc.of([$E])),p=Ur(c).run,g=Ur(c).run,y=Ur(c).run,v=Ur(c).run;return{focus:function(){return c.focus()},getDoc:h,setDoc:function(m){m!==h()&&c.dispatch({changes:{from:0,to:c.state.doc.length,insert:m}})},reExtensions:f,toggleDisabled:u,toggleIndentWithTab:d,setTabSize:function(m){p([Pt.tabSize.of(m),dc.of(" ".repeat(m))])},setPhrases:function(m){g([Pt.phrases.of(m)])},setPlaceholder:function(m){y(eA(m))},setStyle:function(m){m===void 0&&(m={}),v(et.theme({"&":Object.assign({},m)}))}}}(r.value);Ke(function(){return n.modelValue},function(c){c!==a.getDoc()&&a.setDoc(c)}),Ke(function(){return n.extensions},function(c){return a.reExtensions(c||[])},{immediate:!0}),Ke(function(){return s.value.disabled},function(c){return a.toggleDisabled(c)},{immediate:!0}),Ke(function(){return s.value.indentWithTab},function(c){return a.toggleIndentWithTab(c)},{immediate:!0}),Ke(function(){return s.value.tabSize},function(c){return a.setTabSize(c)},{immediate:!0}),Ke(function(){return s.value.phrases},function(c){return a.setPhrases(c||{})},{immediate:!0}),Ke(function(){return s.value.placeholder},function(c){return a.setPlaceholder(c)},{immediate:!0}),Ke(function(){return s.value.style},function(c){return a.setStyle(c)},{immediate:!0}),s.value.autofocus&&a.focus(),t.emit(Ge.Ready,{state:i.value,view:r.value,container:e.value})}),Ho(function(){s.value.autoDestroy&&r.value&&function(l){l.destroy()}(r.value)}),function(){return ru("div",{class:"v-codemirror",style:{display:"contents"},ref:e})}}}),xM=bM;class Va{constructor(t,e,i,r,o,s,l,a,c,h=0,f){this.p=t,this.stack=e,this.state=i,this.reducePos=r,this.pos=o,this.score=s,this.buffer=l,this.bufferBase=a,this.curContext=c,this.lookAhead=h,this.parent=f}toString(){return`[${this.stack.filter((t,e)=>e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,i=0){let r=t.parser.context;return new Va(t,[],e,i,i,0,[],0,r?new yg(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let i=t>>19,r=t&65535,{parser:o}=this.p,s=o.dynamicPrecedence(r);if(s&&(this.score+=s),i==0){this.pushState(o.getGoto(this.state,r,!0),this.reducePos),r<o.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),this.reduceContext(r,this.reducePos);return}let l=this.stack.length-(i-1)*3-(t&262144?6:0),a=l?this.stack[l-2]:this.p.ranges[0].from,c=this.reducePos-a;c>=2e3&&!(!((e=this.p.parser.nodeSet.types[r])===null||e===void 0)&&e.isAnonymous)&&(a==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=a,this.p.lastBigReductionSize=c));let h=l?this.stack[l-1]:0,f=this.bufferBase+this.buffer.length-h;if(r<o.minRepeatTerm||t&131072){let u=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,a,u,f+4,!0)}if(t&262144)this.state=this.stack[l];else{let u=this.stack[l-3];this.state=o.getGoto(u,r,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(r,a)}storeNode(t,e,i,r=4,o=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,l=this.buffer.length;if(l==0&&s.parent&&(l=s.bufferBase-s.parent.bufferBase,s=s.parent),l>0&&s.buffer[l-4]==0&&s.buffer[l-1]>-1){if(e==i)return;if(s.buffer[l-2]>=e){s.buffer[l-2]=i;return}}}if(!o||this.pos==i)this.buffer.push(t,e,i,r);else{let s=this.buffer.length;if(s>0&&this.buffer[s-4]!=0)for(;s>0&&this.buffer[s-2]>i;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,r>4&&(r-=4);this.buffer[s]=t,this.buffer[s+1]=e,this.buffer[s+2]=i,this.buffer[s+3]=r}}shift(t,e,i){let r=this.pos;if(t&131072)this.pushState(t&65535,this.pos);else if(t&262144)this.pos=i,this.shiftContext(e,r),e<=this.p.parser.maxNode&&this.buffer.push(e,r,i,4);else{let o=t,{parser:s}=this.p;(i>this.pos||e<=s.maxNode)&&(this.pos=i,s.stateFlag(o,1)||(this.reducePos=i)),this.pushState(o,r),this.shiftContext(e,r),e<=s.maxNode&&this.buffer.push(e,r,i,4)}}apply(t,e,i){t&65536?this.reduce(t):this.shift(t,e,i)}useNode(t,e){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=t)&&(this.p.reused.push(t),i++);let r=this.pos;this.reducePos=this.pos=r+t.length,this.pushState(e,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let i=t.buffer.slice(e),r=t.bufferBase+e;for(;t&&r==t.bufferBase;)t=t.parent;return new Va(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let i=t<=this.p.parser.maxNode;i&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,i?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new SM(this);;){let i=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(i==0)return!1;if(!(i&65536))return!0;e.reduce(i)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>4<<1||this.stack.length>=120){let r=[];for(let o=0,s;o<e.length;o+=2)(s=e[o+1])!=this.state&&this.p.parser.hasAction(s,t)&&r.push(e[o],s);if(this.stack.length<120)for(let o=0;r.length<4<<1&&o<e.length;o+=2){let s=e[o+1];r.some((l,a)=>a&1&&l==s)||r.push(e[o],s)}e=r}let i=[];for(let r=0;r<e.length&&i.length<4;r+=2){let o=e[r+1];if(o==this.state)continue;let s=this.split();s.pushState(o,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(e[r],this.pos),s.score-=200,i.push(s)}return i}forceReduce(){let t=this.p.parser.stateSlot(this.state,5);if(!(t&65536))return!1;let{parser:e}=this.p;if(!e.validAction(this.state,t)){let i=t>>19,r=t&65535,o=this.stack.length-i*3;if(o<0||e.getGoto(this.stack[o],r,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new yg(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class yg{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}var bg;(function(n){n[n.Insert=200]="Insert",n[n.Delete=190]="Delete",n[n.Reduce=100]="Reduce",n[n.MaxNext=4]="MaxNext",n[n.MaxInsertStackDepth=300]="MaxInsertStackDepth",n[n.DampenInsertStackDepth=120]="DampenInsertStackDepth",n[n.MinBigReduction=2e3]="MinBigReduction"})(bg||(bg={}));class SM{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=t&65535,i=t>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=r}}class $a{constructor(t,e,i){this.stack=t,this.pos=e,this.index=i,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new $a(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new $a(this.stack,this.pos,this.index)}}function Nl(n,t=Uint16Array){if(typeof n!="string")return n;let e=null;for(let i=0,r=0;i<n.length;){let o=0;for(;;){let s=n.charCodeAt(i++),l=!1;if(s==126){o=65535;break}s>=92&&s--,s>=34&&s--;let a=s-32;if(a>=46&&(a-=46,l=!0),o+=a,l)break;o*=46}e?e[r++]=o:e=new t(o)}return e}class Zl{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const xg=new Zl;class wM{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=xg,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let i=this.range,r=this.rangeIndex,o=this.pos+t;for(;o<i.from;){if(!r)return null;let s=this.ranges[--r];o-=i.from-s.to,i=s}for(;e<0?o>i.to:o>=i.to;){if(r==this.ranges.length-1)return null;let s=this.ranges[++r];o+=s.from-i.to,i=s}return o}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e=this.chunkOff+t,i,r;if(e>=0&&e<this.chunk.length)i=this.pos+t,r=this.chunk.charCodeAt(e);else{let o=this.resolveOffset(t,1);if(o==null)return-1;if(i=o,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let s=this.rangeIndex,l=this.range;for(;l.to<=i;)l=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>l.to&&(this.chunk2=this.chunk2.slice(0,l.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(t,e=0){let i=e?this.resolveOffset(e,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=xg,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let i="";for(let r of this.ranges){if(r.from>=e)break;r.to>t&&(i+=this.input.read(Math.max(r.from,t),Math.min(r.to,e)))}return i}}class ss{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:i}=e.p;CM(this.data,t,e,this.id,i.data,i.tokenPrecTable)}}ss.prototype.contextual=ss.prototype.fallback=ss.prototype.extend=!1;ss.prototype.fallback=ss.prototype.extend=!1;function CM(n,t,e,i,r,o){let s=0,l=1<<i,{dialect:a}=e.p.parser;t:for(;l&n[s];){let c=n[s+1];for(let d=s+3;d<c;d+=2)if((n[d+1]&l)>0){let p=n[d];if(a.allows(p)&&(t.token.value==-1||t.token.value==p||OM(p,t.token.value,r,o))){t.acceptToken(p);break}}let h=t.next,f=0,u=n[s+2];if(t.next<0&&u>f&&n[c+u*3-3]==65535&&n[c+u*3-3]==65535){s=n[c+u*3-1];continue t}for(;f<u;){let d=f+u>>1,p=c+d+(d<<1),g=n[p],y=n[p+1]||65536;if(h<g)u=d;else if(h>=y)f=d+1;else{s=n[p+2],t.advance();continue t}}break}}function Sg(n,t,e){for(let i=t,r;(r=n[i])!=65535;i++)if(r==e)return i-t;return-1}function OM(n,t,e,i){let r=Sg(e,i,t);return r<0||Sg(e,i,n)<r}const In=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let uh=null;var wg;(function(n){n[n.Margin=25]="Margin"})(wg||(wg={}));function Cg(n,t,e){let i=n.cursor(Me.IncludeAnonymous);for(i.moveTo(t);;)if(!(e<0?i.childBefore(t):i.childAfter(t)))for(;;){if((e<0?i.to<t:i.from>t)&&!i.type.isError)return e<0?Math.max(0,Math.min(i.to-1,t-25)):Math.min(n.length,Math.max(i.from+1,t+25));if(e<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return e<0?0:n.length}}class AM{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?Cg(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?Cg(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let i=this.trees[e],r=this.index[e];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=i.children[r],s=this.start[e]+i.positions[r];if(s>t)return this.nextStart=s,null;if(o instanceof ye){if(s==t){if(s<this.safeFrom)return null;let l=s+o.length;if(l<=this.safeTo){let a=o.prop(Mt.lookAhead);if(!a||l+a<this.fragment.to)return o}}this.index[e]++,s+o.length>=Math.max(this.safeFrom,t)&&(this.trees.push(o),this.start.push(s),this.index.push(0))}else this.index[e]++,this.nextStart=s+o.length}}}class kM{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(i=>new Zl)}getActions(t){let e=0,i=null,{parser:r}=t.p,{tokenizers:o}=r,s=r.stateSlot(t.state,3),l=t.curContext?t.curContext.hash:0,a=0;for(let c=0;c<o.length;c++){if(!(1<<c&s))continue;let h=o[c],f=this.tokens[c];if(!(i&&!h.fallback)&&((h.contextual||f.start!=t.pos||f.mask!=s||f.context!=l)&&(this.updateCachedToken(f,h,t),f.mask=s,f.context=l),f.lookAhead>f.end+25&&(a=Math.max(f.lookAhead,a)),f.value!=0)){let u=e;if(f.extended>-1&&(e=this.addActions(t,f.extended,f.end,e)),e=this.addActions(t,f.value,f.end,e),!h.extend&&(i=f,e>u))break}}for(;this.actions.length>e;)this.actions.pop();return a&&t.setLookAhead(a),!i&&t.pos==this.stream.end&&(i=new Zl,i.value=t.p.parser.eofTerm,i.start=i.end=t.pos,e=this.addActions(t,i.value,i.end,e)),this.mainToken=i,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new Zl,{pos:i,p:r}=t;return e.start=i,e.end=Math.min(i+1,r.stream.end),e.value=i==r.stream.end?r.parser.eofTerm:0,e}updateCachedToken(t,e,i){let r=this.stream.clipPos(i.pos);if(e.token(this.stream.reset(r,t),i),t.value>-1){let{parser:o}=i.p;for(let s=0;s<o.specialized.length;s++)if(o.specialized[s]==t.value){let l=o.specializers[s](this.stream.read(t.start,t.end),i);if(l>=0&&i.p.parser.dialect.allows(l>>1)){l&1?t.extended=l>>1:t.value=l>>1;break}}}else t.value=0,t.end=this.stream.clipPos(r+1)}putAction(t,e,i,r){for(let o=0;o<r;o+=3)if(this.actions[o]==t)return r;return this.actions[r++]=t,this.actions[r++]=e,this.actions[r++]=i,r}addActions(t,e,i,r){let{state:o}=t,{parser:s}=t.p,{data:l}=s;for(let a=0;a<2;a++)for(let c=s.stateSlot(o,a?2:1);;c+=3){if(l[c]==65535)if(l[c+1]==1)c=si(l,c+2);else{r==0&&l[c+1]==2&&(r=this.putAction(si(l,c+2),e,i,r));break}l[c]==e&&(r=this.putAction(si(l,c+1),e,i,r))}return r}}var Og;(function(n){n[n.Distance=5]="Distance",n[n.MaxRemainingPerStep=3]="MaxRemainingPerStep",n[n.MinBufferLengthPrune=500]="MinBufferLengthPrune",n[n.ForceReduceLimit=10]="ForceReduceLimit",n[n.CutDepth=15e3]="CutDepth",n[n.CutTo=9e3]="CutTo",n[n.MaxLeftAssociativeReductionCount=300]="MaxLeftAssociativeReductionCount",n[n.MaxStackCount=12]="MaxStackCount"})(Og||(Og={}));class EM{constructor(t,e,i,r){this.parser=t,this.input=e,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new wM(e,r),this.tokens=new kM(t,this.stream),this.topTerm=t.top[1];let{from:o}=r[0];this.stacks=[Va.start(this,t.top[0],o)],this.fragments=i.length&&this.stream.end-o>t.bufferLength*4?new AM(i,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,e=this.minStackPos,i=this.stacks=[],r,o;if(this.bigReductionCount>300&&t.length==1){let[s]=t;for(;s.forceReduce()&&s.stack.length&&s.stack[s.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<t.length;s++){let l=t[s];for(;;){if(this.tokens.mainToken=null,l.pos>e)i.push(l);else{if(this.advanceStack(l,i,t))continue;{r||(r=[],o=[]),r.push(l);let a=this.tokens.getMainToken(l);o.push(a.value,a.end)}}break}}if(!i.length){let s=r&&MM(r);if(s)return this.stackToTree(s);if(this.parser.strict)throw In&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+e);this.recovering||(this.recovering=5)}if(this.recovering&&r){let s=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,o,i);if(s)return this.stackToTree(s.forceAll())}if(this.recovering){let s=this.recovering==1?1:this.recovering*3;if(i.length>s)for(i.sort((l,a)=>a.score-l.score);i.length>s;)i.pop();i.some(l=>l.reducePos>e)&&this.recovering--}else if(i.length>1){t:for(let s=0;s<i.length-1;s++){let l=i[s];for(let a=s+1;a<i.length;a++){let c=i[a];if(l.sameState(c)||l.buffer.length>500&&c.buffer.length>500)if((l.score-c.score||l.buffer.length-c.buffer.length)>0)i.splice(a--,1);else{i.splice(s--,1);continue t}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let s=1;s<i.length;s++)i[s].pos<this.minStackPos&&(this.minStackPos=i[s].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,i){let r=t.pos,{parser:o}=this,s=In?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let c=t.curContext&&t.curContext.tracker.strict,h=c?t.curContext.hash:0;for(let f=this.fragments.nodeAt(r);f;){let u=this.parser.nodeSet.types[f.type.id]==f.type?o.getGoto(t.state,f.type.id):-1;if(u>-1&&f.length&&(!c||(f.prop(Mt.contextHash)||0)==h))return t.useNode(f,u),In&&console.log(s+this.stackID(t)+` (via reuse of ${o.getName(f.type.id)})`),!0;if(!(f instanceof ye)||f.children.length==0||f.positions[0]>0)break;let d=f.children[0];if(d instanceof ye&&f.positions[0]==0)f=d;else break}}let l=o.stateSlot(t.state,4);if(l>0)return t.reduce(l),In&&console.log(s+this.stackID(t)+` (via always-reduce ${o.getName(l&65535)})`),!0;if(t.stack.length>=15e3)for(;t.stack.length>9e3&&t.forceReduce(););let a=this.tokens.getActions(t);for(let c=0;c<a.length;){let h=a[c++],f=a[c++],u=a[c++],d=c==a.length||!i,p=d?t:t.split();if(p.apply(h,f,u),In&&console.log(s+this.stackID(p)+` (via ${h&65536?`reduce of ${o.getName(h&65535)}`:"shift"} for ${o.getName(f)} @ ${r}${p==t?"":", split"})`),d)return!0;p.pos>r?e.push(p):i.push(p)}return!1}advanceFully(t,e){let i=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>i)return Ag(t,e),!0}}runRecovery(t,e,i){let r=null,o=!1;for(let s=0;s<t.length;s++){let l=t[s],a=e[s<<1],c=e[(s<<1)+1],h=In?this.stackID(l)+" -> ":"";if(l.deadEnd&&(o||(o=!0,l.restart(),In&&console.log(h+this.stackID(l)+" (restarted)"),this.advanceFully(l,i))))continue;let f=l.split(),u=h;for(let d=0;f.forceReduce()&&d<10&&(In&&console.log(u+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,i));d++)In&&(u=this.stackID(f)+" -> ");for(let d of l.recoverByInsert(a))In&&console.log(h+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,i);this.stream.end>l.pos?(c==l.pos&&(c++,a=0),l.recoverByDelete(a,c),In&&console.log(h+this.stackID(l)+` (via recover-delete ${this.parser.getName(a)})`),Ag(l,i)):(!r||r.score<l.score)&&(r=l)}return r}stackToTree(t){return t.close(),ye.build({buffer:$a.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(uh||(uh=new WeakMap)).get(t);return e||uh.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function Ag(n,t){for(let e=0;e<t.length;e++){let i=t[e];if(i.pos==n.pos&&i.sameState(n)){t[e].score<n.score&&(t[e]=n);return}}t.push(n)}class TM{constructor(t,e,i){this.source=t,this.flags=e,this.disabled=i}allows(t){return!this.disabled||this.disabled[t]==0}}class Wa extends ny{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let l=0;l<t.repeatNodeCount;l++)e.push("");let i=Object.keys(t.topRules).map(l=>t.topRules[l][1]),r=[];for(let l=0;l<e.length;l++)r.push([]);function o(l,a,c){r[l].push([a,a.deserialize(String(c))])}if(t.nodeProps)for(let l of t.nodeProps){let a=l[0];typeof a=="string"&&(a=Mt[a]);for(let c=1;c<l.length;){let h=l[c++];if(h>=0)o(h,a,l[c++]);else{let f=l[c+-h];for(let u=-h;u>0;u--)o(l[c++],a,f);c++}}}this.nodeSet=new Cu(e.map((l,a)=>an.define({name:a>=this.minRepeatTerm?void 0:l,id:a,props:r[a],top:i.indexOf(a)>-1,error:a==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(a)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=_v;let s=Nl(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let l=0;l<this.specializerSpecs.length;l++)this.specialized[l]=this.specializerSpecs[l].term;this.specializers=this.specializerSpecs.map(kg),this.states=Nl(t.states,Uint32Array),this.data=Nl(t.stateData),this.goto=Nl(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(l=>typeof l=="number"?new ss(s,l):l),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,i){let r=new EM(this,t,e,i);for(let o of this.wrappers)r=o(r,t,e,i);return r}getGoto(t,e,i=!1){let r=this.goto;if(e>=r[0])return-1;for(let o=r[e+1];;){let s=r[o++],l=s&1,a=r[o++];if(l&&i)return a;for(let c=o+(s>>1);o<c;o++)if(r[o]==t)return a;if(l)return-1}}hasAction(t,e){let i=this.data;for(let r=0;r<2;r++)for(let o=this.stateSlot(t,r?2:1),s;;o+=3){if((s=i[o])==65535)if(i[o+1]==1)s=i[o=si(i,o+2)];else{if(i[o+1]==2)return si(i,o+2);break}if(s==e||s==0)return si(i,o+1)}return 0}stateSlot(t,e){return this.states[t*6+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){if(e==this.stateSlot(t,4))return!0;for(let i=this.stateSlot(t,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=si(this.data,i+2);else return!1;if(e==si(this.data,i+1))return!0}}nextStates(t){let e=[];for(let i=this.stateSlot(t,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=si(this.data,i+2);else break;if(!(this.data[i+2]&1)){let r=this.data[i+1];e.some((o,s)=>s&1&&o==r)||e.push(this.data[i],r)}}return e}configure(t){let e=Object.assign(Object.create(Wa.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let i=this.topRules[t.top];if(!i)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=i}return t.tokenizers&&(e.tokenizers=this.tokenizers.map(i=>{let r=t.tokenizers.find(o=>o.from==i);return r?r.to:i})),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map((i,r)=>{let o=t.specializers.find(l=>l.from==i.external);if(!o)return i;let s=Object.assign(Object.assign({},i),{external:o.to});return e.specializers[r]=kg(s),s})),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),t.bufferLength!=null&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return e==null?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),i=e.map(()=>!1);if(t)for(let o of t.split(" ")){let s=e.indexOf(o);s>=0&&(i[s]=!0)}let r=null;for(let o=0;o<e.length;o++)if(!i[o])for(let s=this.dialects[e[o]],l;(l=this.data[s++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[l]=1;return new TM(t,i,r)}static deserialize(t){return new Wa(t)}}function si(n,t){return n[t]|n[t+1]<<16}function MM(n){let t=null;for(let e of n){let i=e.p.stoppedAt;(e.pos==e.p.stream.end||i!=null&&e.pos>i)&&e.p.parser.stateFlag(e.state,2)&&(!t||t.score<e.score)&&(t=e)}return t}function kg(n){if(n.external){let t=n.extend?1:0;return(e,i)=>n.external(e,i)<<1|t}return n.get}const DM=iy({String:F.string,Number:F.number,"True False":F.bool,PropertyName:F.propertyName,Null:F.null,",":F.separator,"[ ]":F.squareBracket,"{ }":F.brace}),PM=Wa.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[DM],skippedNodes:[0],repeatNodeCount:2,tokenData:"(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),IM=Ea.define({name:"json",parser:PM.configure({props:[ly.add({Object:zp({except:/^\s*\}/}),Array:zp({except:/^\s*\]/})}),cy.add({"Object Array":ik})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function RM(){return new KA(IM)}const LM="#e5c07b",Eg="#e06c75",NM="#56b6c2",BM="#ffffff",ql="#abb2bf",Mf="#7d8799",FM="#61afef",HM="#98c379",Tg="#d19a66",jM="#c678dd",VM="#21252b",Mg="#2c313a",Dg="#282c34",dh="#353a42",$M="#3E4451",Pg="#528bff",WM=et.theme({"&":{color:ql,backgroundColor:Dg},".cm-content":{caretColor:Pg},".cm-cursor, .cm-dropCursor":{borderLeftColor:Pg},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:$M},".cm-panels":{backgroundColor:VM,color:ql},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Dg,color:Mf,border:"none"},".cm-activeLineGutter":{backgroundColor:Mg},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:dh},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:dh,borderBottomColor:dh},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Mg,color:ql}}},{dark:!0}),UM=Yo.define([{tag:F.keyword,color:jM},{tag:[F.name,F.deleted,F.character,F.propertyName,F.macroName],color:Eg},{tag:[F.function(F.variableName),F.labelName],color:FM},{tag:[F.color,F.constant(F.name),F.standard(F.name)],color:Tg},{tag:[F.definition(F.name),F.separator],color:ql},{tag:[F.typeName,F.className,F.number,F.changed,F.annotation,F.modifier,F.self,F.namespace],color:LM},{tag:[F.operator,F.operatorKeyword,F.url,F.escape,F.regexp,F.link,F.special(F.string)],color:NM},{tag:[F.meta,F.comment],color:Mf},{tag:F.strong,fontWeight:"bold"},{tag:F.emphasis,fontStyle:"italic"},{tag:F.strikethrough,textDecoration:"line-through"},{tag:F.link,color:Mf,textDecoration:"underline"},{tag:F.heading,fontWeight:"bold",color:Eg},{tag:[F.atom,F.bool,F.special(F.variableName)],color:Tg},{tag:[F.processingInstruction,F.string,F.inserted],color:HM},{tag:F.invalid,color:BM}]),zM=[WM,vy(UM)],KM=Ji({components:{Codemirror:xM},props:{code:{type:Object,default:"console.log('Hello, world!')"}},setup(n){const t=[RM(),zM],e=Qs(),i=r=>{e.value=r.view};return{code:JSON.stringify(n.code,null,4),extensions:t,handleReady:i,log:console.log}}}),Jo=(n,t)=>{const e=n.__vccOpts||n;for(const[i,r]of t)e[i]=r;return e};function GM(n,t,e,i,r,o){const s=Sm("codemirror");return Lt(),Mi(s,{modelValue:n.code,"onUpdate:modelValue":t[0]||(t[0]=l=>n.code=l),placeholder:"Code goes here...",style:{height:"78vh"},autofocus:!1,"indent-with-tab":!0,"tab-size":4,extensions:n.extensions,onReady:n.handleReady,onChange:t[1]||(t[1]=l=>n.log("change",l)),onFocus:t[2]||(t[2]=l=>n.log("focus",l)),onBlur:t[3]||(t[3]=l=>n.log("blur",l)),class:"m-12"},null,8,["modelValue","extensions","onReady"])}const YM=Jo(KM,[["render",GM]]),XM={},JM={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-10 h-10"},QM=ht("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5",class:"text-gray-100"},null,-1),ZM=[QM];function qM(n,t){return Lt(),Kt("svg",JM,ZM)}const _M=Jo(XM,[["render",qM]]),tD={},eD={class:"text-4xl font-bold text-center text-gray-100 mt-6 mb-12"};function nD(n,t){return Lt(),Kt("h1",eD,[jo(n.$slots,"default")])}const iD=Jo(tD,[["render",nD]]),rD={},sD={class:"text-2xl font-bold text-gray-100 mt-6 mb-4"};function oD(n,t){return Lt(),Kt("h2",sD,[jo(n.$slots,"default")])}const Bs=Jo(rD,[["render",oD]]),lD={},aD={class:"text-md font-bold text-gray-100 mt-4 mb-4"};function cD(n,t){return Lt(),Kt("h3",aD,[jo(n.$slots,"default")])}const Fs=Jo(lD,[["render",cD]]),hD={class:"flex items-center justify-center flex-row"},fD={key:0,class:"text-gray-800 ml-2"},uD=ht("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),dD=[uD],Ig=Ji({__name:"Kbd",props:{deletable:{type:Boolean,default:!1}},setup(n){return(t,e)=>(Lt(),Kt("div",{class:Pr(["bg-gray-100 p-2 rounded shadow shadow-gray-400 mr-4 w-fit inline-block transition ease-in-out",{"cursor-pointer hover:bg-gray-200":n.deletable}])},[ht("div",hD,[ht("div",null,[jo(t.$slots,"default")]),n.deletable?(Lt(),Kt("div",fD,dD)):ur("",!0)])],2))}});var Df=(n=>(n.BackspaceKey="BackspaceKey",n.TabKey="TabKey",n.EnterKey="EnterKey",n.EscapeKey="EscapeKey",n.SpaceKey="SpaceKey",n.PageUpKey="PageUpKey",n.PageDownKey="PageDownKey",n.EndKey="EndKey",n.HomeKey="HomeKey",n.LeftKey="LeftKey",n.UpKey="UpKey",n.RightKey="RightKey",n.DownKey="DownKey",n.InsertKey="InsertKey",n.DeleteKey="DeleteKey",n.Numrow0Key="Numrow0Key",n.Numrow1Key="Numrow1Key",n.Numrow2Key="Numrow2Key",n.Numrow3Key="Numrow3Key",n.Numrow4Key="Numrow4Key",n.Numrow5Key="Numrow5Key",n.Numrow6Key="Numrow6Key",n.Numrow7Key="Numrow7Key",n.Numrow8Key="Numrow8Key",n.Numrow9Key="Numrow9Key",n.AKey="AKey",n.BKey="BKey",n.CKey="CKey",n.DKey="DKey",n.EKey="EKey",n.FKey="FKey",n.GKey="GKey",n.HKey="HKey",n.IKey="IKey",n.JKey="JKey",n.KKey="KKey",n.LKey="LKey",n.MKey="MKey",n.NKey="NKey",n.OKey="OKey",n.PKey="PKey",n.QKey="QKey",n.RKey="RKey",n.SKey="SKey",n.TKey="TKey",n.UKey="UKey",n.VKey="VKey",n.WKey="WKey",n.XKey="XKey",n.YKey="YKey",n.ZKey="ZKey",n.LSuper="LSuper",n.RSuper="RSuper",n.Numpad0Key="Numpad0Key",n.Numpad1Key="Numpad1Key",n.Numpad2Key="Numpad2Key",n.Numpad3Key="Numpad3Key",n.Numpad4Key="Numpad4Key",n.Numpad5Key="Numpad5Key",n.Numpad6Key="Numpad6Key",n.Numpad7Key="Numpad7Key",n.Numpad8Key="Numpad8Key",n.Numpad9Key="Numpad9Key",n.F1Key="F1Key",n.F2Key="F2Key",n.F3Key="F3Key",n.F4Key="F4Key",n.F5Key="F5Key",n.F6Key="F6Key",n.F7Key="F7Key",n.F8Key="F8Key",n.F9Key="F9Key",n.F10Key="F10Key",n.F11Key="F11Key",n.F12Key="F12Key",n.F13Key="F13Key",n.F14Key="F14Key",n.F15Key="F15Key",n.F16Key="F16Key",n.F17Key="F17Key",n.F18Key="F18Key",n.F19Key="F19Key",n.F20Key="F20Key",n.F21Key="F21Key",n.F22Key="F22Key",n.F23Key="F23Key",n.F24Key="F24Key",n.NumLockKey="NumLockKey",n.ScrollLockKey="ScrollLockKey",n.CapsLockKey="CapsLockKey",n.LShiftKey="LShiftKey",n.RShiftKey="RShiftKey",n.LControlKey="LControlKey",n.RControlKey="RControlKey",n.LAltKey="LAltKey",n.RAltKey="RAltKey",n.BrowserBackKey="BrowserBackKey",n.BrowserForwardKey="BrowserForwardKey",n.BrowserRefreshKey="BrowserRefreshKey",n.VolumeMuteKey="VolumeMuteKey",n.VolumeDownKey="VolumeDownKey",n.VolumeUpKey="VolumeUpKey",n.MediaNextTrackKey="MediaNextTrackKey",n.MediaPrevTrackKey="MediaPrevTrackKey",n.MediaStopKey="MediaStopKey",n.MediaPlayPauseKey="MediaPlayPauseKey",n.BackquoteKey="BackquoteKey",n.SlashKey="SlashKey",n.BackslashKey="BackslashKey",n.CommaKey="CommaKey",n.PeriodKey="PeriodKey",n.MinusKey="MinusKey",n.QuoteKey="QuoteKey",n.SemicolonKey="SemicolonKey",n.LBracketKey="LBracketKey",n.RBracketKey="RBracketKey",n.EqualKey="EqualKey",n))(Df||{});const pD={class:"p-4"},gD={class:"p-3 grid grid-cols-2 gap-8"},mD=ht("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-2"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6m0 0v6m0-6h6m-6 0H6",class:"text-gray-800"})],-1),vD=ht("span",{class:"text-gray-800"},"New Shortcut",-1),yD=[mD,vD],bD=["onClick"],xD={class:"flex flex-col items-left justify-center gap-7"},SD={class:"text-xl font-bold"},wD={class:"text-lg"},CD=["onClick"],OD=ht("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),AD=[OD],kD={key:0},ED={class:"my-4"},TD={class:"mt-6 flex"},MD={id:"add-keys-list"},DD=["value"],PD=ht("span",{class:"text-gray-800"},"Add",-1),ID=[PD],RD={key:0},LD={class:"list-disc text-gray-300"},ND={class:"flex items-center justify-center my-4"},BD=["value"],FD=ht("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-2"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6m0 0v6m0-6h6m-6 0H6",class:"text-gray-800"})],-1),HD=ht("span",{class:"text-gray-800"},"Add Action",-1),jD=[FD,HD],VD={class:"flex flex-col items-center justify-center"},$D={key:1,class:"flex items-center justify-center my-4"},WD=["value"],UD=ht("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-2"},[ht("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6m0 0v6m0-6h6m-6 0H6",class:"text-gray-800"})],-1),zD=ht("span",{class:"text-gray-800"},"Add Action",-1),KD=[UD,zD],GD=Ji({__name:"App",setup(n){const t={...Rd,keyboard_shortcuts:Rd.keyboard_shortcuts.map(g=>({...g,actions:g.actions.map(y=>({...y,id:Math.random()}))}))},e=Ti(!1),i=Ti(""),r=No(t),o=Ti(0),s=Ti("debug"),l=localStorage.getItem("state-configuration");if(l){const g=JSON.parse(l);r.keyboard_shortcuts=g.keyboard_shortcuts,r.openai_api_key=g.openai_api_key}const a=localStorage.getItem("state-editedShortcutIndex");a&&(o.value=parseInt(a)),Ke(r,(g,y)=>localStorage.setItem("state-configuration",JSON.stringify(g))),Ke(o,(g,y)=>localStorage.setItem("state-editedShortcutIndex",g+""));const c=br(()=>({animation:200,group:"description",disabled:!1,ghostClass:"ghost"})),h=br(()=>o.value===null?[]:r.keyboard_shortcuts[o.value].actions.filter(g=>g.action==="set_variable"&&g.name!=="").map(g=>g.name).reduce((g,y)=>(g.includes(y)||g.push(y),g),[])),f=br(()=>{const g=JSON.parse(JSON.stringify(r));return g.keyboard_shortcuts=g.keyboard_shortcuts.map(y=>({...y,actions:y.actions.map(v=>{const{id:m,...b}=v;return b})})),g}),u=()=>{r.keyboard_shortcuts.push({description:"Open the browser",keys:[],actions:[]})},d=(g,y)=>{Object.values(Df).includes(y)&&r.keyboard_shortcuts[g].keys.push(y)},p=(g,y,v)=>{const m={...Object.values(oo[y].args).reduce((b,x)=>(b[x.name]="",b),{}),id:Math.random(),action:y};v==="START"?r.keyboard_shortcuts[g].actions.unshift(m):v==="END"&&r.keyboard_shortcuts[g].actions.push(m)};return(g,y)=>(Lt(),Kt("div",pD,[Tt(iD,null,{default:Oe(()=>[Ne("Shortcut Hero")]),_:1}),ht("div",gD,[ht("div",null,[Tt(Bs,null,{default:Oe(()=>[Ne("General")]),_:1}),Tt(Fs,null,{default:Oe(()=>[Ne("OpenAI API Key")]),_:1}),or(ht("input",{type:"text",class:"w-full p-2 rounded-md border border-gray-300 bg-gray-100 text-gray-800","onUpdate:modelValue":y[0]||(y[0]=v=>r.openai_api_key=v)},null,512),[[Fi,r.openai_api_key]]),Tt(Bs,null,{default:Oe(()=>[Ne("Shortcuts")]),_:1}),ht("button",{class:"bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center",onClick:u},yD),(Lt(!0),Kt(qt,null,ri(r.keyboard_shortcuts,({description:v,keys:m,actions:b},x)=>(Lt(),Kt("div",{key:`${x}-${b.map(S=>S.id).join("-")}`,class:Pr(["my-4 p-5 bg-white rounded-lg shadow shadow-gray-600 flex items-center justify-between transition ease-in-out hover:-translate-y-1 hover:shadow-xl hover:bg-gray-100 cursor-pointer",{"bg-gradient-to-r from-orange-200 to-pink-200":o.value===x}]),onClick:S=>o.value=x},[ht("div",xD,[ht("div",SD,"Shortcut #"+Sn(x+1),1),ht("div",wD,Sn(v),1),ht("div",null,[(Lt(!0),Kt(qt,null,ri(m,S=>(Lt(),Mi(Ig,{key:S},{default:Oe(()=>[Ne(Sn(S),1)]),_:2},1024))),128))])]),ht("button",{onClick:o0(()=>{o.value=null,r.keyboard_shortcuts.splice(x,1)},["stop"]),class:"text-gray-800 ml-2 cursor-pointer"},AD,8,CD)],10,bD))),128)),Tt(Bs,null,{default:Oe(()=>[Ne("Configuration File")]),_:1}),(Lt(),Mi(YM,{code:ze(f),key:ze(f)},null,8,["code"]))]),o.value!==null?(Lt(),Kt("div",kD,[Tt(Bs,null,{default:Oe(()=>[Ne("Edit Shortcut #"+Sn(o.value+1),1)]),_:1}),Tt(Fs,null,{default:Oe(()=>[Ne("Description")]),_:1}),or(ht("textarea",{type:"text",class:"w-full p-2 rounded-md border border-gray-300 bg-gray-100 text-gray-800",rows:"4","onUpdate:modelValue":y[1]||(y[1]=v=>r.keyboard_shortcuts[o.value].description=v)},null,512),[[Fi,r.keyboard_shortcuts[o.value].description]]),Tt(Fs,null,{default:Oe(()=>[Ne("Keys")]),_:1}),ht("div",null,[ht("div",ED,[(Lt(!0),Kt(qt,null,ri(r.keyboard_shortcuts[o.value].keys,(v,m)=>(Lt(),Mi(Ig,{key:`${v}-${m}`,class:"text-xl",deletable:"",onClick:b=>r.keyboard_shortcuts[o.value].keys.splice(m,1)},{default:Oe(()=>[Ne(Sn(v),1)]),_:2},1032,["onClick"]))),128))]),ht("div",TD,[or(ht("input",{list:"add-keys-list",class:"bg-gray-100 p-2 rounded shadow shadow-gray-400 mr-4",id:"add-keys-choice",name:"add-keys-choice",placeholder:"Add a key...","onUpdate:modelValue":y[2]||(y[2]=v=>i.value=v)},null,512),[[Fi,i.value]]),ht("datalist",MD,[(Lt(!0),Kt(qt,null,ri(Object.values(ze(Df)),v=>(Lt(),Kt("option",{key:v,value:v},null,8,DD))),128))]),ht("button",{class:"bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded flex items-center",onClick:y[3]||(y[3]=v=>d(o.value,i.value))},ID)])]),Tt(Bs,null,{default:Oe(()=>[Ne("Actions")]),_:1}),ze(h).length>0?(Lt(),Kt("div",RD,[Tt(Fs,null,{default:Oe(()=>[Ne("Variables")]),_:1}),ht("ul",LD,[(Lt(!0),Kt(qt,null,ri(ze(h),v=>(Lt(),Kt("li",{key:v,class:"ml-6 mt-1"},[ht("code",null,Sn(v),1)]))),128))])])):ur("",!0),Tt(Fs,null,{default:Oe(()=>[Ne("Flow")]),_:1}),ht("div",ND,[or(ht("select",{class:"bg-gray-100 p-2 rounded shadow shadow-gray-400 mr-4","onUpdate:modelValue":y[4]||(y[4]=v=>s.value=v)},[(Lt(!0),Kt(qt,null,ri(ze(oo),(v,m)=>(Lt(),Kt("option",{key:`${m}-${v.description}`,value:v.action},Sn(v.description),9,BD))),128))],512),[[la,s.value]]),ht("button",{class:"bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center",onClick:y[5]||(y[5]=v=>p(o.value,s.value,"START"))},jD)]),Tt(ze(Dw),iu({class:"flex items-center justify-center flex-col",modelValue:r.keyboard_shortcuts[o.value].actions,"onUpdate:modelValue":y[6]||(y[6]=v=>r.keyboard_shortcuts[o.value].actions=v)},ze(c),{onStart:y[7]||(y[7]=v=>e.value=!0),onEnd:y[8]||(y[8]=v=>e.value=!1),"item-key":"id"}),{item:Oe(({element:v,index:m})=>[ht("div",VD,[Tt(zw,{onDelete:b=>r.keyboard_shortcuts[o.value].actions.splice(m,1),action:v,index:m},null,8,["onDelete","action","index"]),m<r.keyboard_shortcuts[o.value].actions.length-1?(Lt(),Mi(_M,{key:0})):ur("",!0)])]),_:1},16,["modelValue"]),r.keyboard_shortcuts[o.value].actions.length>0?(Lt(),Kt("div",$D,[or(ht("select",{class:"bg-gray-100 p-2 rounded shadow shadow-gray-400 mr-4","onUpdate:modelValue":y[9]||(y[9]=v=>s.value=v)},[(Lt(!0),Kt(qt,null,ri(ze(oo),(v,m)=>(Lt(),Kt("option",{key:`${m}-${v.description}`,value:v.action},Sn(v.description),9,WD))),128))],512),[[la,s.value]]),ht("button",{class:"bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center",onClick:y[10]||(y[10]=v=>p(o.value,s.value,"END"))},KD)])):ur("",!0)])):ur("",!0)])]))}});u0(GD).mount("#app");
